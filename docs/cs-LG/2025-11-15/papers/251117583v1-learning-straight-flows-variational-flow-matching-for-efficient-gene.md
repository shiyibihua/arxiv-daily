---
layout: default
title: Learning Straight Flows: Variational Flow Matching for Efficient Generation
---

# Learning Straight Flows: Variational Flow Matching for Efficient Generation

<div class="paper-toolbar">
  <a href="https://arxiv.org/abs/2511.17583" class="toolbar-btn" target="_blank">ğŸ“„ arXiv: 2511.17583v1</a>
  <a href="https://arxiv.org/pdf/2511.17583.pdf" class="toolbar-btn" target="_blank">ğŸ“¥ PDF</a>
  <button class="toolbar-btn favorite-btn" data-arxiv-id="2511.17583v1" onclick="toggleFavorite(this, '2511.17583v1', 'Learning Straight Flows: Variational Flow Matching for Efficient Generation')" title="æ·»åŠ åˆ°æ”¶è—å¤¹">â˜† æ”¶è—</button>
  <button class="toolbar-btn" onclick="copyLinkToClipboard(this)">ğŸ”— åˆ†äº«</button>
</div>


**ä½œè€…**: Chenrui Ma, Xi Xiao, Tianyang Wang, Xiao Wang, Yanning Shen

**åˆ†ç±»**: cs.LG, cs.CV

**å‘å¸ƒæ—¥æœŸ**: 2025-11-15

---

## ğŸ’¡ ä¸€å¥è¯è¦ç‚¹

**æå‡ºS-VFMï¼Œé€šè¿‡å˜åˆ†æµåŒ¹é…å®ç°é«˜æ•ˆçš„å•æ­¥ç”Ÿæˆ**

ğŸ¯ **åŒ¹é…é¢†åŸŸ**: **æ”¯æŸ±äºŒï¼šRLç®—æ³•ä¸æ¶æ„ (RL & Architecture)**

**å…³é”®è¯**: `ç”Ÿæˆæ¨¡å‹` `æµåŒ¹é…` `å˜åˆ†æ¨æ–­` `å•æ­¥ç”Ÿæˆ` `ç›´çº¿è½¨è¿¹` `é«˜æ•ˆç”Ÿæˆ` `çº¿æ€§ç”Ÿæˆè·¯å¾„`

## ğŸ“‹ æ ¸å¿ƒè¦ç‚¹

1. Flow Matchingæ–¹æ³•ä¾èµ–å­¦ä¹ æ›²çº¿è½¨è¿¹ï¼Œé™åˆ¶äº†å…¶å•æ­¥ç”Ÿæˆèƒ½åŠ›ï¼Œç°æœ‰æ–¹æ³•å­˜åœ¨ç¦»æ•£è¯¯å·®ã€è®­ç»ƒä¸ç¨³å®šç­‰é—®é¢˜ã€‚
2. S-VFMå°†å˜åˆ†æ½œåœ¨ä»£ç èå…¥Flow Matchingï¼Œæ˜¾å¼åœ°çº¦æŸè½¨è¿¹ä¸ºç›´çº¿ï¼Œä»è€Œå®ç°çº¿æ€§ç”Ÿæˆè·¯å¾„ã€‚
3. å®éªŒè¡¨æ˜ï¼ŒS-VFMåœ¨å¤šä¸ªåŸºå‡†æµ‹è¯•ä¸­è¡¨ç°å‡ºç«äº‰ä¼˜åŠ¿ï¼Œå¹¶åœ¨è®­ç»ƒå’Œæ¨ç†æ•ˆç‡ä¸Šä¼˜äºç°æœ‰æ–¹æ³•ã€‚

## ğŸ“ æ‘˜è¦ï¼ˆä¸­æ–‡ï¼‰

Flow Matchingç”±äºä¾èµ–äºå­¦ä¹ åˆ°çš„å¼¯æ›²è½¨è¿¹ï¼Œåœ¨å®ç°å•æ­¥ç”Ÿæˆæ–¹é¢å­˜åœ¨å±€é™æ€§ã€‚ä»¥å¾€çš„ç ”ç©¶è¯•å›¾é€šè¿‡ä¿®æ”¹è€¦åˆåˆ†å¸ƒä»¥é˜²æ­¢æ’å€¼å™¨ç›¸äº¤ï¼Œæˆ–è€…å¼•å…¥ä¸€è‡´æ€§å’Œå¹³å‡é€Ÿåº¦å»ºæ¨¡æ¥ä¿ƒè¿›ç›´çº¿è½¨è¿¹å­¦ä¹ ï¼Œä»¥æ­¤æ¥è§£å†³è¿™ä¸€é™åˆ¶ã€‚ç„¶è€Œï¼Œè¿™äº›æ–¹æ³•é€šå¸¸ä¼šå—åˆ°ç¦»æ•£è¿‘ä¼¼è¯¯å·®ã€è®­ç»ƒä¸ç¨³å®šå’Œæ”¶æ•›å›°éš¾çš„å½±å“ã€‚ä¸ºäº†è§£å†³è¿™äº›é—®é¢˜ï¼Œæœ¬æ–‡æå‡ºäº†ç›´çº¿å˜åˆ†æµåŒ¹é…ï¼ˆS-VFMï¼‰ï¼Œå®ƒå°†ä»£è¡¨â€œç”Ÿæˆæ¦‚è§ˆâ€çš„å˜åˆ†æ½œåœ¨ä»£ç é›†æˆåˆ°Flow Matchingæ¡†æ¶ä¸­ã€‚S-VFMæ˜¾å¼åœ°å¼ºåˆ¶è½¨è¿¹çš„ç›´çº¿åº¦ï¼Œç†æƒ³æƒ…å†µä¸‹äº§ç”Ÿçº¿æ€§ç”Ÿæˆè·¯å¾„ã€‚æ‰€æå‡ºçš„æ–¹æ³•åœ¨ä¸‰ä¸ªå…·æœ‰æŒ‘æˆ˜æ€§çš„åŸºå‡†æµ‹è¯•ä¸­å–å¾—äº†æœ‰ç«äº‰åŠ›çš„æ€§èƒ½ï¼Œå¹¶ä¸”ä¸ç°æœ‰æ–¹æ³•ç›¸æ¯”ï¼Œåœ¨è®­ç»ƒå’Œæ¨ç†æ•ˆç‡æ–¹é¢éƒ½è¡¨ç°å‡ºä¼˜åŠ¿ã€‚

## ğŸ”¬ æ–¹æ³•è¯¦è§£

**é—®é¢˜å®šä¹‰**ï¼šFlow Matchingæ–¹æ³•åœ¨ç”Ÿæˆä»»åŠ¡ä¸­ï¼Œç”±äºå­¦ä¹ åˆ°çš„è½¨è¿¹æ˜¯å¼¯æ›²çš„ï¼Œå› æ­¤éš¾ä»¥å®ç°é«˜æ•ˆçš„å•æ­¥ç”Ÿæˆã€‚ç°æœ‰æ–¹æ³•è¯•å›¾é€šè¿‡ä¿®æ”¹è€¦åˆåˆ†å¸ƒæˆ–å¼•å…¥ä¸€è‡´æ€§çº¦æŸæ¥æ”¹å–„è½¨è¿¹çš„ç›´çº¿åº¦ï¼Œä½†è¿™äº›æ–¹æ³•å¾€å¾€é¢ä¸´ç¦»æ•£è¿‘ä¼¼è¯¯å·®ã€è®­ç»ƒä¸ç¨³å®šä»¥åŠæ”¶æ•›å›°éš¾ç­‰é—®é¢˜ã€‚è¿™äº›é—®é¢˜é™åˆ¶äº†ç”Ÿæˆæ¨¡å‹çš„æ•ˆç‡å’Œæ€§èƒ½ã€‚

**æ ¸å¿ƒæ€è·¯**ï¼šS-VFMçš„æ ¸å¿ƒæ€è·¯æ˜¯å°†ä¸€ä¸ªå˜åˆ†æ½œåœ¨ä»£ç ï¼ˆvariational latent codeï¼‰å¼•å…¥åˆ°Flow Matchingæ¡†æ¶ä¸­ã€‚è¿™ä¸ªæ½œåœ¨ä»£ç ä»£è¡¨äº†â€œç”Ÿæˆæ¦‚è§ˆâ€ï¼Œå³å¯¹ç”Ÿæˆç»“æœçš„æ•´ä½“æè¿°ã€‚é€šè¿‡æ˜¾å¼åœ°å¼ºåˆ¶è½¨è¿¹çš„ç›´çº¿åº¦ï¼ŒS-VFMæ—¨åœ¨ç”Ÿæˆçº¿æ€§ç”Ÿæˆè·¯å¾„ï¼Œä»è€Œå®ç°æ›´é«˜æ•ˆçš„å•æ­¥ç”Ÿæˆã€‚è¿™ç§æ–¹æ³•é¿å…äº†å­¦ä¹ å¤æ‚çš„å¼¯æ›²è½¨è¿¹ï¼Œç®€åŒ–äº†ç”Ÿæˆè¿‡ç¨‹ã€‚

**æŠ€æœ¯æ¡†æ¶**ï¼šS-VFMçš„æ•´ä½“æ¡†æ¶åŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªä¸»è¦ç»„æˆéƒ¨åˆ†ï¼š1) å˜åˆ†ç¼–ç å™¨ï¼šå°†è¾“å…¥æ•°æ®ç¼–ç ä¸ºæ½œåœ¨ä»£ç ï¼›2) Flow Matchingæ¨¡å‹ï¼šåŸºäºæ½œåœ¨ä»£ç å’Œæ—¶é—´æ­¥é•¿ï¼Œé¢„æµ‹é€Ÿåº¦åœºï¼›3) è½¨è¿¹ç”Ÿæˆå™¨ï¼šæ ¹æ®é€Ÿåº¦åœºç”Ÿæˆè½¨è¿¹ï¼Œå¹¶æ˜¾å¼åœ°çº¦æŸè½¨è¿¹çš„ç›´çº¿åº¦ï¼›4) æŸå¤±å‡½æ•°ï¼šåŒ…æ‹¬Flow MatchingæŸå¤±ã€ç›´çº¿åº¦çº¦æŸæŸå¤±å’Œå˜åˆ†æ¨æ–­æŸå¤±ã€‚æ•´ä¸ªæµç¨‹æ˜¯ä»è¾“å…¥æ•°æ®å¼€å§‹ï¼Œé€šè¿‡å˜åˆ†ç¼–ç å™¨å¾—åˆ°æ½œåœ¨ä»£ç ï¼Œç„¶ååˆ©ç”¨Flow Matchingæ¨¡å‹ç”Ÿæˆç›´çº¿è½¨è¿¹ï¼Œæœ€ç»ˆå¾—åˆ°ç”Ÿæˆç»“æœã€‚

**å…³é”®åˆ›æ–°**ï¼šS-VFMæœ€é‡è¦çš„æŠ€æœ¯åˆ›æ–°ç‚¹åœ¨äºå°†å˜åˆ†æ¨æ–­ä¸Flow Matchingç›¸ç»“åˆï¼Œå¹¶æ˜¾å¼åœ°å¼ºåˆ¶è½¨è¿¹çš„ç›´çº¿åº¦ã€‚ä¸ç°æœ‰æ–¹æ³•ç›¸æ¯”ï¼ŒS-VFMä¸å†ä¾èµ–äºå­¦ä¹ å¤æ‚çš„å¼¯æ›²è½¨è¿¹ï¼Œè€Œæ˜¯é€šè¿‡å˜åˆ†æ½œåœ¨ä»£ç å’Œç›´çº¿åº¦çº¦æŸï¼Œç›´æ¥ç”Ÿæˆçº¿æ€§è·¯å¾„ã€‚è¿™ç§æ–¹æ³•ç®€åŒ–äº†ç”Ÿæˆè¿‡ç¨‹ï¼Œæé«˜äº†ç”Ÿæˆæ•ˆç‡å’Œç¨³å®šæ€§ã€‚

**å…³é”®è®¾è®¡**ï¼šS-VFMçš„å…³é”®è®¾è®¡åŒ…æ‹¬ï¼š1) å˜åˆ†ç¼–ç å™¨çš„é€‰æ‹©ï¼šå¯ä»¥ä½¿ç”¨å¸¸è§çš„VAEç»“æ„ï¼Œä¹Ÿå¯ä»¥æ ¹æ®å…·ä½“ä»»åŠ¡è¿›è¡Œå®šåˆ¶ï¼›2) ç›´çº¿åº¦çº¦æŸæŸå¤±å‡½æ•°çš„è®¾è®¡ï¼šå¯ä»¥ä½¿ç”¨å¤šç§æ–¹æ³•æ¥è¡¡é‡è½¨è¿¹çš„ç›´çº¿åº¦ï¼Œä¾‹å¦‚è®¡ç®—è½¨è¿¹çš„æ›²ç‡æˆ–ä½¿ç”¨L2èŒƒæ•°çº¦æŸé€Ÿåº¦åœºçš„å˜åŒ–ï¼›3) Flow Matchingæ¨¡å‹çš„ç½‘ç»œç»“æ„ï¼šå¯ä»¥ä½¿ç”¨å¸¸è§çš„ç¥ç»ç½‘ç»œç»“æ„ï¼Œä¾‹å¦‚MLPæˆ–CNNï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨Transformerç­‰æ›´å¤æ‚çš„ç»“æ„ï¼›4) æŸå¤±å‡½æ•°çš„æƒé‡è®¾ç½®ï¼šéœ€è¦ä»”ç»†è°ƒæ•´å„ä¸ªæŸå¤±å‡½æ•°çš„æƒé‡ï¼Œä»¥å¹³è¡¡ç”Ÿæˆè´¨é‡ã€ç›´çº¿åº¦å’Œå˜åˆ†æ¨æ–­çš„å‡†ç¡®æ€§ã€‚

## ğŸ“Š å®éªŒäº®ç‚¹

S-VFMåœ¨ä¸‰ä¸ªå…·æœ‰æŒ‘æˆ˜æ€§çš„åŸºå‡†æµ‹è¯•ä¸­å–å¾—äº†æœ‰ç«äº‰åŠ›çš„æ€§èƒ½ã€‚å®éªŒç»“æœè¡¨æ˜ï¼ŒS-VFMåœ¨ç”Ÿæˆè´¨é‡å’Œæ•ˆç‡æ–¹é¢å‡ä¼˜äºç°æœ‰æ–¹æ³•ã€‚å…·ä½“è€Œè¨€ï¼ŒS-VFMåœ¨å›¾åƒç”Ÿæˆä»»åŠ¡ä¸­å®ç°äº†æ›´ä½çš„FIDåˆ†æ•°ï¼Œå¹¶åœ¨è®­ç»ƒå’Œæ¨ç†é€Ÿåº¦ä¸Šè·å¾—äº†æ˜¾è‘—æå‡ã€‚è¿™äº›ç»“æœéªŒè¯äº†S-VFMåœ¨é«˜æ•ˆç”Ÿæˆæ–¹é¢çš„ä¼˜åŠ¿ã€‚

## ğŸ¯ åº”ç”¨åœºæ™¯

S-VFMå…·æœ‰å¹¿æ³›çš„åº”ç”¨å‰æ™¯ï¼ŒåŒ…æ‹¬å›¾åƒç”Ÿæˆã€éŸ³é¢‘åˆæˆã€åˆ†å­è®¾è®¡ç­‰é¢†åŸŸã€‚å…¶é«˜æ•ˆçš„å•æ­¥ç”Ÿæˆèƒ½åŠ›ä½¿å…¶åœ¨éœ€è¦å¿«é€Ÿç”Ÿæˆå¤§é‡æ ·æœ¬çš„åœºæ™¯ä¸­å…·æœ‰ä¼˜åŠ¿ã€‚æ­¤å¤–ï¼ŒS-VFMçš„ç›´çº¿è½¨è¿¹ç‰¹æ€§ä½¿å…¶åœ¨è·¯å¾„è§„åˆ’ã€è¿åŠ¨æ§åˆ¶ç­‰é¢†åŸŸä¹Ÿå…·æœ‰æ½œåœ¨çš„åº”ç”¨ä»·å€¼ã€‚æœªæ¥ï¼ŒS-VFMæœ‰æœ›æˆä¸ºä¸€ç§é€šç”¨çš„ç”Ÿæˆæ¨¡å‹ï¼Œåº”ç”¨äºå„ç§éœ€è¦é«˜æ•ˆã€é«˜è´¨é‡ç”Ÿæˆçš„ä»»åŠ¡ä¸­ã€‚

## ğŸ“„ æ‘˜è¦ï¼ˆåŸæ–‡ï¼‰

> Flow Matching has limited ability in achieving one-step generation due to its reliance on learned curved trajectories. Previous studies have attempted to address this limitation by either modifying the coupling distribution to prevent interpolant intersections or introducing consistency and mean-velocity modeling to promote straight trajectory learning. However, these approaches often suffer from discrete approximation errors, training instability, and convergence difficulties. To tackle these issues, in the present work, we propose \textbf{S}traight \textbf{V}ariational \textbf{F}low \textbf{M}atching (\textbf{S-VFM}), which integrates a variational latent code representing the ``generation overview'' into the Flow Matching framework. \textbf{S-VFM} explicitly enforces trajectory straightness, ideally producing linear generation paths. The proposed method achieves competitive performance across three challenge benchmarks and demonstrates advantages in both training and inference efficiency compared with existing methods.

