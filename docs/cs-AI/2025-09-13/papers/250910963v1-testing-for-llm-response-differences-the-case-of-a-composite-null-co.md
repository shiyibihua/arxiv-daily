---
layout: default
title: Testing for LLM response differences: the case of a composite null consisting of semantically irrelevant query perturbations
---

# Testing for LLM response differences: the case of a composite null consisting of semantically irrelevant query perturbations

<div class="paper-toolbar">
  <a href="https://arxiv.org/abs/2509.10963" class="toolbar-btn" target="_blank">ğŸ“„ arXiv: 2509.10963v1</a>
  <a href="https://arxiv.org/pdf/2509.10963.pdf" class="toolbar-btn" target="_blank">ğŸ“¥ PDF</a>
  <button class="toolbar-btn favorite-btn" data-arxiv-id="2509.10963v1" data-paper-url="__CURRENT_PAGE__" onclick="toggleFavorite(this, '2509.10963v1', 'Testing for LLM response differences: the case of a composite null consisting of semantically irrelevant query perturbations')" title="æ·»åŠ åˆ°æ”¶è—å¤¹">â˜† æ”¶è—</button>
  <button class="toolbar-btn" onclick="copyLinkToClipboard(this)">ğŸ”— åˆ†äº«</button>
</div>


**ä½œè€…**: Aranyak Acharyya, Carey E. Priebe, Hayden S. Helm

**åˆ†ç±»**: math.ST, cs.AI, stat.ME

**å‘å¸ƒæ—¥æœŸ**: 2025-09-13

---

## ğŸ’¡ ä¸€å¥è¯è¦ç‚¹

**æå‡ºä¸€ç§æ–°çš„å‡è®¾æ£€éªŒæ–¹æ³•ï¼Œç”¨äºè¯„ä¼°LLMå¯¹è¯­ä¹‰æ— å…³æ‰°åŠ¨çš„é²æ£’æ€§ã€‚**

ğŸ¯ **åŒ¹é…é¢†åŸŸ**: **æ”¯æŸ±ä¹ï¼šå…·èº«å¤§æ¨¡å‹ (Embodied Foundation Models)**

**å…³é”®è¯**: `å¤§è¯­è¨€æ¨¡å‹` `å‡è®¾æ£€éªŒ` `è¯­ä¹‰æ‰°åŠ¨` `å“åº”åˆ†å¸ƒ` `ç»Ÿè®¡æ¨æ–­`

## ğŸ“‹ æ ¸å¿ƒè¦ç‚¹

1. ä¼ ç»Ÿç»Ÿè®¡å‡è®¾æ£€éªŒåœ¨è¯„ä¼°LLMæ—¶ï¼Œæ˜“å—è¯­ä¹‰æ— å…³æ‰°åŠ¨å½±å“ï¼Œå¯¼è‡´å¯¹ç­‰ä»·æŸ¥è¯¢äº§ç”Ÿä¸åŒå“åº”ã€‚
2. è®ºæ–‡æå‡ºä¸€ç§æ–°çš„æ£€éªŒç¨‹åºï¼Œè€ƒè™‘ä¸€ç»„è¯­ä¹‰ç›¸ä¼¼çš„æŸ¥è¯¢ï¼Œä»¥æé«˜å¯¹è¯­ä¹‰æ‰°åŠ¨çš„é²æ£’æ€§ã€‚
3. è®ºæ–‡åˆ†æäº†äºŒå…ƒå“åº”æƒ…å†µï¼Œè¯æ˜äº†è¯¥æ£€éªŒæ–¹æ³•åœ¨æ¸è¿‘æ„ä¹‰ä¸‹çš„æœ‰æ•ˆæ€§å’Œä¸€è‡´æ€§ï¼Œå¹¶è®¨è®ºäº†å®é™…åº”ç”¨ã€‚

## ğŸ“ æ‘˜è¦ï¼ˆä¸­æ–‡ï¼‰

æœ¬æ–‡ç ”ç©¶äº†å¤§å‹è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰å¯¹è¾“å…¥æŸ¥è¯¢çš„å“åº”åˆ†å¸ƒå·®å¼‚çš„æ£€éªŒé—®é¢˜ã€‚ä¼ ç»Ÿçš„ç»Ÿè®¡å‡è®¾æ£€éªŒæ–¹æ³•åœ¨è¯„ä¼°LLMæ—¶ï¼Œå®¹æ˜“å—åˆ°æŸ¥è¯¢ä¸­è¯­ä¹‰æ— å…³æ‰°åŠ¨çš„å½±å“ï¼Œå¯¼è‡´å¯¹è¯­ä¹‰ç­‰ä»·çš„æŸ¥è¯¢äº§ç”Ÿä¸åŒçš„å“åº”åˆ†å¸ƒã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæœ¬æ–‡æå‡ºäº†ä¸€ç§æ–°çš„æ£€éªŒç¨‹åºï¼Œè¯¥ç¨‹åºè€ƒè™‘äº†ä¸€ç»„è¯­ä¹‰ç›¸ä¼¼çš„æŸ¥è¯¢ã€‚è¯¥æ–¹æ³•éœ€è¦åœ¨å›ºå®šé¢„ç®—ä¸‹ä¼°è®¡ä»è¯­ä¹‰ç›¸ä¼¼æŸ¥è¯¢é›†åˆåˆ°å“åº”åˆ†å¸ƒé›†åˆçš„æ˜ å°„å…³ç³»ã€‚æœ¬æ–‡é‡ç‚¹åˆ†æäº†äºŒå…ƒå“åº”çš„æƒ…å†µï¼Œè¯æ˜äº†æ‰€æå‡ºçš„æ£€éªŒæ–¹æ³•åœ¨æ¸è¿‘æ„ä¹‰ä¸‹çš„æœ‰æ•ˆæ€§å’Œä¸€è‡´æ€§ï¼Œå¹¶è®¨è®ºäº†åœ¨åŠŸæ•ˆå’Œè®¡ç®—æ–¹é¢çš„é‡è¦å®é™…è€ƒè™‘å› ç´ ã€‚

## ğŸ”¬ æ–¹æ³•è¯¦è§£

**é—®é¢˜å®šä¹‰**ï¼šè®ºæ–‡æ—¨åœ¨è§£å†³å¦‚ä½•æ›´å‡†ç¡®åœ°æ¯”è¾ƒå¤§å‹è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰å¯¹ä¸åŒè¾“å…¥æŸ¥è¯¢çš„å“åº”åˆ†å¸ƒçš„é—®é¢˜ã€‚ç°æœ‰æ–¹æ³•ï¼Œå³ä¼ ç»Ÿçš„ç»Ÿè®¡å‡è®¾æ£€éªŒï¼Œå¯¹æŸ¥è¯¢ä¸­çš„ç»†å¾®è¯­ä¹‰æ— å…³æ‰°åŠ¨éå¸¸æ•æ„Ÿï¼Œå¯¼è‡´å³ä½¿æ˜¯è¯­ä¹‰ä¸Šç­‰ä»·çš„æŸ¥è¯¢ï¼Œä¹Ÿå¯èƒ½è¢«åˆ¤å®šä¸ºäº§ç”Ÿä¸åŒçš„å“åº”åˆ†å¸ƒã€‚è¿™ä½¿å¾—æ£€éªŒç»“æœä¸ç”¨æˆ·çš„å®é™…éœ€æ±‚ä¸ç¬¦ï¼Œä¾‹å¦‚ï¼Œç”¨æˆ·å¯èƒ½å¸Œæœ›çŸ¥é“ä¸¤ä¸ªæŸ¥è¯¢åœ¨è¯­ä¹‰ä¸Šæ˜¯å¦ç­‰ä»·ï¼Œè€Œä¼ ç»Ÿæ–¹æ³•å´å› ä¸ºä¸€äº›æ— å…³ç´§è¦çš„è¯è¯­å·®å¼‚è€Œç»™å‡ºå¦å®šç»“è®ºã€‚

**æ ¸å¿ƒæ€è·¯**ï¼šè®ºæ–‡çš„æ ¸å¿ƒæ€è·¯æ˜¯ï¼Œä¸å…¶ç›´æ¥æ¯”è¾ƒä¸¤ä¸ªç‰¹å®šæŸ¥è¯¢çš„å“åº”åˆ†å¸ƒï¼Œä¸å¦‚è€ƒè™‘ä¸€ç»„ä¸è¿™ä¸¤ä¸ªæŸ¥è¯¢è¯­ä¹‰ç›¸ä¼¼çš„æŸ¥è¯¢é›†åˆã€‚é€šè¿‡è€ƒå¯Ÿè¿™äº›è¯­ä¹‰ç›¸ä¼¼æŸ¥è¯¢çš„å“åº”åˆ†å¸ƒï¼Œå¯ä»¥æ›´å…¨é¢åœ°è¯„ä¼°LLMå¯¹è¯­ä¹‰çš„ç†è§£èƒ½åŠ›ï¼Œå¹¶é™ä½å› ç»†å¾®æ‰°åŠ¨è€Œäº§ç”Ÿçš„è¯¯åˆ¤ã€‚è¿™ç§æ–¹æ³•ç›¸å½“äºå¯¹æŸ¥è¯¢è¿›è¡Œâ€œå¹³æ»‘â€ï¼Œä»è€Œæé«˜æ£€éªŒçš„é²æ£’æ€§ã€‚

**æŠ€æœ¯æ¡†æ¶**ï¼šè¯¥æ–¹æ³•åŒ…å«ä»¥ä¸‹å‡ ä¸ªä¸»è¦æ­¥éª¤ï¼š1. å®šä¹‰ä¸¤ä¸ªå¾…æ¯”è¾ƒçš„åŸå§‹æŸ¥è¯¢ã€‚2. ä¸ºæ¯ä¸ªåŸå§‹æŸ¥è¯¢ç”Ÿæˆä¸€ç»„è¯­ä¹‰ç›¸ä¼¼çš„æŸ¥è¯¢é›†åˆã€‚3. ä½¿ç”¨LLMå¯¹æ¯ä¸ªæŸ¥è¯¢é›†åˆä¸­çš„æŸ¥è¯¢è¿›è¡Œå“åº”ï¼Œå¹¶æ”¶é›†å“åº”æ•°æ®ã€‚4. åŸºäºæ”¶é›†åˆ°çš„å“åº”æ•°æ®ï¼Œä¼°è®¡ä»æŸ¥è¯¢é›†åˆåˆ°å“åº”åˆ†å¸ƒçš„æ˜ å°„å…³ç³»ã€‚5. ä½¿ç”¨æå‡ºçš„ç»Ÿè®¡æ£€éªŒæ–¹æ³•ï¼Œæ¯”è¾ƒä¸¤ä¸ªæŸ¥è¯¢é›†åˆçš„å“åº”åˆ†å¸ƒï¼Œåˆ¤æ–­å®ƒä»¬æ˜¯å¦åœ¨ç»Ÿè®¡æ„ä¹‰ä¸Šç›¸åŒã€‚

**å…³é”®åˆ›æ–°**ï¼šè¯¥æ–¹æ³•æœ€é‡è¦çš„åˆ›æ–°ç‚¹åœ¨äºï¼Œå®ƒå°†ä¼ ç»Ÿçš„ç‚¹å¯¹ç‚¹æ¯”è¾ƒæ‰©å±•åˆ°äº†é›†åˆå¯¹é›†åˆçš„æ¯”è¾ƒã€‚é€šè¿‡è€ƒè™‘è¯­ä¹‰ç›¸ä¼¼æŸ¥è¯¢é›†åˆï¼Œè¯¥æ–¹æ³•èƒ½å¤Ÿæ›´å¥½åœ°æ•æ‰LLMå¯¹è¯­ä¹‰çš„ç†è§£ï¼Œå¹¶é™ä½å¯¹ç»†å¾®æ‰°åŠ¨çš„æ•æ„Ÿæ€§ã€‚æ­¤å¤–ï¼Œè¯¥æ–¹æ³•è¿˜è€ƒè™‘äº†åœ¨å›ºå®šé¢„ç®—ä¸‹ä¼°è®¡å“åº”åˆ†å¸ƒçš„é—®é¢˜ï¼Œè¿™åœ¨å®é™…åº”ç”¨ä¸­éå¸¸é‡è¦ï¼Œå› ä¸ºLLMçš„è°ƒç”¨é€šå¸¸éœ€è¦æˆæœ¬ã€‚

**å…³é”®è®¾è®¡**ï¼šè®ºæ–‡é‡ç‚¹åˆ†æäº†äºŒå…ƒå“åº”çš„æƒ…å†µï¼Œå¹¶æå‡ºäº†ç›¸åº”çš„ç»Ÿè®¡æ£€éªŒæ–¹æ³•ã€‚è¯¥æ–¹æ³•åŸºäºæ¸è¿‘ç†è®ºï¼Œè¯æ˜äº†å…¶åœ¨æ¸è¿‘æ„ä¹‰ä¸‹çš„æœ‰æ•ˆæ€§å’Œä¸€è‡´æ€§ã€‚åœ¨å®é™…åº”ç”¨ä¸­ï¼Œéœ€è¦ä»”ç»†é€‰æ‹©è¯­ä¹‰ç›¸ä¼¼æŸ¥è¯¢çš„ç”Ÿæˆæ–¹æ³•ï¼Œä»¥åŠåˆé€‚çš„ç»Ÿè®¡æ£€éªŒæ–¹æ³•ã€‚æ­¤å¤–ï¼Œè¿˜éœ€è¦è€ƒè™‘è®¡ç®—æˆæœ¬å’Œæ£€éªŒçš„åŠŸæ•ˆï¼Œä»¥ä¾¿åœ¨æœ‰é™çš„é¢„ç®—ä¸‹è·å¾—æœ€ä½³çš„æ£€éªŒæ•ˆæœã€‚

## ğŸ“Š å®éªŒäº®ç‚¹

è®ºæ–‡åœ¨äºŒå…ƒå“åº”çš„è®¾å®šä¸‹ï¼Œè¯æ˜äº†æ‰€æå‡ºçš„æ£€éªŒæ–¹æ³•åœ¨æ¸è¿‘æ„ä¹‰ä¸‹çš„æœ‰æ•ˆæ€§å’Œä¸€è‡´æ€§ã€‚è¿™æ„å‘³ç€ï¼Œå½“æ ·æœ¬é‡è¶³å¤Ÿå¤§æ—¶ï¼Œè¯¥æ–¹æ³•èƒ½å¤Ÿæ­£ç¡®åœ°åˆ¤æ–­ä¸¤ä¸ªæŸ¥è¯¢é›†åˆçš„å“åº”åˆ†å¸ƒæ˜¯å¦ç›¸åŒã€‚æ­¤å¤–ï¼Œè®ºæ–‡è¿˜è®¨è®ºäº†åœ¨å®é™…åº”ç”¨ä¸­éœ€è¦è€ƒè™‘çš„åŠŸæ•ˆå’Œè®¡ç®—é—®é¢˜ï¼Œä¸ºè¯¥æ–¹æ³•çš„å®é™…åº”ç”¨æä¾›äº†æŒ‡å¯¼ã€‚

## ğŸ¯ åº”ç”¨åœºæ™¯

è¯¥ç ”ç©¶æˆæœå¯åº”ç”¨äºè¯„ä¼°å’Œæ¯”è¾ƒä¸åŒLLMçš„æ€§èƒ½ï¼Œå°¤å…¶æ˜¯åœ¨å¤„ç†è‡ªç„¶è¯­è¨€ç†è§£ä»»åŠ¡æ—¶ã€‚ä¾‹å¦‚ï¼Œå¯ä»¥ç”¨äºæµ‹è¯•LLMå¯¹åŒä¹‰è¯ã€é‡Šä¹‰å’Œè½»å¾®è¯­æ³•å˜åŒ–çš„é²æ£’æ€§ã€‚æ­¤å¤–ï¼Œè¯¥æ–¹æ³•è¿˜å¯ä»¥ç”¨äºæ£€æµ‹LLMæ˜¯å¦å­˜åœ¨åå·®ï¼Œä¾‹å¦‚ï¼Œå¯¹ä¸åŒæ€§åˆ«æˆ–ç§æ—ç¾¤ä½“çš„æŸ¥è¯¢äº§ç”Ÿä¸åŒçš„å“åº”ã€‚

## ğŸ“„ æ‘˜è¦ï¼ˆåŸæ–‡ï¼‰

> Given an input query, generative models such as large language models produce a random response drawn from a response distribution. Given two input queries, it is natural to ask if their response distributions are the same. While traditional statistical hypothesis testing is designed to address this question, the response distribution induced by an input query is often sensitive to semantically irrelevant perturbations to the query, so much so that a traditional test of equality might indicate that two semantically equivalent queries induce statistically different response distributions. As a result, the outcome of the statistical test may not align with the user's requirements. In this paper, we address this misalignment by incorporating into the testing procedure consideration of a collection of semantically similar queries. In our setting, the mapping from the collection of user-defined semantically similar queries to the corresponding collection of response distributions is not known a priori and must be estimated, with a fixed budget. Although the problem we address is quite general, we focus our analysis on the setting where the responses are binary, show that the proposed test is asymptotically valid and consistent, and discuss important practical considerations with respect to power and computation.

