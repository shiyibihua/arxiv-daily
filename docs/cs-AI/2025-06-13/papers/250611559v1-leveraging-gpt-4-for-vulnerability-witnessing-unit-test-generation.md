---
layout: default
title: Leveraging GPT-4 for Vulnerability-Witnessing Unit Test Generation
---

# Leveraging GPT-4 for Vulnerability-Witnessing Unit Test Generation

<div class="paper-toolbar">
  <a href="https://arxiv.org/abs/2506.11559" class="toolbar-btn" target="_blank">ğŸ“„ arXiv: 2506.11559v1</a>
  <a href="https://arxiv.org/pdf/2506.11559.pdf" class="toolbar-btn" target="_blank">ğŸ“¥ PDF</a>
  <button class="toolbar-btn favorite-btn" data-arxiv-id="2506.11559v1" data-paper-url="__CURRENT_PAGE__" onclick="toggleFavorite(this, '2506.11559v1', 'Leveraging GPT-4 for Vulnerability-Witnessing Unit Test Generation')" title="æ·»åŠ åˆ°æ”¶è—å¤¹">â˜† æ”¶è—</button>
  <button class="toolbar-btn" onclick="copyLinkToClipboard(this)">ğŸ”— åˆ†äº«</button>
</div>


**ä½œè€…**: GÃ¡bor Antal, DÃ©nes BÃ¡n, Martin Isztin, Rudolf Ferenc, PÃ©ter HegedÅ±s

**åˆ†ç±»**: cs.SE, cs.AI

**å‘å¸ƒæ—¥æœŸ**: 2025-06-13

---

## ğŸ’¡ ä¸€å¥è¯è¦ç‚¹

**åˆ©ç”¨GPT-4ç”Ÿæˆæ¼æ´è§è¯å•å…ƒæµ‹è¯•ä»¥æå‡è½¯ä»¶å®‰å…¨æ€§**

ğŸ¯ **åŒ¹é…é¢†åŸŸ**: **æ”¯æŸ±ä¹ï¼šå…·èº«å¤§æ¨¡å‹ (Embodied Foundation Models)**

**å…³é”®è¯**: `è‡ªåŠ¨åŒ–æµ‹è¯•` `è½¯ä»¶å®‰å…¨` `æ¼æ´æ£€æµ‹` `GPT-4` `å•å…ƒæµ‹è¯•ç”Ÿæˆ` `è‡ªç„¶è¯­è¨€å¤„ç†` `æœºå™¨å­¦ä¹ `

## ğŸ“‹ æ ¸å¿ƒè¦ç‚¹

1. ç°æœ‰çš„æ‰‹åŠ¨æµ‹è¯•è¿‡ç¨‹å¤æ‚ä¸”èµ„æºæ¶ˆè€—å¤§ï¼Œéš¾ä»¥é«˜æ•ˆç”Ÿæˆé’ˆå¯¹è½¯ä»¶æ¼æ´çš„æµ‹è¯•ç”¨ä¾‹ã€‚
2. æœ¬æ–‡æå‡ºåˆ©ç”¨GPT-4æ¨¡å‹è‡ªåŠ¨ç”Ÿæˆæ¼æ´è§è¯å•å…ƒæµ‹è¯•ï¼Œä»¥å‡è½»å¼€å‘è€…å’Œå®‰å…¨ä¸“å®¶çš„è´Ÿæ‹…ã€‚
3. å®éªŒç»“æœæ˜¾ç¤ºï¼ŒGPT-4ç”Ÿæˆçš„æµ‹è¯•ç”¨ä¾‹ä¸­66.5%è¯­æ³•æ­£ç¡®ï¼Œä¸”å¯åœ¨è¾ƒå°‘æ‰‹åŠ¨å¹²é¢„ä¸‹è½¬åŒ–ä¸ºæœ‰æ•ˆæµ‹è¯•ã€‚

## ğŸ“ æ‘˜è¦ï¼ˆä¸­æ–‡ï¼‰

åœ¨è½¯ä»¶å¼€å‘ç”Ÿå‘½å‘¨æœŸä¸­ï¼Œæµ‹è¯•å¯¹è´¨é‡ä¿è¯è‡³å…³é‡è¦ã€‚é€‚å½“çš„æµ‹è¯•ä¸ä»…æé«˜ä»£ç è¦†ç›–ç‡å’Œé˜²æ­¢å›å½’ï¼Œè¿˜èƒ½ç¡®ä¿è¯†åˆ«å’Œæœ‰æ•ˆä¿®å¤æ½œåœ¨æ¼æ´ã€‚ç„¶è€Œï¼Œåˆ›å»ºæ­¤ç±»æµ‹è¯•æ˜¯ä¸€ä¸ªå¤æ‚ä¸”èµ„æºæ¶ˆè€—å¤§çš„æ‰‹åŠ¨è¿‡ç¨‹ã€‚æœ¬æ–‡æ¢è®¨äº†å¹¿æ³›ä½¿ç”¨çš„å¤§å‹è¯­è¨€æ¨¡å‹GPT-4åœ¨æ¼æ´è§†è§’ä¸‹çš„è‡ªåŠ¨å•å…ƒæµ‹è¯•ç”Ÿæˆèƒ½åŠ›ã€‚æˆ‘ä»¬åˆ†æäº†VUL4Jæ•°æ®é›†ä¸­çœŸå®æ¼æ´åŠå…¶ä¿®å¤çš„å­é›†ï¼Œä»¥ç¡®å®šGPT-4æ˜¯å¦èƒ½å¤ŸåŸºäºä¿®å¤å‰åçš„ä»£ç ç”Ÿæˆè¯­æ³•å’Œ/æˆ–è¯­ä¹‰æ­£ç¡®çš„å•å…ƒæµ‹è¯•ã€‚ç»“æœè¡¨æ˜ï¼ŒGPT-4åœ¨æ²¡æœ‰é¢†åŸŸç‰¹å®šé¢„è®­ç»ƒçš„æƒ…å†µä¸‹ï¼Œèƒ½å¤Ÿç”Ÿæˆ66.5%çš„è¯­æ³•æ­£ç¡®çš„æµ‹è¯•ç”¨ä¾‹ã€‚å°½ç®¡è¯­ä¹‰æ­£ç¡®æ€§ä»…åœ¨7.5%çš„æƒ…å†µä¸‹å¾—åˆ°è‡ªåŠ¨éªŒè¯ï¼Œä½†ä¸»è§‚è¯„ä¼°æ˜¾ç¤ºï¼ŒGPT-4é€šå¸¸ç”Ÿæˆçš„æµ‹è¯•æ¨¡æ¿å¯ä»¥åœ¨ç›¸å¯¹è¾ƒå°‘çš„æ‰‹åŠ¨åŠªåŠ›ä¸‹è¿›ä¸€æ­¥å¼€å‘ä¸ºåŠŸèƒ½å®Œæ•´çš„æ¼æ´è§è¯æµ‹è¯•ã€‚

## ğŸ”¬ æ–¹æ³•è¯¦è§£

**é—®é¢˜å®šä¹‰**ï¼šæœ¬æ–‡æ—¨åœ¨è§£å†³æ‰‹åŠ¨ç”Ÿæˆé’ˆå¯¹è½¯ä»¶æ¼æ´çš„å•å…ƒæµ‹è¯•è¿‡ç¨‹ä¸­çš„å¤æ‚æ€§å’Œèµ„æºæ¶ˆè€—é—®é¢˜ã€‚ç°æœ‰æ–¹æ³•å¾€å¾€ä¾èµ–äºäººå·¥ç¼–å†™æµ‹è¯•ç”¨ä¾‹ï¼Œæ•ˆç‡ä½ä¸‹ä¸”å®¹æ˜“å‡ºé”™ã€‚

**æ ¸å¿ƒæ€è·¯**ï¼šè®ºæ–‡çš„æ ¸å¿ƒæ€è·¯æ˜¯åˆ©ç”¨GPT-4çš„è‡ªç„¶è¯­è¨€å¤„ç†èƒ½åŠ›ï¼Œè‡ªåŠ¨ç”Ÿæˆä¸è½¯ä»¶æ¼æ´ç›¸å…³çš„å•å…ƒæµ‹è¯•ï¼Œä»è€Œæé«˜æµ‹è¯•çš„æ•ˆç‡å’Œå‡†ç¡®æ€§ã€‚é€šè¿‡åˆ†æä¿®å¤å‰åçš„ä»£ç ï¼ŒGPT-4èƒ½å¤Ÿç”Ÿæˆç›¸åº”çš„æµ‹è¯•ç”¨ä¾‹ã€‚

**æŠ€æœ¯æ¡†æ¶**ï¼šæ•´ä½“æ¶æ„åŒ…æ‹¬æ•°æ®é›†é€‰æ‹©ã€æ¨¡å‹è¾“å…¥å¤„ç†ã€æµ‹è¯•ç”¨ä¾‹ç”Ÿæˆå’Œç»“æœè¯„ä¼°å››ä¸ªä¸»è¦æ¨¡å—ã€‚é¦–å…ˆï¼Œä»VUL4Jæ•°æ®é›†ä¸­é€‰æ‹©åŒ…å«çœŸå®æ¼æ´çš„ä»£ç ç‰‡æ®µï¼Œç„¶åå°†å…¶è¾“å…¥åˆ°GPT-4ä¸­ç”Ÿæˆæµ‹è¯•ç”¨ä¾‹ï¼Œæœ€åå¯¹ç”Ÿæˆçš„æµ‹è¯•ç”¨ä¾‹è¿›è¡Œè¯­æ³•å’Œè¯­ä¹‰çš„è¯„ä¼°ã€‚

**å…³é”®åˆ›æ–°**ï¼šæœ€é‡è¦çš„æŠ€æœ¯åˆ›æ–°åœ¨äºå°†å¤§å‹è¯­è¨€æ¨¡å‹åº”ç”¨äºæ¼æ´è§è¯æµ‹è¯•çš„è‡ªåŠ¨ç”Ÿæˆï¼Œå°¤å…¶æ˜¯åœ¨æ²¡æœ‰é¢†åŸŸç‰¹å®šé¢„è®­ç»ƒçš„æƒ…å†µä¸‹ï¼Œä¾ç„¶èƒ½å¤Ÿç”Ÿæˆé«˜æ¯”ä¾‹çš„è¯­æ³•æ­£ç¡®æµ‹è¯•ç”¨ä¾‹ã€‚ä¸ä¼ ç»Ÿæ‰‹åŠ¨æµ‹è¯•æ–¹æ³•ç›¸æ¯”ï¼ŒGPT-4çš„å¼•å…¥æ˜¾è‘—æé«˜äº†æµ‹è¯•ç”Ÿæˆçš„æ•ˆç‡ã€‚

**å…³é”®è®¾è®¡**ï¼šåœ¨æ¨¡å‹è¾“å…¥æ–¹é¢ï¼Œé‡‡ç”¨ä¿®å¤å‰åçš„ä»£ç ç‰‡æ®µä½œä¸ºä¸Šä¸‹æ–‡ä¿¡æ¯ï¼Œä»¥å¸®åŠ©GPT-4ç†è§£æ¼æ´çš„æ€§è´¨ã€‚æ­¤å¤–ï¼Œè®¾è®¡äº†ä¸»è§‚è¯„ä¼°æ ‡å‡†ï¼Œä»¥è¯„ä¼°ç”Ÿæˆæµ‹è¯•ç”¨ä¾‹çš„å®ç”¨æ€§å’Œå¯å¼€å‘æ€§ã€‚

## ğŸ“Š å®éªŒäº®ç‚¹

å®éªŒç»“æœæ˜¾ç¤ºï¼ŒGPT-4ç”Ÿæˆçš„æµ‹è¯•ç”¨ä¾‹ä¸­66.5%ä¸ºè¯­æ³•æ­£ç¡®ï¼Œå°½ç®¡è¯­ä¹‰æ­£ç¡®æ€§ä»…ä¸º7.5%ï¼Œä½†ä¸»è§‚è¯„ä¼°è¡¨æ˜ç”Ÿæˆçš„æµ‹è¯•æ¨¡æ¿å¯åœ¨è¾ƒå°‘çš„æ‰‹åŠ¨å¹²é¢„ä¸‹è½¬åŒ–ä¸ºæœ‰æ•ˆçš„æ¼æ´è§è¯æµ‹è¯•ï¼Œæ˜¾ç¤ºå‡ºGPT-4åœ¨æ­¤é¢†åŸŸçš„æ½œåŠ›ã€‚

## ğŸ¯ åº”ç”¨åœºæ™¯

è¯¥ç ”ç©¶çš„æ½œåœ¨åº”ç”¨é¢†åŸŸåŒ…æ‹¬è½¯ä»¶å¼€å‘ã€ä¿¡æ¯å®‰å…¨å’Œè‡ªåŠ¨åŒ–æµ‹è¯•ç­‰ã€‚é€šè¿‡è‡ªåŠ¨ç”Ÿæˆæ¼æ´è§è¯æµ‹è¯•ï¼Œå¼€å‘è€…å¯ä»¥æ›´å¿«é€Ÿåœ°è¯†åˆ«å’Œä¿®å¤è½¯ä»¶ä¸­çš„å®‰å…¨æ¼æ´ï¼Œä»è€Œæå‡è½¯ä»¶çš„æ•´ä½“å®‰å…¨æ€§å’Œå¯é æ€§ã€‚æœªæ¥ï¼Œè¯¥æ–¹æ³•å¯èƒ½ä¼šä¸å…¶ä»–è‡ªåŠ¨åŒ–å·¥å…·ç»“åˆï¼Œå½¢æˆæ›´ä¸ºå®Œæ•´çš„å®‰å…¨æµ‹è¯•è§£å†³æ–¹æ¡ˆã€‚

## ğŸ“„ æ‘˜è¦ï¼ˆåŸæ–‡ï¼‰

> In the life-cycle of software development, testing plays a crucial role in quality assurance. Proper testing not only increases code coverage and prevents regressions but it can also ensure that any potential vulnerabilities in the software are identified and effectively fixed. However, creating such tests is a complex, resource-consuming manual process. To help developers and security experts, this paper explores the automatic unit test generation capability of one of the most widely used large language models, GPT-4, from the perspective of vulnerabilities. We examine a subset of the VUL4J dataset containing real vulnerabilities and their corresponding fixes to determine whether GPT-4 can generate syntactically and/or semantically correct unit tests based on the code before and after the fixes as evidence of vulnerability mitigation. We focus on the impact of code contexts, the effectiveness of GPT-4's self-correction ability, and the subjective usability of the generated test cases. Our results indicate that GPT-4 can generate syntactically correct test cases 66.5\% of the time without domain-specific pre-training. Although the semantic correctness of the fixes could be automatically validated in only 7. 5\% of the cases, our subjective evaluation shows that GPT-4 generally produces test templates that can be further developed into fully functional vulnerability-witnessing tests with relatively minimal manual effort.
>   Therefore, despite the limited data, our initial findings suggest that GPT-4 can be effectively used in the generation of vulnerability-witnessing tests. It may not operate entirely autonomously, but it certainly plays a significant role in a partially automated process.

