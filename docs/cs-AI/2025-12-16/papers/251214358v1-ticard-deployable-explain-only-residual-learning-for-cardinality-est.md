---
layout: default
title: TiCard: Deployable EXPLAIN-only Residual Learning for Cardinality Estimation
---

# TiCard: Deployable EXPLAIN-only Residual Learning for Cardinality Estimation

**arXiv**: [2512.14358v1](https://arxiv.org/abs/2512.14358) | [PDF](https://arxiv.org/pdf/2512.14358.pdf)

**ä½œè€…**: Qizhi Wang

**åˆ†ç±»**: cs.AI, cs.DB

**å‘å¸ƒæ—¥æœŸ**: 2025-12-16

**å¤‡æ³¨**: 16 pages(/wo references), 4 figures, 10 tables

---

## ğŸ’¡ ä¸€å¥è¯è¦ç‚¹

<<<<<<< HEAD
**æå‡ºTiCardæ¡†æ¶ï¼Œé€šè¿‡ä»…ä½¿ç”¨EXPLAINç‰¹å¾çš„æ®‹å·®å­¦ä¹ æ¥å¢å¼ºæ•°æ®åº“åŸºæ•°ä¼°è®¡ï¼Œè§£å†³ä¼ ç»Ÿæ–¹æ³•å¿½ç•¥ç›¸å…³æ€§å’Œå­¦ä¹ å‹æ–¹æ³•éƒ¨ç½²å›°éš¾çš„é—®é¢˜ã€‚**

ğŸ¯ **åŒ¹é…é¢†åŸŸ**: **è§†è§‰é‡Œç¨‹è®¡**

**å…³é”®è¯**: `åŸºæ•°ä¼°è®¡` `æŸ¥è¯¢ä¼˜åŒ–` `æ®‹å·®å­¦ä¹ ` `æ•°æ®åº“å¢å¼º` `å¯éƒ¨ç½²AI` `æ¢¯åº¦æå‡å›å½’å™¨` `è¡¨æ ¼åŸºç¡€æ¨¡å‹` `AI4DB`

## ğŸ“‹ æ ¸å¿ƒè¦ç‚¹

1. æ ¸å¿ƒé—®é¢˜ï¼šä¼ ç»ŸåŸºæ•°ä¼°è®¡å™¨å¿½ç•¥æ•°æ®ç›¸å…³æ€§ï¼Œå¯¼è‡´ä¼°è®¡ä¸å‡†ç¡®ï¼›å­¦ä¹ å‹æ–¹æ³•éœ€è¦å¤æ‚è®­ç»ƒæµç¨‹å’Œä¾µå…¥å¼é›†æˆï¼Œéƒ¨ç½²å›°éš¾ã€‚
2. æ–¹æ³•è¦ç‚¹ï¼šæå‡ºTiCardæ¡†æ¶ï¼Œé€šè¿‡ä»…ä½¿ç”¨EXPLAINç‰¹å¾å­¦ä¹ ä¹˜æ³•æ®‹å·®æ ¡æ­£æ¥å¢å¼ºåŸç”Ÿä¼°è®¡å™¨ï¼Œå®ç°ä½ä¾µå…¥æ€§éƒ¨ç½²ã€‚
3. å®éªŒæˆ–æ•ˆæœï¼šåœ¨ä½è¿½è¸ªè®¾ç½®ä¸‹ï¼ŒTiCardæ˜¾è‘—é™ä½å°¾éƒ¨Q-errorï¼Œå¦‚P90ä»312.85é™è‡³13.69ï¼ŒåŒæ—¶ä¿æŒä¸­ä½æ•°å‡†ç¡®æ€§ã€‚

## ğŸ“ æ‘˜è¦ï¼ˆä¸­æ–‡ï¼‰

åŸºæ•°ä¼°è®¡æ˜¯åŸºäºæˆæœ¬çš„æŸ¥è¯¢ä¼˜åŒ–çš„å…³é”®ç“¶é¢ˆï¼Œä½†å¯éƒ¨ç½²çš„æ”¹è¿›ä»ç„¶å›°éš¾ï¼šä¼ ç»Ÿä¼°è®¡å™¨å¿½ç•¥äº†ç›¸å…³æ€§ï¼Œè€Œå­¦ä¹ å‹ä¼°è®¡å™¨é€šå¸¸éœ€è¦ç‰¹å®šäºå·¥ä½œè´Ÿè½½çš„è®­ç»ƒæµç¨‹ï¼Œå¹¶éœ€è¦ä¾µå…¥æ€§åœ°é›†æˆåˆ°ä¼˜åŒ–å™¨ä¸­ã€‚æœ¬æ–‡æå‡ºäº†TiCardï¼Œä¸€ä¸ªä½ä¾µå…¥æ€§ã€åŸºäºæ ¡æ­£çš„æ¡†æ¶ï¼Œç”¨äºå¢å¼ºï¼ˆè€Œéæ›¿æ¢ï¼‰æ•°æ®åº“çš„åŸç”Ÿä¼°è®¡å™¨ã€‚TiCardä½¿ç”¨ä»…EXPLAINç‰¹å¾å­¦ä¹ ä¹˜æ³•æ®‹å·®æ ¡æ­£ï¼Œå¹¶ä»…ä½¿ç”¨EXPLAIN ANALYZEè¿›è¡Œç¦»çº¿æ ‡ç­¾ç”Ÿæˆã€‚æˆ‘ä»¬ç ”ç©¶äº†ä¸¤ç§å®é™…å®ä¾‹åŒ–ï¼šï¼ˆiï¼‰ç”¨äºäºšæ¯«ç§’æ¨ç†çš„æ¢¯åº¦æå‡å›å½’å™¨ï¼Œä»¥åŠï¼ˆiiï¼‰TabPFNï¼Œä¸€ç§ä¸Šä¸‹æ–‡è¡¨æ ¼åŸºç¡€æ¨¡å‹ï¼Œé€šè¿‡åˆ·æ–°å°å‹å‚è€ƒé›†è¿›è¡Œé€‚åº”ï¼Œæ— éœ€æ¢¯åº¦é‡æ–°è®­ç»ƒã€‚åœ¨TiDBä¸Šä½¿ç”¨TPCHå’ŒJoin Order Benchmarkï¼Œåœ¨ä½è¿½è¸ªè®¾ç½®ä¸‹ï¼ˆæ€»å…±263æ¬¡æ‰§è¡Œï¼›157æ¬¡ç”¨äºå­¦ä¹ ï¼‰ï¼ŒTiCardæ˜¾è‘—æé«˜äº†ç®—å­çº§åˆ«çš„å°¾éƒ¨å‡†ç¡®æ€§ï¼šP90 Q-errorä»312.85ï¼ˆåŸç”Ÿï¼‰é™è‡³13.69ï¼ˆTiCard-GBRï¼‰ï¼ŒP99ä»37,974.37é™è‡³3,416.50ï¼ˆTiCard-TabPFNï¼‰ï¼ŒåŒæ—¶ä»…è¿æ¥ç­–ç•¥ä¿æŒäº†è¿‘ä¹å®Œç¾çš„ä¸­ä½æ•°è¡Œä¸ºã€‚æˆ‘ä»¬å°†TiCardå®šä½ä¸ºä¸“æ³¨äºå¯éƒ¨ç½²æ€§çš„AI4DBæ„å»ºå—ï¼šæ˜ç¡®çš„èŒƒå›´ã€ä¿å®ˆçš„é›†æˆç­–ç•¥ï¼Œä»¥åŠä»ç¦»çº¿æ ¡æ­£åˆ°ä¼˜åŒ–å™¨å†…ä½¿ç”¨çš„é›†æˆè·¯çº¿å›¾ã€‚

## ğŸ”¬ æ–¹æ³•è¯¦è§£

**é—®é¢˜å®šä¹‰**ï¼šè®ºæ–‡è§£å†³æ•°æ®åº“æŸ¥è¯¢ä¼˜åŒ–ä¸­åŸºæ•°ä¼°è®¡çš„å‡†ç¡®æ€§é—®é¢˜ã€‚ç°æœ‰æ–¹æ³•çš„ç—›ç‚¹åŒ…æ‹¬ï¼šä¼ ç»Ÿä¼°è®¡å™¨ï¼ˆå¦‚ç›´æ–¹å›¾ï¼‰å¿½ç•¥æ•°æ®ç›¸å…³æ€§ï¼Œå¯¼è‡´ä¼°è®¡åå·®ï¼›å­¦ä¹ å‹ä¼°è®¡å™¨ï¼ˆå¦‚ç¥ç»ç½‘ç»œï¼‰éœ€è¦å¤§é‡æ ‡æ³¨æ•°æ®ã€ç‰¹å®šå·¥ä½œè´Ÿè½½è®­ç»ƒå’Œä¾µå…¥å¼é›†æˆåˆ°ä¼˜åŒ–å™¨ï¼Œéƒ¨ç½²æˆæœ¬é«˜ä¸”ä¸çµæ´»ã€‚

**æ ¸å¿ƒæ€è·¯**ï¼šè®ºæ–‡æå‡ºTiCardæ¡†æ¶ï¼Œæ ¸å¿ƒæ€è·¯æ˜¯â€œå¢å¼ºè€Œéæ›¿æ¢â€æ•°æ®åº“åŸç”Ÿä¼°è®¡å™¨ã€‚é€šè¿‡ä»…ä½¿ç”¨EXPLAINæŸ¥è¯¢è®¡åˆ’ç‰¹å¾ï¼ˆå¦‚ç®—å­ç±»å‹ã€è°“è¯ä¿¡æ¯ï¼‰å­¦ä¹ ä¹˜æ³•æ®‹å·®æ ¡æ­£ï¼Œå¯¹åŸç”Ÿä¼°è®¡å€¼è¿›è¡Œå¾®è°ƒï¼Œä»è€Œåœ¨ä¿æŒä½ä¾µå…¥æ€§çš„åŒæ—¶æé«˜å‡†ç¡®æ€§ã€‚è¿™ç§è®¾è®¡é¿å…äº†å­¦ä¹ å‹æ–¹æ³•å¯¹åŸå§‹æ•°æ®æˆ–å¤æ‚ç‰¹å¾çš„ä¾èµ–ï¼Œç®€åŒ–äº†éƒ¨ç½²æµç¨‹ã€‚

**æŠ€æœ¯æ¡†æ¶**ï¼šæ•´ä½“æ¶æ„åˆ†ä¸ºç¦»çº¿å­¦ä¹ å’Œåœ¨çº¿æ¨ç†ä¸¤ä¸ªé˜¶æ®µã€‚ç¦»çº¿é˜¶æ®µï¼šä½¿ç”¨EXPLAIN ANALYZEæ‰§è¡ŒæŸ¥è¯¢ï¼Œæ”¶é›†çœŸå®åŸºæ•°ä½œä¸ºæ ‡ç­¾ï¼Œç»“åˆEXPLAIN-onlyç‰¹å¾ï¼ˆå¦‚æŸ¥è¯¢è®¡åˆ’ç»“æ„ï¼‰è®­ç»ƒæ ¡æ­£æ¨¡å‹ã€‚åœ¨çº¿é˜¶æ®µï¼šåœ¨æŸ¥è¯¢ä¼˜åŒ–æ—¶ï¼Œä»…ä½¿ç”¨EXPLAINç‰¹å¾è¾“å…¥è®­ç»ƒå¥½çš„æ¨¡å‹ï¼Œé¢„æµ‹æ®‹å·®æ ¡æ­£å› å­ï¼Œåº”ç”¨äºåŸç”Ÿä¼°è®¡å€¼å¾—åˆ°æœ€ç»ˆä¼°è®¡ã€‚æ¡†æ¶æ”¯æŒå¤šç§æ¨¡å‹å®ä¾‹åŒ–ï¼Œå¦‚æ¢¯åº¦æå‡å›å½’å™¨ï¼ˆGBRï¼‰å’ŒTabPFNåŸºç¡€æ¨¡å‹ã€‚

**å…³é”®åˆ›æ–°**ï¼šæœ€é‡è¦çš„æŠ€æœ¯åˆ›æ–°æ˜¯â€œEXPLAIN-onlyæ®‹å·®å­¦ä¹ â€ã€‚ä¸ç°æœ‰å­¦ä¹ å‹æ–¹æ³•ç›¸æ¯”ï¼ŒTiCardä»…ä¾èµ–æŸ¥è¯¢è®¡åˆ’ç‰¹å¾ï¼Œæ— éœ€è®¿é—®åŸå§‹æ•°æ®æˆ–å¤æ‚ç»Ÿè®¡ä¿¡æ¯ï¼Œé™ä½äº†æ•°æ®éšç§å’Œé›†æˆå¤æ‚åº¦ã€‚æœ¬è´¨åŒºåˆ«åœ¨äºï¼šå®ƒä½œä¸ºæ ¡æ­£å±‚å åŠ åœ¨åŸç”Ÿä¼°è®¡å™¨ä¸Šï¼Œè€Œéç‹¬ç«‹ä¼°è®¡å™¨ï¼Œå®ç°äº†æ¨¡å—åŒ–å’Œå¯æ’æ‹”æ€§ã€‚

**å…³é”®è®¾è®¡**ï¼šå…³é”®è®¾è®¡åŒ…æ‹¬ï¼šä½¿ç”¨ä¹˜æ³•æ®‹å·®æ ¡æ­£ï¼ˆå³ä¼°è®¡å€¼ = åŸç”Ÿä¼°è®¡å€¼ Ã— æ ¡æ­£å› å­ï¼‰ï¼Œä»¥ä¿æŒä¼°è®¡å°ºåº¦ï¼›æŸå¤±å‡½æ•°åŸºäºQ-errorï¼ˆä¼°è®¡å€¼ä¸çœŸå®å€¼çš„æœ€å¤§æ¯”ç‡ï¼‰ä¼˜åŒ–ï¼Œä¸“æ³¨äºå°¾éƒ¨å‡†ç¡®æ€§ï¼›æ¨¡å‹å®ä¾‹åŒ–ä¸­ï¼ŒGBRç”¨äºå¿«é€Ÿæ¨ç†ï¼ˆäºšæ¯«ç§’çº§ï¼‰ï¼ŒTabPFNé€šè¿‡å°å‚è€ƒé›†ï¼ˆå¦‚157ä¸ªæ ·æœ¬ï¼‰è¿›è¡Œä¸Šä¸‹æ–‡é€‚åº”ï¼Œæ— éœ€æ¢¯åº¦é‡è®­ç»ƒï¼Œæé«˜äº†æ ·æœ¬æ•ˆç‡ã€‚

## ğŸ“Š å®éªŒäº®ç‚¹

æœ€é‡è¦çš„å®éªŒç»“æœåŒ…æ‹¬ï¼šåœ¨TiDBæ•°æ®åº“ä¸Šï¼Œä½¿ç”¨TPCHå’ŒJoin Order Benchmarkæ•°æ®é›†ï¼Œåœ¨ä½è¿½è¸ªè®¾ç½®ï¼ˆä»…263æ¬¡æ‰§è¡Œï¼Œ157æ¬¡ç”¨äºå­¦ä¹ ï¼‰ä¸‹ï¼ŒTiCardæ˜¾è‘—æå‡äº†ç®—å­çº§åˆ«çš„å°¾éƒ¨å‡†ç¡®æ€§ã€‚å…·ä½“æ€§èƒ½æ•°æ®ï¼šåŸç”Ÿä¼°è®¡å™¨çš„P90 Q-errorä¸º312.85ï¼ŒTiCard-GBRå°†å…¶é™è‡³13.69ï¼ˆæå‡çº¦95.6%ï¼‰ï¼›P99 Q-errorä»37,974.37é™è‡³3,416.50ï¼ˆTiCard-TabPFNï¼Œæå‡çº¦91.0%ï¼‰ã€‚åŒæ—¶ï¼Œä»…è¿æ¥ç­–ç•¥ä¿æŒäº†è¿‘ä¹å®Œç¾çš„ä¸­ä½æ•°è¡Œä¸ºï¼ŒéªŒè¯äº†æ¡†æ¶åœ¨ä¿æŒæ•´ä½“å‡†ç¡®æ€§çš„åŒæ—¶ä¼˜åŒ–å°¾éƒ¨è¯¯å·®çš„æœ‰æ•ˆæ€§ã€‚

## ğŸ¯ åº”ç”¨åœºæ™¯

è¯¥ç ”ç©¶ä¸»è¦åº”ç”¨äºæ•°æ®åº“ç®¡ç†ç³»ç»Ÿï¼ˆDBMSï¼‰çš„æŸ¥è¯¢ä¼˜åŒ–é¢†åŸŸï¼Œç‰¹åˆ«æ˜¯åŸºäºæˆæœ¬çš„æŸ¥è¯¢ä¼˜åŒ–å™¨ã€‚å®é™…ä»·å€¼åœ¨äºæä¾›äº†ä¸€ç§ä½ä¾µå…¥æ€§ã€å¯éƒ¨ç½²çš„åŸºæ•°ä¼°è®¡å¢å¼ºæ–¹æ¡ˆï¼Œé€‚ç”¨äºç”Ÿäº§ç¯å¢ƒä¸­çš„æ•°æ®åº“ï¼ˆå¦‚TiDBï¼‰ï¼Œèƒ½æ˜¾è‘—æå‡æŸ¥è¯¢æ€§èƒ½è€Œä¸ç ´åç°æœ‰ç³»ç»Ÿæ¶æ„ã€‚æœªæ¥å½±å“å¯èƒ½æ¨åŠ¨AI4DBï¼ˆäººå·¥æ™ºèƒ½ç”¨äºæ•°æ®åº“ï¼‰çš„å‘å±•ï¼Œä½œä¸ºæ„å»ºå—æ”¯æŒä»ç¦»çº¿æ ¡æ­£åˆ°åœ¨çº¿ä¼˜åŒ–çš„å¹³æ»‘é›†æˆï¼Œä¿ƒè¿›å­¦ä¹ å‹æ–¹æ³•åœ¨å®é™…ç³»ç»Ÿä¸­çš„å¹¿æ³›åº”ç”¨ã€‚
=======
**æå‡ºTiCardæ¡†æ¶ï¼Œé€šè¿‡å¯éƒ¨ç½²çš„ä»…è§£é‡Šæ®‹å·®å­¦ä¹ æ¥å¢å¼ºæ•°æ®åº“åŸºæ•°ä¼°è®¡ï¼Œè§£å†³ä¼ ç»Ÿæ–¹æ³•ç¼ºå¤±ç›¸å…³æ€§å’Œå­¦ä¹ å‹æ–¹æ³•éƒ¨ç½²å›°éš¾çš„é—®é¢˜ã€‚**

ğŸ¯ **åŒ¹é…é¢†åŸŸ**: **è§†è§‰é‡Œç¨‹è®¡**

**å…³é”®è¯**: `åŸºæ•°ä¼°è®¡` `æŸ¥è¯¢ä¼˜åŒ–` `æ®‹å·®å­¦ä¹ ` `å¯éƒ¨ç½²AI` `æ•°æ®åº“å¢å¼º` `æ¢¯åº¦æå‡å›å½’å™¨` `è¡¨æ ¼åŸºç¡€æ¨¡å‹` `ä½ä¾µå…¥é›†æˆ`

## ğŸ“‹ æ ¸å¿ƒè¦ç‚¹

1. æ ¸å¿ƒé—®é¢˜ï¼šä¼ ç»ŸåŸºæ•°ä¼°è®¡å™¨å¿½ç•¥æ•°æ®ç›¸å…³æ€§ï¼Œè€Œå­¦ä¹ å‹æ–¹æ³•é€šå¸¸éœ€è¦å¤æ‚è®­ç»ƒæµç¨‹å’Œä¾µå…¥å¼é›†æˆï¼Œå¯¼è‡´éƒ¨ç½²å›°éš¾ã€‚
2. æ–¹æ³•è¦ç‚¹ï¼šTiCardæ¡†æ¶é€šè¿‡ä»…è§£é‡Šç‰¹å¾å­¦ä¹ ä¹˜æ³•æ®‹å·®æ ¡æ­£ï¼Œä½ä¾µå…¥åœ°å¢å¼ºæ•°æ®åº“åŸç”Ÿä¼°è®¡å™¨ï¼Œæ— éœ€æ›¿æ¢ç°æœ‰ç³»ç»Ÿã€‚
3. å®éªŒæˆ–æ•ˆæœï¼šåœ¨ä½è·Ÿè¸ªè®¾ç½®ä¸‹ï¼ŒTiCardæ˜¾è‘—é™ä½å°¾éƒ¨Qè¯¯å·®ï¼Œå¦‚P90ä»312.85é™è‡³13.69ï¼ŒåŒæ—¶ä¿æŒä¸­ä½æ•°å‡†ç¡®æ€§ã€‚

## ğŸ“ æ‘˜è¦ï¼ˆä¸­æ–‡ï¼‰

åŸºæ•°ä¼°è®¡æ˜¯åŸºäºæˆæœ¬çš„æŸ¥è¯¢ä¼˜åŒ–çš„å…³é”®ç“¶é¢ˆï¼Œä½†å¯éƒ¨ç½²çš„æ”¹è¿›ä»ç„¶å›°éš¾ï¼šä¼ ç»Ÿä¼°è®¡å™¨ç¼ºå¤±ç›¸å…³æ€§ï¼Œè€Œå­¦ä¹ å‹ä¼°è®¡å™¨é€šå¸¸éœ€è¦ç‰¹å®šå·¥ä½œè´Ÿè½½çš„è®­ç»ƒæµç¨‹å’Œä¾µå…¥å¼é›†æˆåˆ°ä¼˜åŒ–å™¨ä¸­ã€‚æœ¬æ–‡æå‡ºTiCardï¼Œä¸€ä¸ªä½ä¾µå…¥ã€åŸºäºæ ¡æ­£çš„æ¡†æ¶ï¼Œç”¨äºå¢å¼ºï¼ˆè€Œéæ›¿æ¢ï¼‰æ•°æ®åº“çš„åŸç”Ÿä¼°è®¡å™¨ã€‚TiCardä½¿ç”¨ä»…è§£é‡Šç‰¹å¾å­¦ä¹ ä¹˜æ³•æ®‹å·®æ ¡æ­£ï¼Œå¹¶ä»…ä½¿ç”¨è§£é‡Šåˆ†æè¿›è¡Œç¦»çº¿æ ‡ç­¾ã€‚æˆ‘ä»¬ç ”ç©¶äº†ä¸¤ç§å®é™…å®ä¾‹åŒ–ï¼šï¼ˆiï¼‰æ¢¯åº¦æå‡å›å½’å™¨ç”¨äºäºšæ¯«ç§’çº§æ¨ç†ï¼Œå’Œï¼ˆiiï¼‰TabPFNï¼Œä¸€ç§ä¸Šä¸‹æ–‡è¡¨æ ¼åŸºç¡€æ¨¡å‹ï¼Œé€šè¿‡åˆ·æ–°å°å‚è€ƒé›†è€Œæ— éœ€æ¢¯åº¦é‡æ–°è®­ç»ƒæ¥é€‚åº”ã€‚åœ¨TiDBä¸Šä½¿ç”¨TPCHå’Œè¿æ¥é¡ºåºåŸºå‡†æµ‹è¯•ï¼Œåœ¨ä½è·Ÿè¸ªè®¾ç½®ä¸­ï¼ˆæ€»å…±263æ¬¡æ‰§è¡Œï¼›157æ¬¡ç”¨äºå­¦ä¹ ï¼‰ï¼ŒTiCardæ˜¾è‘—æé«˜äº†æ“ä½œå‘˜çº§å°¾éƒ¨å‡†ç¡®æ€§ï¼šP90 Qè¯¯å·®ä»312.85ï¼ˆåŸç”Ÿï¼‰é™è‡³13.69ï¼ˆTiCard-GBRï¼‰ï¼ŒP99ä»37,974.37é™è‡³3,416.50ï¼ˆTiCard-TabPFNï¼‰ï¼Œè€Œä»…è¿æ¥ç­–ç•¥ä¿æŒäº†è¿‘ä¹å®Œç¾çš„ä¸­ä½æ•°è¡Œä¸ºã€‚æˆ‘ä»¬å°†TiCardå®šä½ä¸ºä¸“æ³¨äºå¯éƒ¨ç½²æ€§çš„AI4DBæ„å»ºå—ï¼šæ˜ç¡®çš„èŒƒå›´ã€ä¿å®ˆçš„é›†æˆç­–ç•¥ï¼Œä»¥åŠä»ç¦»çº¿æ ¡æ­£åˆ°ä¼˜åŒ–å™¨å†…ä½¿ç”¨çš„é›†æˆè·¯çº¿å›¾ã€‚

## ğŸ”¬ æ–¹æ³•è¯¦è§£

TiCardæ˜¯ä¸€ä¸ªåŸºäºæ ¡æ­£çš„æ¡†æ¶ï¼Œæ•´ä½“ä¸Šé€šè¿‡ä»…è§£é‡Šç‰¹å¾ï¼ˆå¦‚æŸ¥è¯¢è®¡åˆ’ç»“æ„ï¼‰å­¦ä¹ ä¹˜æ³•æ®‹å·®æ¥å¢å¼ºæ•°æ®åº“åŸç”ŸåŸºæ•°ä¼°è®¡å™¨ã€‚å…³é”®æŠ€æœ¯åˆ›æ–°åŒ…æ‹¬ï¼šä½¿ç”¨EXPLAIN-onlyç‰¹å¾é¿å…è¿è¡Œæ—¶æ•°æ®è®¿é—®ï¼Œä»…ä¾èµ–EXPLAIN ANALYZEè¿›è¡Œç¦»çº¿æ ‡ç­¾ç”Ÿæˆï¼Œä»¥åŠæä¾›ä¸¤ç§å®ä¾‹åŒ–â€”â€”æ¢¯åº¦æå‡å›å½’å™¨ï¼ˆGBRï¼‰ç”¨äºå¿«é€Ÿæ¨ç†å’ŒTabPFNåŸºç¡€æ¨¡å‹ç”¨äºä¸Šä¸‹æ–‡é€‚åº”ã€‚ä¸ç°æœ‰æ–¹æ³•çš„ä¸»è¦åŒºåˆ«åœ¨äºå…¶ä½ä¾µå…¥æ€§ï¼šå®ƒä¸æ›¿æ¢åŸç”Ÿä¼°è®¡å™¨ï¼Œè€Œæ˜¯ä½œä¸ºæ ¡æ­£å±‚ï¼Œé€šè¿‡ä¿å®ˆé›†æˆç­–ç•¥ï¼ˆå¦‚ä»…è¿æ¥ç­–ç•¥ï¼‰å‡å°‘å¯¹ä¼˜åŒ–å™¨çš„å¹²æ‰°ï¼Œå¹¶æ”¯æŒä»ç¦»çº¿åˆ°åœ¨çº¿é›†æˆçš„è·¯çº¿å›¾ã€‚

## ğŸ“Š å®éªŒäº®ç‚¹

åœ¨TiDBçš„TPCHå’ŒJoin Order Benchmarkæµ‹è¯•ä¸­ï¼ŒTiCardåœ¨ä½è·Ÿè¸ªè®¾ç½®ï¼ˆä»…157æ¬¡å­¦ä¹ æ‰§è¡Œï¼‰ä¸‹æ˜¾è‘—æå‡å°¾éƒ¨å‡†ç¡®æ€§ï¼šP90 Qè¯¯å·®ä»åŸç”Ÿ312.85é™è‡³13.69ï¼ˆTiCard-GBRï¼‰ï¼ŒP99ä»37,974.37é™è‡³3,416.50ï¼ˆTiCard-TabPFNï¼‰ï¼ŒåŒæ—¶ä»…è¿æ¥ç­–ç•¥ä¿æŒä¸­ä½æ•°Qè¯¯å·®æ¥è¿‘1ï¼Œå±•ç¤ºäº†é«˜æ•ˆéƒ¨ç½²æ½œåŠ›ã€‚

## ğŸ¯ åº”ç”¨åœºæ™¯

è¯¥ç ”ç©¶ä¸»è¦åº”ç”¨äºæ•°æ®åº“æŸ¥è¯¢ä¼˜åŒ–é¢†åŸŸï¼Œç‰¹åˆ«æ˜¯åŸºäºæˆæœ¬çš„æŸ¥è¯¢ä¼˜åŒ–å™¨ï¼Œå¦‚TiDBç­‰å…³ç³»å‹æ•°æ®åº“ç³»ç»Ÿã€‚æ½œåœ¨ä»·å€¼åœ¨äºæä¾›å¯éƒ¨ç½²çš„AIå¢å¼ºæ–¹æ¡ˆï¼Œé€šè¿‡ä½ä¾µå…¥æ–¹å¼æå‡åŸºæ•°ä¼°è®¡å‡†ç¡®æ€§ï¼Œå‡å°‘æŸ¥è¯¢æ‰§è¡Œæ—¶é—´ï¼Œé€‚ç”¨äºéœ€è¦é«˜æ•ˆæ•°æ®å¤„ç†çš„ä¼ä¸šçº§åº”ç”¨å’Œäº‘æ•°æ®åº“æœåŠ¡ã€‚
>>>>>>> 1c05e1c356e1f28c2e5e6e14cf6811c0d5120ab7

## ğŸ“„ æ‘˜è¦ï¼ˆåŸæ–‡ï¼‰

> Cardinality estimation is a key bottleneck for cost-based query optimization, yet deployable improvements remain difficult: classical estimators miss correlations, while learned estimators often require workload-specific training pipelines and invasive integration into the optimizer. This paper presents TiCard, a low intrusion, correction-based framework that augments (rather than replaces) a database's native estimator. TiCard learns multiplicative residual corrections using EXPLAIN-only features, and uses EXPLAIN ANALYZE only for offline labels. We study two practical instantiations: (i) a Gradient Boosting Regressor for sub-millisecond inference, and (ii) TabPFN, an in-context tabular foundation model that adapts by refreshing a small reference set without gradient retraining. On TiDB with TPCH and the Join Order Benchmark, in a low-trace setting (263 executions total; 157 used for learning), TiCard improves operator-level tail accuracy substantially: P90 Q-error drops from 312.85 (native) to 13.69 (TiCard-GBR), and P99 drops from 37,974.37 to 3,416.50 (TiCard-TabPFN), while a join-only policy preserves near-perfect median behavior. We position TiCard as an AI4DB building block focused on deployability: explicit scope, conservative integration policies, and an integration roadmap from offline correction to in-optimizer use.

