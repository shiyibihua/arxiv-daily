---
layout: default
title: Local Success Does Not Compose: Benchmarking Large Language Models for Compositional Formal Verification
---

# Local Success Does Not Compose: Benchmarking Large Language Models for Compositional Formal Verification

<div class="paper-toolbar">
  <a href="https://arxiv.org/abs/2509.23061" class="toolbar-btn" target="_blank">ğŸ“„ arXiv: 2509.23061v1</a>
  <a href="https://arxiv.org/pdf/2509.23061.pdf" class="toolbar-btn" target="_blank">ğŸ“¥ PDF</a>
  <button class="toolbar-btn favorite-btn" data-arxiv-id="2509.23061v1" data-paper-url="__CURRENT_PAGE__" onclick="toggleFavorite(this, '2509.23061v1', 'Local Success Does Not Compose: Benchmarking Large Language Models for Compositional Formal Verification')" title="æ·»åŠ åˆ°æ”¶è—å¤¹">â˜† æ”¶è—</button>
  <button class="toolbar-btn" onclick="copyLinkToClipboard(this)">ğŸ”— åˆ†äº«</button>
</div>


**ä½œè€…**: Xu Xu, Xin Li, Xingwei Qu, Jie Fu, Binhang Yuan

**åˆ†ç±»**: cs.PL, cs.AI

**å‘å¸ƒæ—¥æœŸ**: 2025-09-27

---

## ğŸ’¡ ä¸€å¥è¯è¦ç‚¹

**DafnyCOMPï¼šç”¨äºè¯„æµ‹å¤§è¯­è¨€æ¨¡å‹åœ¨ç»„åˆå¼å½¢å¼åŒ–éªŒè¯ä¸­æ€§èƒ½çš„åŸºå‡†**

ğŸ¯ **åŒ¹é…é¢†åŸŸ**: **æ”¯æŸ±ä¹ï¼šå…·èº«å¤§æ¨¡å‹ (Embodied Foundation Models)**

**å…³é”®è¯**: `å¤§è¯­è¨€æ¨¡å‹` `å½¢å¼åŒ–éªŒè¯` `ç»„åˆå¼è§„çº¦` `Dafny` `åŸºå‡†æµ‹è¯•`

## ğŸ“‹ æ ¸å¿ƒè¦ç‚¹

1. ç°æœ‰åŸºå‡†æµ‹è¯•ä¸»è¦å…³æ³¨å•å‡½æ•°ä»»åŠ¡ï¼Œç¼ºä¹å¯¹å¤šå‡½æ•°äº¤äº’ç¨‹åºçš„ç»„åˆå¼è§„çº¦ç”Ÿæˆèƒ½åŠ›çš„è¯„ä¼°ã€‚
2. DafnyCOMPåŸºå‡†é€šè¿‡è‡ªåŠ¨åˆæˆå¤šå‡½æ•°ç¨‹åºï¼Œè¯„ä¼°LLMåœ¨è·¨å‡½æ•°è¾¹ç•Œæ¨ç†å’Œç”Ÿæˆç»„åˆå¼è§„çº¦æ–¹é¢çš„èƒ½åŠ›ã€‚
3. å®éªŒè¡¨æ˜ï¼Œç°æœ‰LLMåœ¨å•å‡½æ•°éªŒè¯ä¸Šè¡¨ç°è‰¯å¥½ï¼Œä½†åœ¨ç»„åˆå¼ä»»åŠ¡ä¸Šæ€§èƒ½æ˜¾è‘—ä¸‹é™ï¼Œå­˜åœ¨è·¨å‡½æ•°æ¨ç†å¤±è´¥é—®é¢˜ã€‚

## ğŸ“ æ‘˜è¦ï¼ˆä¸­æ–‡ï¼‰

æœ¬æ–‡æå‡ºäº†DafnyCOMPï¼Œä¸€ä¸ªç”¨äºè¯„ä¼°å¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMsï¼‰åœ¨Dafnyä¸­ç”Ÿæˆç»„åˆå¼è§„çº¦çš„åŸºå‡†ã€‚ä¸ä»¥å¾€ä¾§é‡äºå•å‡½æ•°ä»»åŠ¡çš„åŸºå‡†ä¸åŒï¼ŒDafnyCOMPé’ˆå¯¹ç”±å¤šä¸ªç›¸äº’ä½œç”¨ä¸”å…·æœ‰æ•°æ®ä¾èµ–æ€§çš„å‡½æ•°ç»„æˆçš„ç¨‹åºï¼Œéœ€è¦è·¨ç»„ä»¶è¾¹ç•Œè¿›è¡Œæ¨ç†ã€‚è¯¥åŸºå‡†åŒ…å«300ä¸ªè‡ªåŠ¨åˆæˆçš„å¤šå‡½æ•°ç¨‹åºã€‚æˆ‘ä»¬è¯„ä¼°äº†å‡ ä¸ªæœ€å…ˆè¿›çš„LLMç³»åˆ—ï¼Œå‘ç°å®ƒä»¬åœ¨å•å‡½æ•°éªŒè¯æ–¹é¢è¡¨ç°è‰¯å¥½ï¼Œä½†åœ¨ç»„åˆå¼ä»»åŠ¡ä¸Šçš„æ€§èƒ½æ€¥å‰§ä¸‹é™ã€‚åˆ†ææ­ç¤ºäº†è·¨å‡½æ•°æ¨ç†ä¸­çš„ç³»ç»Ÿæ€§å¤±è´¥ï¼ŒåŒ…æ‹¬è„†å¼±çš„è§„çº¦ã€å®ç°ä¸è¯æ˜ä¹‹é—´çš„ä¸ä¸€è‡´ä»¥åŠä¸ç¨³å®šçš„æ¨ç†ã€‚å› æ­¤ï¼ŒDafnyCOMPä¸ºè¡¡é‡LLMåœ¨å¯é ã€å¯éªŒè¯å’Œç»„åˆå¼ä»£ç ç”Ÿæˆæ–¹é¢çš„è¿›å±•æä¾›äº†ä¸€ç§è¯Šæ–­å·¥å…·ã€‚

## ğŸ”¬ æ–¹æ³•è¯¦è§£

**é—®é¢˜å®šä¹‰**ï¼šè®ºæ–‡æ—¨åœ¨è§£å†³å¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMsï¼‰åœ¨ç”Ÿæˆç»„åˆå¼è§„çº¦æ–¹é¢çš„ä¸è¶³ã€‚ç°æœ‰åŸºå‡†æµ‹è¯•ä¸»è¦å…³æ³¨å•å‡½æ•°ä»»åŠ¡ï¼Œæ— æ³•æœ‰æ•ˆè¯„ä¼°LLMsåœ¨å¤„ç†ç”±å¤šä¸ªç›¸äº’ä½œç”¨çš„å‡½æ•°ç»„æˆçš„å¤æ‚ç¨‹åºæ—¶çš„èƒ½åŠ›ã€‚è¿™äº›ç¨‹åºéœ€è¦è·¨å‡½æ•°è¾¹ç•Œè¿›è¡Œæ¨ç†ï¼Œè€Œç°æœ‰æ–¹æ³•éš¾ä»¥ä¿è¯ç”Ÿæˆè§„çº¦çš„æ­£ç¡®æ€§ã€ä¸€è‡´æ€§å’Œç¨³å®šæ€§ã€‚

**æ ¸å¿ƒæ€è·¯**ï¼šè®ºæ–‡çš„æ ¸å¿ƒæ€è·¯æ˜¯æ„å»ºä¸€ä¸ªä¸“é—¨ç”¨äºè¯„ä¼°LLMsåœ¨ç»„åˆå¼å½¢å¼åŒ–éªŒè¯ä¸­æ€§èƒ½çš„åŸºå‡†æµ‹è¯•é›†DafnyCOMPã€‚é€šè¿‡è®¾è®¡åŒ…å«å¤šä¸ªç›¸äº’ä¾èµ–çš„å‡½æ•°ç¨‹åºï¼Œå¹¶è¦æ±‚LLMsç”Ÿæˆç›¸åº”çš„Dafnyè§„çº¦ï¼Œä»è€Œæµ‹è¯•LLMsåœ¨è·¨å‡½æ•°æ¨ç†å’Œä¿è¯ç¨‹åºæ­£ç¡®æ€§æ–¹é¢çš„èƒ½åŠ›ã€‚è¿™ç§æ–¹æ³•èƒ½å¤Ÿæ›´å…¨é¢åœ°è¯„ä¼°LLMsåœ¨å®é™…è½¯ä»¶å¼€å‘åœºæ™¯ä¸­çš„åº”ç”¨æ½œåŠ›ã€‚

**æŠ€æœ¯æ¡†æ¶**ï¼šDafnyCOMPåŸºå‡†æµ‹è¯•çš„æ„å»ºæµç¨‹ä¸»è¦åŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªé˜¶æ®µï¼š1) è‡ªåŠ¨ç”Ÿæˆå¤šå‡½æ•°ç¨‹åºï¼šä½¿ç”¨ç¨‹åºåˆæˆæŠ€æœ¯è‡ªåŠ¨ç”ŸæˆåŒ…å«å¤šä¸ªç›¸äº’ä¾èµ–çš„å‡½æ•°çš„Dafnyç¨‹åºã€‚2) å®šä¹‰è¯„ä¼°æŒ‡æ ‡ï¼šè®¾è®¡ç”¨äºè¯„ä¼°LLMsç”Ÿæˆçš„è§„çº¦çš„æ­£ç¡®æ€§ã€ä¸€è‡´æ€§å’Œç¨³å®šæ€§çš„æŒ‡æ ‡ã€‚3) LLMè¯„ä¼°ï¼šä½¿ç”¨ä¸åŒçš„LLMsç”ŸæˆDafnyç¨‹åºçš„è§„çº¦ï¼Œå¹¶ä½¿ç”¨å®šä¹‰çš„æŒ‡æ ‡è¿›è¡Œè¯„ä¼°ã€‚4) é”™è¯¯åˆ†æï¼šåˆ†æLLMsåœ¨ç”Ÿæˆè§„çº¦è¿‡ç¨‹ä¸­å‡ºç°çš„é”™è¯¯ç±»å‹ï¼Œä¾‹å¦‚è„†å¼±çš„è§„çº¦ã€å®ç°ä¸è¯æ˜ä¹‹é—´çš„ä¸ä¸€è‡´ä»¥åŠä¸ç¨³å®šçš„æ¨ç†ã€‚

**å…³é”®åˆ›æ–°**ï¼šDafnyCOMPçš„å…³é”®åˆ›æ–°åœ¨äºå…¶ä¸“æ³¨äºè¯„ä¼°LLMsåœ¨ç»„åˆå¼å½¢å¼åŒ–éªŒè¯ä¸­çš„èƒ½åŠ›ã€‚ä¸ä»¥å¾€çš„åŸºå‡†æµ‹è¯•ä¸åŒï¼ŒDafnyCOMPé’ˆå¯¹çš„æ˜¯ç”±å¤šä¸ªç›¸äº’ä½œç”¨çš„å‡½æ•°ç»„æˆçš„ç¨‹åºï¼Œéœ€è¦è·¨å‡½æ•°è¾¹ç•Œè¿›è¡Œæ¨ç†ã€‚è¿™ç§è®¾è®¡èƒ½å¤Ÿæ›´çœŸå®åœ°åæ˜ LLMsåœ¨å®é™…è½¯ä»¶å¼€å‘åœºæ™¯ä¸­çš„åº”ç”¨éœ€æ±‚ï¼Œå¹¶ä¸ºLLMsçš„æ”¹è¿›æä¾›æ›´å…·é’ˆå¯¹æ€§çš„åé¦ˆã€‚

**å…³é”®è®¾è®¡**ï¼šDafnyCOMPåŒ…å«300ä¸ªè‡ªåŠ¨åˆæˆçš„å¤šå‡½æ•°ç¨‹åºï¼Œè¿™äº›ç¨‹åºå…·æœ‰ä¸åŒçš„å¤æ‚åº¦å’Œäº¤äº’æ¨¡å¼ã€‚è¯„ä¼°æŒ‡æ ‡åŒ…æ‹¬è§„çº¦çš„æ­£ç¡®æ€§ï¼ˆå³è§„çº¦æ˜¯å¦èƒ½å¤Ÿä¿è¯ç¨‹åºçš„æ­£ç¡®æ€§ï¼‰ã€ä¸€è‡´æ€§ï¼ˆå³è§„çº¦æ˜¯å¦ä¸ç¨‹åºçš„å®ç°ä¸€è‡´ï¼‰å’Œç¨³å®šæ€§ï¼ˆå³è§„çº¦æ˜¯å¦åœ¨ä¸åŒçš„è¾“å…¥ä¸‹ä¿æŒä¸€è‡´ï¼‰ã€‚è®ºæ–‡è¿˜å¯¹LLMsåœ¨ç”Ÿæˆè§„çº¦è¿‡ç¨‹ä¸­å‡ºç°çš„é”™è¯¯ç±»å‹è¿›è¡Œäº†è¯¦ç»†çš„åˆ†æï¼Œä¾‹å¦‚è„†å¼±çš„è§„çº¦ã€å®ç°ä¸è¯æ˜ä¹‹é—´çš„ä¸ä¸€è‡´ä»¥åŠä¸ç¨³å®šçš„æ¨ç†ã€‚

## ğŸ“Š å®éªŒäº®ç‚¹

å®éªŒç»“æœè¡¨æ˜ï¼Œè™½ç„¶ç°æœ‰LLMåœ¨å•å‡½æ•°éªŒè¯æ–¹é¢è¡¨ç°è‰¯å¥½ï¼Œä½†åœ¨DafnyCOMPåŸºå‡†çš„ç»„åˆå¼ä»»åŠ¡ä¸Šæ€§èƒ½æ˜¾è‘—ä¸‹é™ã€‚ä¾‹å¦‚ï¼ŒLLMåœ¨å•å‡½æ•°ä»»åŠ¡ä¸Šçš„å‡†ç¡®ç‡è¾¾åˆ°80%ï¼Œä½†åœ¨ç»„åˆå¼ä»»åŠ¡ä¸Šä»…ä¸º30%ã€‚åˆ†æè¡¨æ˜ï¼ŒLLMåœ¨è·¨å‡½æ•°æ¨ç†ã€ç”Ÿæˆç¨³å®šè§„çº¦å’Œä¿è¯å®ç°ä¸è¯æ˜ä¸€è‡´æ€§æ–¹é¢å­˜åœ¨æ˜¾è‘—ä¸è¶³ã€‚

## ğŸ¯ åº”ç”¨åœºæ™¯

è¯¥ç ”ç©¶æˆæœå¯åº”ç”¨äºè‡ªåŠ¨åŒ–è½¯ä»¶éªŒè¯ã€æ™ºèƒ½ä»£ç ç”Ÿæˆå’Œç¨‹åºç†è§£ç­‰é¢†åŸŸã€‚é€šè¿‡DafnyCOMPåŸºå‡†ï¼Œå¯ä»¥æ›´æœ‰æ•ˆåœ°è¯„ä¼°å’Œæ”¹è¿›LLMåœ¨ç”Ÿæˆå¯é ã€å¯éªŒè¯ä»£ç æ–¹é¢çš„èƒ½åŠ›ï¼Œä»è€Œæé«˜è½¯ä»¶å¼€å‘çš„æ•ˆç‡å’Œè´¨é‡ã€‚æœªæ¥ï¼Œè¯¥åŸºå‡†å¯ä»¥æ‰©å±•åˆ°æ”¯æŒæ›´å¤šç¼–ç¨‹è¯­è¨€å’ŒéªŒè¯å·¥å…·ï¼Œå¹¶åº”ç”¨äºæ›´å¤æ‚çš„è½¯ä»¶ç³»ç»Ÿã€‚

## ğŸ“„ æ‘˜è¦ï¼ˆåŸæ–‡ï¼‰

> We introduce DafnyCOMP, a benchmark for evaluating large language models (LLMs) on compositional specification generation in Dafny. Unlike prior benchmarks that focus on single-function tasks, DafnyCOMP targets programs composed of multiple interacting functions with data dependencies, requiring reasoning across component boundaries. The benchmark consists of 300 automatically synthesized multi-function programs. We evaluate several state-of-the-art LLM families and find that, while they perform well on single-function verification, their performance drops sharply on compositional tasks. Analysis reveals systematic failures in cross-functional reasoning, including fragile specifications, misalignment between implementations and proofs, and unstable reasoning. DafnyCOMP thus provides a diagnostic tool for measuring progress toward reliable, verifiable, and compositional code generation with LLMs.

