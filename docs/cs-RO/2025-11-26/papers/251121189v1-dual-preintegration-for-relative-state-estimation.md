---
layout: default
title: Dual Preintegration for Relative State Estimation
---

# Dual Preintegration for Relative State Estimation

**arXiv**: [2511.21189v1](https://arxiv.org/abs/2511.21189) | [PDF](https://arxiv.org/pdf/2511.21189.pdf)

**ä½œè€…**: Ruican Xia, Hailong Pei

**åˆ†ç±»**: cs.RO

**å‘å¸ƒæ—¥æœŸ**: 2025-11-26

---

## ðŸ’¡ ä¸€å¥è¯è¦ç‚¹

**æå‡ºåŒé‡é¢„ç§¯åˆ†æ–¹æ³•ï¼Œæå‡ç›¸å¯¹çŠ¶æ€ä¼°è®¡åœ¨å‰§çƒˆæ—‹è½¬ä¸‹çš„ç²¾åº¦å’Œé²æ£’æ€§ï¼Œå°¤å…¶é€‚ç”¨äºŽVRåœºæ™¯ã€‚**

ðŸŽ¯ **åŒ¹é…é¢†åŸŸ**: **æ”¯æŸ±ä¸‰ï¼šç©ºé—´æ„ŸçŸ¥ (Perception & SLAM)**

**å…³é”®è¯**: `ç›¸å¯¹çŠ¶æ€ä¼°è®¡` `åŒé‡é¢„ç§¯åˆ†` `IMUé¢„ç§¯åˆ†` `è™šæ‹ŸçŽ°å®ž` `å¯è§‚æµ‹æ€§åˆ†æž`

## ðŸ“‹ æ ¸å¿ƒè¦ç‚¹

1. çŽ°æœ‰ç›¸å¯¹çŠ¶æ€ä¼°è®¡æ–¹æ³•åœ¨å‚è€ƒå¹³å°å‰§çƒˆæ—‹è½¬æ—¶ç²¾åº¦ä¸‹é™ï¼Œå°¤å…¶æ˜¯åœ¨å¹³å°é—´è·è¾ƒå¤§æ—¶ï¼Œçº¿æ€§åŒ–è¯¯å·®ç´¯ç§¯å¯¼è‡´ä¼°è®¡æ¼‚ç§»ã€‚
2. æå‡ºåŒé‡é¢„ç§¯åˆ†æ–¹æ³•ï¼ŒåŒæ—¶åˆ©ç”¨ä¸¤ä¸ªå¹³å°çš„IMUé¢„ç§¯åˆ†ä¿¡æ¯ä½œä¸ºè¿åŠ¨å­¦çº¦æŸï¼Œæ”¯æŒé«˜æ•ˆé‡çº¿æ€§åŒ–ï¼Œä»Žè€Œå‡è½»çº¿æ€§åŒ–è¯¯å·®çš„å½±å“ã€‚
3. é€šè¿‡ä»¿çœŸå’ŒçœŸå®žVRåœºæ™¯å®žéªŒï¼ŒéªŒè¯äº†æ‰€ææ–¹æ³•åœ¨ç²¾åº¦å’Œé²æ£’æ€§æ–¹é¢ä¼˜äºŽçŽ°æœ‰ç®—æ³•ï¼Œå°¤å…¶æ˜¯åœ¨éžçº¿æ€§æ—‹è½¬å’Œçº¹ç†ç¼ºå¤±çš„æƒ…å†µä¸‹ã€‚

## ðŸ“ æ‘˜è¦ï¼ˆä¸­æ–‡ï¼‰

æœ¬æ–‡æå‡ºäº†ä¸€ç§ç”¨äºŽç›¸å¯¹çŠ¶æ€ä¼°è®¡çš„åŒé‡é¢„ç§¯åˆ†æ–¹æ³•ï¼Œæ—¨åœ¨æé«˜ä¸¤ä¸ªå…­è‡ªç”±åº¦è¿åŠ¨å¹³å°ä¹‹é—´çš„ç›¸äº’å®šä½ç²¾åº¦ã€‚ç ”ç©¶è¡¨æ˜Žï¼ŒåŸºäºŽåœ†å½¢è¿åŠ¨åŽŸç†ï¼Œå‚è€ƒå¹³å°çš„éžçº¿æ€§æ—‹è½¬å¯¹ä¼°è®¡ç²¾åº¦å½±å“æ˜¾è‘—ï¼Œå°¤å…¶æ˜¯åœ¨å¹³å°é—´è·è¾ƒå¤§æ—¶ã€‚å³ä½¿é‡‡ç”¨çº¿æ€§åŒ–è¿åŠ¨å­¦ï¼Œç´¯ç§¯çº¿æ€§åŒ–è¯¯å·®ä¹Ÿä¼šé™ä½Žç²¾åº¦ã€‚åœ¨è™šæ‹ŸçŽ°å®žï¼ˆVRï¼‰åº”ç”¨ä¸­ï¼Œè¿™è¡¨çŽ°ä¸ºå¤´æˆ´å¼æ˜¾ç¤ºå™¨å¿«é€Ÿæ—‹è½¬æ—¶ï¼Œ6-DoFæŽ§åˆ¶å™¨çš„è·Ÿè¸ªå‡ºçŽ°æ˜Žæ˜¾çš„å®šä½è¯¯å·®ã€‚çº¿æ€§åŒ–è¯¯å·®ä¼šå¯¼è‡´ä¼°è®¡æ¼‚ç§»å’Œä¸ä¸€è‡´ã€‚å€Ÿé‰´IMUé¢„ç§¯åˆ†çš„æ€æƒ³ï¼Œæœ¬æ–‡æå‡ºåŒé‡é¢„ç§¯åˆ†ï¼Œå³åŒæ—¶åˆ©ç”¨ä¸¤ä¸ªå¹³å°çš„IMUé¢„ç§¯åˆ†ä¿¡æ¯ï¼Œä½œä¸ºè¿žç»­ç›¸å¯¹çŠ¶æ€çš„è¿åŠ¨å­¦çº¦æŸï¼Œå¹¶æ”¯æŒé«˜æ•ˆçš„é‡çº¿æ€§åŒ–ã€‚æ­¤å¤–ï¼Œè¿˜è¿›è¡Œäº†çŠ¶æ€å¯è§‚æµ‹æ€§åˆ†æžï¼Œå¹¶è§£æžåœ°æŽ¨å¯¼äº†é›¶ç©ºé—´ã€‚é€šè¿‡ä»¿çœŸå’ŒçœŸå®žå®žéªŒéªŒè¯äº†è¯¥ç®—æ³•ï¼Œç»“æžœè¡¨æ˜Žï¼Œè¯¥æ–¹æ³•æ¯”çŽ°æœ‰ç®—æ³•æ›´ç²¾ç¡®ã€æ›´é²æ£’ã€‚

## ðŸ”¬ æ–¹æ³•è¯¦è§£

**é—®é¢˜å®šä¹‰**ï¼šè®ºæ–‡æ—¨åœ¨è§£å†³ç›¸å¯¹çŠ¶æ€ä¼°è®¡ä¸­ï¼Œå‚è€ƒå¹³å°å‰§çƒˆæ—‹è½¬å¯¼è‡´ä¼°è®¡ç²¾åº¦ä¸‹é™çš„é—®é¢˜ã€‚çŽ°æœ‰æ–¹æ³•ï¼Œå³ä½¿é‡‡ç”¨çº¿æ€§åŒ–è¿åŠ¨å­¦ï¼Œä¹Ÿä¼šå› ä¸ºç´¯ç§¯çº¿æ€§åŒ–è¯¯å·®è€Œäº§ç”Ÿæ¼‚ç§»ï¼Œå°¤å…¶æ˜¯åœ¨å¹³å°é—´è·è¾ƒå¤§æ—¶ã€‚è¿™åœ¨VRç­‰éœ€è¦é«˜ç²¾åº¦è·Ÿè¸ªçš„åº”ç”¨ä¸­è¡¨çŽ°å°¤ä¸ºæ˜Žæ˜¾ã€‚çŽ°æœ‰æ–¹æ³•æ— æ³•æœ‰æ•ˆå¤„ç†è¿™ç§éžçº¿æ€§æ—‹è½¬å¸¦æ¥çš„è¯¯å·®ã€‚

**æ ¸å¿ƒæ€è·¯**ï¼šè®ºæ–‡çš„æ ¸å¿ƒæ€è·¯æ˜¯å€Ÿé‰´IMUé¢„ç§¯åˆ†çš„æ€æƒ³ï¼Œå°†ä¸¤ä¸ªå¹³å°çš„IMUé¢„ç§¯åˆ†ä¿¡æ¯åŒæ—¶åˆ©ç”¨èµ·æ¥ï¼Œæž„å»ºåŒé‡é¢„ç§¯åˆ†çº¦æŸã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼Œå¯ä»¥æ›´æœ‰æ•ˆåœ°çº¦æŸè¿žç»­ç›¸å¯¹çŠ¶æ€ï¼Œå¹¶æ”¯æŒé«˜æ•ˆçš„é‡çº¿æ€§åŒ–ï¼Œä»Žè€Œå‡è½»çº¿æ€§åŒ–è¯¯å·®çš„å½±å“ï¼Œæé«˜ä¼°è®¡ç²¾åº¦å’Œé²æ£’æ€§ã€‚

**æŠ€æœ¯æ¡†æž¶**ï¼šè¯¥æ–¹æ³•çš„æ ¸å¿ƒæ˜¯æž„å»ºä¸€ä¸ªåŸºäºŽåŒé‡é¢„ç§¯åˆ†çš„ç›¸å¯¹çŠ¶æ€ä¼°è®¡å™¨ã€‚æ•´ä½“æµç¨‹åŒ…æ‹¬ï¼š1) ä»Žä¸¤ä¸ªå¹³å°èŽ·å–IMUæ•°æ®ï¼›2) å¯¹ä¸¤ä¸ªå¹³å°çš„IMUæ•°æ®è¿›è¡Œé¢„ç§¯åˆ†ï¼Œå¾—åˆ°é¢„ç§¯åˆ†é‡ï¼›3) å°†é¢„ç§¯åˆ†é‡ä½œä¸ºè§‚æµ‹å€¼ï¼Œæž„å»ºç›¸å¯¹çŠ¶æ€ä¼°è®¡å™¨ï¼›4) åˆ©ç”¨ä¼˜åŒ–æ–¹æ³•æ±‚è§£ç›¸å¯¹çŠ¶æ€ï¼Œå¹¶è¿›è¡Œé‡çº¿æ€§åŒ–ã€‚æ­¤å¤–ï¼Œè®ºæ–‡è¿˜è¿›è¡Œäº†å¯è§‚æµ‹æ€§åˆ†æžï¼Œä»¥ç¡®ä¿çŠ¶æ€çš„å¯ä¼°è®¡æ€§ã€‚

**å…³é”®åˆ›æ–°**ï¼šæœ€é‡è¦çš„æŠ€æœ¯åˆ›æ–°ç‚¹åœ¨äºŽæå‡ºäº†åŒé‡é¢„ç§¯åˆ†çš„æ¦‚å¿µï¼Œå¹¶å°†å…¶åº”ç”¨äºŽç›¸å¯¹çŠ¶æ€ä¼°è®¡ä¸­ã€‚ä¸Žä¼ ç»Ÿçš„å•å¹³å°é¢„ç§¯åˆ†æ–¹æ³•ç›¸æ¯”ï¼ŒåŒé‡é¢„ç§¯åˆ†èƒ½å¤Ÿæ›´æœ‰æ•ˆåœ°åˆ©ç”¨ä¸¤ä¸ªå¹³å°çš„è¿åŠ¨ä¿¡æ¯ï¼Œä»Žè€Œæé«˜ä¼°è®¡ç²¾åº¦å’Œé²æ£’æ€§ã€‚æ­¤å¤–ï¼Œè®ºæ–‡è¿˜å¯¹çŠ¶æ€çš„å¯è§‚æµ‹æ€§è¿›è¡Œäº†åˆ†æžï¼Œå¹¶è§£æžåœ°æŽ¨å¯¼äº†é›¶ç©ºé—´ã€‚

**å…³é”®è®¾è®¡**ï¼šè®ºæ–‡çš„å…³é”®è®¾è®¡åŒ…æ‹¬ï¼š1) å¦‚ä½•æž„å»ºåŒé‡é¢„ç§¯åˆ†é‡ï¼ŒåŒ…æ‹¬åŠ é€Ÿåº¦å’Œè§’é€Ÿåº¦çš„ç§¯åˆ†ï¼›2) å¦‚ä½•å°†é¢„ç§¯åˆ†é‡èžå…¥åˆ°ç›¸å¯¹çŠ¶æ€ä¼°è®¡å™¨ä¸­ï¼Œæž„å»ºåˆé€‚çš„è¯¯å·®çŠ¶æ€æ–¹ç¨‹ï¼›3) å¦‚ä½•è¿›è¡Œé«˜æ•ˆçš„é‡çº¿æ€§åŒ–ï¼Œä»¥å‡è½»çº¿æ€§åŒ–è¯¯å·®çš„å½±å“ï¼›4) å¦‚ä½•è¿›è¡Œå¯è§‚æµ‹æ€§åˆ†æžï¼Œä»¥ç¡®ä¿çŠ¶æ€çš„å¯ä¼°è®¡æ€§ã€‚å…·ä½“çš„å‚æ•°è®¾ç½®å’ŒæŸå¤±å‡½æ•°é€‰æ‹©åœ¨è®ºæ–‡ä¸­è¿›è¡Œäº†è¯¦ç»†æè¿°ã€‚

## ðŸ“Š å®žéªŒäº®ç‚¹

å®žéªŒç»“æžœè¡¨æ˜Žï¼Œæ‰€æå‡ºçš„åŒé‡é¢„ç§¯åˆ†æ–¹æ³•åœ¨ç²¾åº¦å’Œé²æ£’æ€§æ–¹é¢ä¼˜äºŽçŽ°æœ‰ç®—æ³•ã€‚åœ¨ä»¿çœŸå®žéªŒä¸­ï¼Œè¯¥æ–¹æ³•åœ¨å‚è€ƒå¹³å°è¿›è¡Œå¤šæ¬¡éžçº¿æ€§æ—‹è½¬çš„æƒ…å†µä¸‹ï¼Œèƒ½å¤Ÿä¿æŒè¾ƒé«˜çš„ä¼°è®¡ç²¾åº¦ã€‚åœ¨çœŸå®žVRåœºæ™¯å®žéªŒä¸­ï¼Œè¯¥æ–¹æ³•åœ¨éžçº¿æ€§æ—‹è½¬å’ŒèƒŒæ™¯çº¹ç†ç¼ºå¤±çš„æƒ…å†µä¸‹ï¼Œä¹Ÿè¡¨çŽ°å‡ºæ›´å¥½çš„æ€§èƒ½ã€‚å…·ä½“æå‡å¹…åº¦åœ¨è®ºæ–‡ä¸­é€šè¿‡å®žéªŒæ•°æ®è¿›è¡Œäº†è¯¦ç»†å±•ç¤ºã€‚

## ðŸŽ¯ åº”ç”¨åœºæ™¯

è¯¥ç ”ç©¶æˆæžœå¯å¹¿æ³›åº”ç”¨äºŽéœ€è¦é«˜ç²¾åº¦ç›¸å¯¹å®šä½çš„åœºæ™¯ï¼Œä¾‹å¦‚è™šæ‹ŸçŽ°å®žï¼ˆVRï¼‰ã€å¢žå¼ºçŽ°å®žï¼ˆARï¼‰ã€å¤šæœºå™¨äººååŒã€æ— äººæœºç¼–é˜Ÿç­‰ã€‚åœ¨VR/ARä¸­ï¼Œå¯ä»¥æé«˜ç”¨æˆ·ä½“éªŒï¼Œå‡å°‘çœ©æ™•æ„Ÿã€‚åœ¨å¤šæœºå™¨äººååŒå’Œæ— äººæœºç¼–é˜Ÿä¸­ï¼Œå¯ä»¥æé«˜ç³»ç»Ÿçš„ç¨³å®šæ€§å’Œå¯é æ€§ã€‚æ­¤å¤–ï¼Œè¯¥æ–¹æ³•è¿˜å¯ä»¥åº”ç”¨äºŽå…¶ä»–éœ€è¦ç›¸å¯¹çŠ¶æ€ä¼°è®¡çš„é¢†åŸŸã€‚

## ðŸ“„ æ‘˜è¦ï¼ˆåŽŸæ–‡ï¼‰

> Relative State Estimation perform mutually localization between two mobile agents undergoing six-degree-of-freedom motion. Based on the principle of circular motion, the estimation accuracy is sensitive to nonlinear rotations of the reference platform, particularly under large inter-platform distances. This phenomenon is even obvious for linearized kinematics, because cumulative linearization errors significantly degrade precision. In virtual reality (VR) applications, this manifests as substantial positional errors in 6-DoF controller tracking during rapid rotations of the head-mounted display. The linearization errors introduce drift in the estimate and render the estimator inconsistent. In the field of odometry, IMU preintegration is proposed as a kinematic observation to enable efficient relinearization, thus mitigate linearized error. Building on this theory, we propose dual preintegration, a novel observation integrating IMU preintegration from both platforms. This method serves as kinematic constraints for consecutive relative state and supports efficient relinearization. We also perform observability analysis of the state and analytically formulate the accordingly null space. Algorithm evaluation encompasses both simulations and real-world experiments. Multiple nonlinear rotations on the reference platform are simulated to compare the precision of the proposed method with that of other state-of-the-art (SOTA) algorithms. The field test compares the proposed method and SOTA algorithms in the application of VR controller tracking from the perspectives of bias observability, nonlinear rotation, and background texture. The results demonstrate that the proposed method is more precise and robust than the SOTA algorithms.

