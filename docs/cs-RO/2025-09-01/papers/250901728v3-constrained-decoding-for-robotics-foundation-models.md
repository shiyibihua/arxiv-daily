---
layout: default
title: Constrained Decoding for Robotics Foundation Models
---

# Constrained Decoding for Robotics Foundation Models

<div class="paper-toolbar">
  <a href="https://arxiv.org/abs/2509.01728" class="toolbar-btn" target="_blank">ğŸ“„ arXiv: 2509.01728v3</a>
  <a href="https://arxiv.org/pdf/2509.01728.pdf" class="toolbar-btn" target="_blank">ğŸ“¥ PDF</a>
  <button class="toolbar-btn favorite-btn" data-arxiv-id="2509.01728v3" data-paper-url="__CURRENT_PAGE__" onclick="toggleFavorite(this, '2509.01728v3', 'Constrained Decoding for Robotics Foundation Models')" title="æ·»åŠ åˆ°æ”¶è—å¤¹">â˜† æ”¶è—</button>
  <button class="toolbar-btn" onclick="copyLinkToClipboard(this)">ğŸ”— åˆ†äº«</button>
</div>


**ä½œè€…**: Parv Kapoor, Akila Ganlath, Michael Clifford, Changliu Liu, Sebastian Scherer, Eunsuk Kang

**åˆ†ç±»**: cs.RO, cs.LG, cs.LO

**å‘å¸ƒæ—¥æœŸ**: 2025-09-01 (æ›´æ–°: 2025-09-27)

---

## ğŸ’¡ ä¸€å¥è¯è¦ç‚¹

**SafeDecï¼šé’ˆå¯¹æœºå™¨äººåŸºç¡€æ¨¡å‹çš„çº¦æŸè§£ç æ¡†æ¶ï¼Œä¿éšœåŠ¨ä½œå®‰å…¨**

ğŸ¯ **åŒ¹é…é¢†åŸŸ**: **æ”¯æŸ±ä¹ï¼šå…·èº«å¤§æ¨¡å‹ (Embodied Foundation Models)**

**å…³é”®è¯**: `æœºå™¨äººåŸºç¡€æ¨¡å‹` `çº¦æŸè§£ç ` `å®‰å…¨æ€§` `ä¿¡å·æ—¶åºé€»è¾‘` `æ¨ç†` `æœºå™¨äººæ§åˆ¶`

## ğŸ“‹ æ ¸å¿ƒè¦ç‚¹

1. ç°æœ‰æœºå™¨äººåŸºç¡€æ¨¡å‹ä¾èµ–æ•°æ®é©±åŠ¨ï¼Œç¼ºä¹å¯¹è¡Œä¸ºæ­£ç¡®æ€§çš„æ˜¾å¼ä¿è¯ï¼Œå¯èƒ½å¯¼è‡´ä¸å®‰å…¨åŠ¨ä½œã€‚
2. SafeDecæ¡†æ¶é€šè¿‡åœ¨è§£ç é˜¶æ®µæ–½åŠ çº¦æŸï¼Œåˆ©ç”¨ä¿¡å·æ—¶åºé€»è¾‘ï¼ˆSTLï¼‰å…¬å¼ç¡®ä¿åŠ¨ä½œæ»¡è¶³å®‰å…¨è§„èŒƒã€‚
3. å®éªŒè¡¨æ˜ï¼ŒSafeDecèƒ½æœ‰æ•ˆè¿‡æ»¤ä¸å®‰å…¨åŠ¨ä½œï¼Œå¹¶æ”¯æŒæ¡ä»¶åŠ¨ä½œç”Ÿæˆï¼Œæå‡äº†æœºå™¨äººç³»ç»Ÿçš„å®‰å…¨æ€§ã€‚

## ğŸ“ æ‘˜è¦ï¼ˆä¸­æ–‡ï¼‰

æœ¬æ–‡æå‡ºSafeDecï¼Œä¸€ä¸ªé’ˆå¯¹è‡ªå›å½’æœºå™¨äººåŸºç¡€æ¨¡å‹çš„çº¦æŸè§£ç æ¡†æ¶ï¼Œæ—¨åœ¨è§£å†³ç°æœ‰æœºå™¨äººåŸºç¡€æ¨¡å‹ç¼ºä¹è¡Œä¸ºæ­£ç¡®æ€§æ˜¾å¼æ¦‚å¿µçš„é—®é¢˜ã€‚è¿™äº›æ¨¡å‹è™½ç„¶åœ¨é€šç”¨æœºå™¨äººä»»åŠ¡ä¸­å±•ç°å‡ºæ½œåŠ›ï¼Œä½†æœ¬è´¨ä¸Šæ˜¯æ•°æ®é©±åŠ¨çš„ï¼Œå®¹æ˜“äº§ç”Ÿä¸å®‰å…¨çš„è¡Œä¸ºã€‚SafeDecé€šè¿‡åœ¨æ¨ç†æ—¶å¼ºåˆ¶æ‰§è¡Œä¸å˜çš„å®‰å…¨è§„èŒƒï¼Œç¡®ä¿ç”Ÿæˆçš„åŠ¨ä½œè½¨è¿¹æ»¡è¶³ä¿¡å·æ—¶åºé€»è¾‘ï¼ˆSTLï¼‰å…¬å¼è¡¨è¾¾çš„ä»»åŠ¡ç‰¹å®šå®‰å…¨è§„åˆ™ï¼Œä¸”è®¡ç®—å¼€é”€æå°ã€‚è¯¥æ–¹æ³•æ— éœ€é‡æ–°è®­ç»ƒå³å¯åœ¨è¿è¡Œæ—¶éªŒè¯åŠ¨ä½œæ˜¯å¦æ»¡è¶³STLè§„èŒƒï¼Œå¹¶ä¸”ä¸åº•å±‚ç­–ç•¥æ— å…³ã€‚åœ¨CHORESåŸºå‡†æµ‹è¯•ä¸­ï¼ŒSafeDecåœ¨æ•°ç™¾ä¸ªç¨‹åºç”Ÿæˆçš„ç¯å¢ƒä¸­ï¼Œå¯¹SPOCã€Flareã€PoliFormerç­‰å…ˆè¿›é€šç”¨ç­–ç•¥è¿›è¡Œäº†è¯„ä¼°ï¼Œç»“æœè¡¨æ˜è¯¥è§£ç æ—¶å¹²é¢„ä¸ä»…èƒ½æœ‰æ•ˆè¿‡æ»¤ä¸å®‰å…¨åŠ¨ä½œï¼Œè¿˜èƒ½ç”¨äºæ¡ä»¶åŠ¨ä½œç”Ÿæˆã€‚

## ğŸ”¬ æ–¹æ³•è¯¦è§£

**é—®é¢˜å®šä¹‰**ï¼šç°æœ‰æœºå™¨äººåŸºç¡€æ¨¡å‹è™½ç„¶å¼ºå¤§ï¼Œä½†ä¾èµ–å¤§é‡æ•°æ®ï¼Œç¼ºä¹å¯¹å®‰å…¨è¡Œä¸ºçš„æ˜¾å¼å»ºæ¨¡ã€‚è¿™å¯¼è‡´æ¨¡å‹åœ¨å®é™…åº”ç”¨ä¸­å¯èƒ½äº§ç”Ÿè¿åå®‰å…¨è§„åˆ™çš„åŠ¨ä½œåºåˆ—ï¼Œå¸¦æ¥æ½œåœ¨é£é™©ã€‚ç°æœ‰æ–¹æ³•éš¾ä»¥åœ¨ä¸é‡æ–°è®­ç»ƒæ¨¡å‹çš„æƒ…å†µä¸‹ï¼Œä¿è¯åŠ¨ä½œçš„å®‰å…¨æ€§ã€‚

**æ ¸å¿ƒæ€è·¯**ï¼šSafeDecçš„æ ¸å¿ƒæ€è·¯æ˜¯åœ¨æ¨ç†é˜¶æ®µï¼Œé€šè¿‡çº¦æŸè§£ç è¿‡ç¨‹æ¥ä¿è¯åŠ¨ä½œçš„å®‰å…¨æ€§ã€‚å…·ä½“æ¥è¯´ï¼Œå®ƒåˆ©ç”¨ä¿¡å·æ—¶åºé€»è¾‘ï¼ˆSTLï¼‰å…¬å¼æ¥å½¢å¼åŒ–åœ°æè¿°ä»»åŠ¡ç›¸å…³çš„å®‰å…¨è§„èŒƒï¼Œå¹¶åœ¨ç”ŸæˆåŠ¨ä½œåºåˆ—æ—¶ï¼Œå®æ—¶æ£€æŸ¥å€™é€‰åŠ¨ä½œæ˜¯å¦æ»¡è¶³è¿™äº›è§„èŒƒã€‚å¦‚æœæŸä¸ªåŠ¨ä½œè¿åäº†å®‰å…¨è§„èŒƒï¼Œåˆ™å°†å…¶è¿‡æ»¤æ‰æˆ–è¿›è¡Œä¿®æ”¹ï¼Œä»è€Œç¡®ä¿æœ€ç»ˆæ‰§è¡Œçš„åŠ¨ä½œåºåˆ—æ˜¯å®‰å…¨çš„ã€‚

**æŠ€æœ¯æ¡†æ¶**ï¼šSafeDecæ¡†æ¶ä¸»è¦åŒ…å«ä»¥ä¸‹å‡ ä¸ªæ¨¡å—ï¼š1) **STLè§„èŒƒå®šä¹‰æ¨¡å—**ï¼šç”¨äºå°†ä»»åŠ¡ç›¸å…³çš„å®‰å…¨è§„åˆ™è¡¨ç¤ºä¸ºSTLå…¬å¼ã€‚2) **åŠ¨ä½œç”Ÿæˆæ¨¡å—**ï¼šåˆ©ç”¨é¢„è®­ç»ƒçš„æœºå™¨äººåŸºç¡€æ¨¡å‹ç”Ÿæˆå€™é€‰åŠ¨ä½œåºåˆ—ã€‚3) **å®‰å…¨éªŒè¯æ¨¡å—**ï¼šä½¿ç”¨STLå…¬å¼å¯¹å€™é€‰åŠ¨ä½œåºåˆ—è¿›è¡ŒéªŒè¯ï¼Œåˆ¤æ–­å…¶æ˜¯å¦æ»¡è¶³å®‰å…¨è§„èŒƒã€‚4) **çº¦æŸè§£ç æ¨¡å—**ï¼šæ ¹æ®å®‰å…¨éªŒè¯çš„ç»“æœï¼Œå¯¹å€™é€‰åŠ¨ä½œåºåˆ—è¿›è¡Œè°ƒæ•´ï¼Œä¾‹å¦‚è¿‡æ»¤æ‰ä¸å®‰å…¨çš„åŠ¨ä½œæˆ–ä¿®æ”¹åŠ¨ä½œå‚æ•°ï¼Œä»¥ç¡®ä¿æœ€ç»ˆç”Ÿæˆçš„åŠ¨ä½œåºåˆ—æ˜¯å®‰å…¨çš„ã€‚

**å…³é”®åˆ›æ–°**ï¼šSafeDecçš„å…³é”®åˆ›æ–°åœ¨äºå®ƒæä¾›äº†ä¸€ç§æ— éœ€é‡æ–°è®­ç»ƒå³å¯åœ¨æ¨ç†æ—¶ä¿è¯æœºå™¨äººåŠ¨ä½œå®‰å…¨æ€§çš„æ–¹æ³•ã€‚ä¸ä¼ ç»Ÿçš„å®‰å…¨å¼ºåŒ–å­¦ä¹ æ–¹æ³•ç›¸æ¯”ï¼ŒSafeDecä¸éœ€è¦ä¿®æ”¹åº•å±‚ç­–ç•¥ï¼Œè€Œæ˜¯é€šè¿‡çº¦æŸè§£ç è¿‡ç¨‹æ¥å®ç°å®‰å…¨ä¿è¯ï¼Œå› æ­¤å¯ä»¥å¾ˆå®¹æ˜“åœ°åº”ç”¨äºå„ç§é¢„è®­ç»ƒçš„æœºå™¨äººåŸºç¡€æ¨¡å‹ã€‚æ­¤å¤–ï¼ŒSafeDecä½¿ç”¨STLå…¬å¼æ¥å½¢å¼åŒ–åœ°æè¿°å®‰å…¨è§„èŒƒï¼Œä½¿å¾—å®‰å…¨è§„åˆ™çš„å®šä¹‰æ›´åŠ çµæ´»å’Œå¯æ‰©å±•ã€‚

**å…³é”®è®¾è®¡**ï¼šSafeDecçš„å…³é”®è®¾è®¡åŒ…æ‹¬ï¼š1) **STLå…¬å¼çš„é€‰å–**ï¼šSTLå…¬å¼éœ€è¦èƒ½å¤Ÿå‡†ç¡®åœ°æè¿°ä»»åŠ¡ç›¸å…³çš„å®‰å…¨è§„åˆ™ï¼Œå¹¶ä¸”æ˜“äºéªŒè¯ã€‚2) **å®‰å…¨éªŒè¯ç®—æ³•çš„é€‰æ‹©**ï¼šå®‰å…¨éªŒè¯ç®—æ³•éœ€è¦èƒ½å¤Ÿé«˜æ•ˆåœ°åˆ¤æ–­åŠ¨ä½œåºåˆ—æ˜¯å¦æ»¡è¶³STLå…¬å¼ï¼Œä»¥ä¿è¯æ¨ç†é€Ÿåº¦ã€‚3) **çº¦æŸè§£ç ç­–ç•¥çš„è®¾è®¡**ï¼šçº¦æŸè§£ç ç­–ç•¥éœ€è¦åœ¨ä¿è¯å®‰å…¨æ€§çš„åŒæ—¶ï¼Œå°½å¯èƒ½åœ°ä¿ç•™åŸå§‹åŠ¨ä½œåºåˆ—çš„æ€§èƒ½ï¼Œé¿å…è¿‡åº¦çº¦æŸå¯¼è‡´ä»»åŠ¡å¤±è´¥ã€‚

## ğŸ“Š å®éªŒäº®ç‚¹

SafeDecåœ¨CHORESåŸºå‡†æµ‹è¯•ä¸­ï¼Œé’ˆå¯¹SPOCã€Flareã€PoliFormerç­‰å…ˆè¿›é€šç”¨ç­–ç•¥è¿›è¡Œäº†è¯„ä¼°ï¼Œç»“æœè¡¨æ˜SafeDecèƒ½å¤Ÿæ˜¾è‘—æé«˜æœºå™¨äººåŠ¨ä½œçš„å®‰å…¨æ€§ï¼ŒåŒæ—¶ä¿æŒè¾ƒé«˜çš„ä»»åŠ¡å®Œæˆç‡ã€‚å®éªŒç»“æœè¿˜è¡¨æ˜ï¼ŒSafeDecä¸ä»…å¯ä»¥ç”¨äºè¿‡æ»¤ä¸å®‰å…¨åŠ¨ä½œï¼Œè¿˜å¯ä»¥ç”¨äºæ¡ä»¶åŠ¨ä½œç”Ÿæˆï¼Œä¾‹å¦‚ï¼Œæ ¹æ®ä¸åŒçš„å®‰å…¨éœ€æ±‚ç”Ÿæˆä¸åŒçš„åŠ¨ä½œåºåˆ—ã€‚

## ğŸ¯ åº”ç”¨åœºæ™¯

SafeDecå¯å¹¿æ³›åº”ç”¨äºå„ç§éœ€è¦å®‰å…¨ä¿éšœçš„æœºå™¨äººåº”ç”¨åœºæ™¯ï¼Œä¾‹å¦‚ï¼šè‡ªåŠ¨é©¾é©¶ã€å·¥ä¸šæœºå™¨äººã€åŒ»ç–—æœºå™¨äººç­‰ã€‚é€šè¿‡å½¢å¼åŒ–åœ°å®šä¹‰å®‰å…¨è§„èŒƒï¼Œå¹¶åˆ©ç”¨SafeDecåœ¨æ¨ç†æ—¶è¿›è¡Œå®‰å…¨éªŒè¯å’Œçº¦æŸï¼Œå¯ä»¥æœ‰æ•ˆé™ä½æœºå™¨äººç³»ç»Ÿå‘ç”Ÿäº‹æ•…çš„é£é™©ï¼Œæé«˜å…¶å¯é æ€§å’Œå®‰å…¨æ€§ã€‚è¯¥ç ”ç©¶å¯¹äºæ¨åŠ¨æœºå™¨äººæŠ€æœ¯åœ¨å¤æ‚å’Œä¸ç¡®å®šç¯å¢ƒä¸­çš„åº”ç”¨å…·æœ‰é‡è¦æ„ä¹‰ã€‚

## ğŸ“„ æ‘˜è¦ï¼ˆåŸæ–‡ï¼‰

> Recent advances in the development of robotic foundation models have led to promising end-to-end and general-purpose capabilities in robotic systems. Trained on vast datasets of simulated and real-world trajectories, these models map multimodal observations directly to action sequences for physical execution. Despite promising real-world capabilities, these models are still data-driven and, therefore, lack explicit notions of behavioral correctness. We address this gap by introducing SafeDec, a constrained decoding framework for autoregressive, robot foundation models that enforces invariant safety specifications on candidate action trajectories. Task-specific safety rules are expressed as Signal Temporal Logic (STL) formulas and are enforced at inference time with minimal overhead. Our method ensures that generated actions provably satisfy STL specifications under assumed dynamics at runtime without retraining , while remaining agnostic of the underlying policy. We evaluate SafeDec on tasks from the CHORES benchmark for state-of-the-art generalist policies (e.g., SPOC, Flare, PoliFormer) across hundreds of procedurally generated environments and show that our decoding-time interventions are useful not only for filtering unsafe actions but also for conditional action generation. Videos are available at constrained-robot-fms.github.io.

