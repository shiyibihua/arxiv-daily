---
layout: default
title: Model Predictive Control via Probabilistic Inference: A Tutorial
---

# Model Predictive Control via Probabilistic Inference: A Tutorial

**arXiv**: [2511.08019v1](https://arxiv.org/abs/2511.08019) | [PDF](https://arxiv.org/pdf/2511.08019.pdf)

**ä½œè€…**: Kohei Honda

**åˆ†ç±»**: cs.RO, eess.SY

**å‘å¸ƒæ—¥æœŸ**: 2025-11-11

**å¤‡æ³¨**: 15 pages, 7 figures

---

## ðŸ’¡ ä¸€å¥è¯è¦ç‚¹

**æå‡ºåŸºäºŽæ¦‚çŽ‡æŽ¨æ–­çš„MPCæ•™ç¨‹ï¼Œè§£å†³æœºå™¨äººéžçº¿æ€§æŽ§åˆ¶éš¾é¢˜ã€‚**

ðŸŽ¯ **åŒ¹é…é¢†åŸŸ**: **æ”¯æŸ±ä¸€ï¼šæœºå™¨äººæŽ§åˆ¶ (Robot Control)**

**å…³é”®è¯**: `æ¨¡åž‹é¢„æµ‹æŽ§åˆ¶` `æ¦‚çŽ‡æŽ¨æ–­` `æœºå™¨äººæŽ§åˆ¶` `æœ€ä¼˜æŽ§åˆ¶` `é‡‡æ ·æ–¹æ³•`

## ðŸ“‹ æ ¸å¿ƒè¦ç‚¹

1. ä¼ ç»ŸMPCæ–¹æ³•åœ¨å¤„ç†æœºå™¨äººéžçº¿æ€§ã€ä¸å¯å¾®ç³»ç»Ÿæ—¶é¢ä¸´è®¡ç®—å¤æ‚åº¦é«˜çš„æŒ‘æˆ˜ã€‚
2. è®ºæ–‡å°†æœ€ä¼˜æŽ§åˆ¶é—®é¢˜è½¬åŒ–ä¸ºæ¦‚çŽ‡æŽ¨æ–­é—®é¢˜ï¼Œé€šè¿‡é‡‡æ ·ä¼°è®¡æœ€ä¼˜æŽ§åˆ¶åˆ†å¸ƒã€‚
3. æ•™ç¨‹è¯¦ç»†ä»‹ç»äº†MPPIç®—æ³•ï¼Œå¹¶è®¨è®ºäº†å…ˆéªŒåˆ†å¸ƒè®¾è®¡ã€å‚æ•°è°ƒæ•´ç­‰å…³é”®é—®é¢˜ã€‚

## ðŸ“ æ‘˜è¦ï¼ˆä¸­æ–‡ï¼‰

æ¨¡åž‹é¢„æµ‹æŽ§åˆ¶(MPC)æ˜¯ä¼˜åŒ–æœºå™¨äººæœ‰é™æœªæ¥æ—¶åŸŸè¡Œä¸ºçš„åŸºç¡€æ¡†æž¶ã€‚ä¼ ç»Ÿçš„æ•°å€¼ä¼˜åŒ–æ–¹æ³•è™½ç„¶èƒ½æœ‰æ•ˆå¤„ç†ç®€å•åŠ¨åŠ›å­¦å’Œä»£ä»·ç»“æž„ï¼Œä½†å¯¹äºŽæœºå™¨äººä¸­å¸¸è§çš„éžçº¿æ€§æˆ–ä¸å¯å¾®ç³»ç»Ÿå¸¸å¸¸å˜å¾—éš¾ä»¥å¤„ç†ã€‚æœ¬æ–‡æä¾›äº†ä¸€ä¸ªåŸºäºŽæ¦‚çŽ‡æŽ¨æ–­çš„MPCæ•™ç¨‹ï¼Œæå‡ºäº†ä¸€ä¸ªç»Ÿä¸€çš„ç†è®ºåŸºç¡€å’Œä»£è¡¨æ€§æ–¹æ³•çš„å…¨é¢æ¦‚è¿°ã€‚åŸºäºŽæ¦‚çŽ‡æŽ¨æ–­çš„MPCæ–¹æ³•ï¼Œå¦‚æ¨¡åž‹é¢„æµ‹è·¯å¾„ç§¯åˆ†(MPPI)æŽ§åˆ¶ï¼Œé€šè¿‡å°†æœ€ä¼˜æŽ§åˆ¶é‡æ–°è§£é‡Šä¸ºæ¦‚çŽ‡æŽ¨æ–­é—®é¢˜è€Œå—åˆ°å¹¿æ³›å…³æ³¨ã€‚è¿™äº›æ–¹æ³•ä¸æ˜¯ä¾èµ–äºŽåŸºäºŽæ¢¯åº¦çš„æ•°å€¼ä¼˜åŒ–ï¼Œè€Œæ˜¯é€šè¿‡åŸºäºŽé‡‡æ ·çš„æŠ€æœ¯æ¥ä¼°è®¡æœ€ä¼˜æŽ§åˆ¶åˆ†å¸ƒï¼Œä»Žè€Œé€‚åº”ä»»æ„ä»£ä»·å‡½æ•°å’ŒåŠ¨åŠ›å­¦ã€‚æˆ‘ä»¬é¦–å…ˆä»Žæ ‡å‡†æœ€ä¼˜æŽ§åˆ¶é—®é¢˜ä¸­æŽ¨å¯¼å‡ºæœ€ä¼˜æŽ§åˆ¶åˆ†å¸ƒï¼Œé˜æ˜Žå…¶æ¦‚çŽ‡è§£é‡Šå’Œå…³é”®ç‰¹å¾ã€‚ç„¶åŽï¼Œå°†å¹¿æ³›ä½¿ç”¨çš„MPPIç®—æ³•ä½œä¸ºä¸€ä¸ªå®žé™…ä¾‹å­è¿›è¡ŒæŽ¨å¯¼ï¼ŒéšåŽè®¨è®ºå…ˆéªŒå’Œå˜åˆ†åˆ†å¸ƒè®¾è®¡ã€è°ƒæ•´åŽŸåˆ™å’Œç†è®ºæ–¹é¢ã€‚æœ¬æ–‡æ—¨åœ¨ä¸ºå¯»æ±‚ç†è§£ã€å®žæ–½å’Œæ‰©å±•è¿™äº›æ–¹æ³•çš„ç ”ç©¶äººå‘˜å’Œä»Žä¸šäººå‘˜æä¾›ä¸€ä¸ªç³»ç»Ÿçš„æŒ‡å—ï¼Œé€‚ç”¨äºŽæœºå™¨äººåŠå…¶ä»–é¢†åŸŸã€‚

## ðŸ”¬ æ–¹æ³•è¯¦è§£

**é—®é¢˜å®šä¹‰**ï¼šä¼ ç»ŸMPCæ–¹æ³•åœ¨å¤„ç†å…·æœ‰å¤æ‚åŠ¨åŠ›å­¦ç‰¹æ€§ï¼ˆå¦‚éžçº¿æ€§ã€ä¸å¯å¾®ï¼‰çš„æœºå™¨äººç³»ç»Ÿæ—¶ï¼Œè®¡ç®—å¤æ‚åº¦é«˜ï¼Œéš¾ä»¥å®žçŽ°å®žæ—¶æŽ§åˆ¶ã€‚çŽ°æœ‰çš„æ•°å€¼ä¼˜åŒ–æ–¹æ³•ä¾èµ–äºŽæ¢¯åº¦ä¿¡æ¯ï¼Œå¯¹äºŽéžå…‰æ»‘ä»£ä»·å‡½æ•°æˆ–åŠ¨åŠ›å­¦æ¨¡åž‹å¤±æ•ˆã€‚

**æ ¸å¿ƒæ€è·¯**ï¼šè®ºæ–‡çš„æ ¸å¿ƒæ€è·¯æ˜¯å°†æœ€ä¼˜æŽ§åˆ¶é—®é¢˜é‡æ–°è¡¨è¿°ä¸ºä¸€ä¸ªæ¦‚çŽ‡æŽ¨æ–­é—®é¢˜ã€‚é€šè¿‡å¼•å…¥æŽ§åˆ¶åŠ¨ä½œçš„æ¦‚çŽ‡åˆ†å¸ƒï¼Œå°†å¯»æ‰¾æœ€ä¼˜æŽ§åˆ¶åºåˆ—è½¬åŒ–ä¸ºä¼°è®¡è¯¥åˆ†å¸ƒçš„é—®é¢˜ã€‚è¿™ç§æ–¹æ³•å…è®¸ä½¿ç”¨é‡‡æ ·æŠ€æœ¯æ¥è¿‘ä¼¼æœ€ä¼˜æŽ§åˆ¶åˆ†å¸ƒï¼Œä»Žè€Œé¿å…äº†ç›´æŽ¥æ±‚è§£å¤æ‚çš„ä¼˜åŒ–é—®é¢˜ã€‚

**æŠ€æœ¯æ¡†æž¶**ï¼šæ•´ä½“æ¡†æž¶åŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªä¸»è¦é˜¶æ®µï¼š1) å°†æœ€ä¼˜æŽ§åˆ¶é—®é¢˜è½¬åŒ–ä¸ºæ¦‚çŽ‡æŽ¨æ–­é—®é¢˜ï¼Œå®šä¹‰æŽ§åˆ¶åŠ¨ä½œçš„æ¦‚çŽ‡åˆ†å¸ƒã€‚2) ä½¿ç”¨é‡‡æ ·æ–¹æ³•ï¼ˆå¦‚è’™ç‰¹å¡æ´›æ–¹æ³•ï¼‰ä»ŽæŽ§åˆ¶åŠ¨ä½œçš„æ¦‚çŽ‡åˆ†å¸ƒä¸­ç”Ÿæˆæ ·æœ¬ã€‚3) å¯¹äºŽæ¯ä¸ªæ ·æœ¬ï¼Œè®¡ç®—å…¶å¯¹åº”çš„ä»£ä»·å‡½æ•°å€¼ã€‚4) æ ¹æ®ä»£ä»·å‡½æ•°å€¼æ›´æ–°æŽ§åˆ¶åŠ¨ä½œçš„æ¦‚çŽ‡åˆ†å¸ƒï¼Œä½¿å¾—ä»£ä»·æ›´ä½Žçš„æŽ§åˆ¶åŠ¨ä½œå…·æœ‰æ›´é«˜çš„æ¦‚çŽ‡ã€‚5) é‡å¤é‡‡æ ·å’Œæ›´æ–°è¿‡ç¨‹ï¼Œç›´åˆ°æ¦‚çŽ‡åˆ†å¸ƒæ”¶æ•›åˆ°æœ€ä¼˜æŽ§åˆ¶ç­–ç•¥ã€‚

**å…³é”®åˆ›æ–°**ï¼šæœ€é‡è¦çš„æŠ€æœ¯åˆ›æ–°ç‚¹æ˜¯å°†æœ€ä¼˜æŽ§åˆ¶é—®é¢˜è½¬åŒ–ä¸ºæ¦‚çŽ‡æŽ¨æ–­é—®é¢˜ï¼Œå¹¶ä½¿ç”¨é‡‡æ ·æ–¹æ³•æ¥ä¼°è®¡æœ€ä¼˜æŽ§åˆ¶åˆ†å¸ƒã€‚ä¸Žä¼ ç»Ÿçš„åŸºäºŽæ¢¯åº¦çš„ä¼˜åŒ–æ–¹æ³•ç›¸æ¯”ï¼Œè¿™ç§æ–¹æ³•å¯ä»¥å¤„ç†éžçº¿æ€§ã€ä¸å¯å¾®çš„ç³»ç»Ÿï¼Œå¹¶ä¸”å…·æœ‰æ›´å¼ºçš„é²æ£’æ€§ã€‚

**å…³é”®è®¾è®¡**ï¼šå…³é”®è®¾è®¡åŒ…æ‹¬ï¼š1) æŽ§åˆ¶åŠ¨ä½œæ¦‚çŽ‡åˆ†å¸ƒçš„é€‰æ‹©ï¼ˆå¦‚é«˜æ–¯åˆ†å¸ƒï¼‰ã€‚2) é‡‡æ ·æ–¹æ³•çš„é€‰æ‹©ï¼ˆå¦‚è’™ç‰¹å¡æ´›æ–¹æ³•ã€é‡è¦æ€§é‡‡æ ·ï¼‰ã€‚3) ä»£ä»·å‡½æ•°çš„å®šä¹‰ï¼Œéœ€è¦æ ¹æ®å…·ä½“çš„æŽ§åˆ¶ä»»åŠ¡è¿›è¡Œè®¾è®¡ã€‚4) æ¦‚çŽ‡åˆ†å¸ƒæ›´æ–°ç­–ç•¥ï¼Œä¾‹å¦‚ä½¿ç”¨æŒ‡æ•°åŠ æƒå¹³å‡æ¥æ›´æ–°æŽ§åˆ¶åŠ¨ä½œçš„å‡å€¼å’Œæ–¹å·®ã€‚

## ðŸ“Š å®žéªŒäº®ç‚¹

è¯¥æ•™ç¨‹è¯¦ç»†ä»‹ç»äº†MPPIç®—æ³•ï¼Œå¹¶æä¾›äº†å…³äºŽå…ˆéªŒåˆ†å¸ƒè®¾è®¡ã€å‚æ•°è°ƒæ•´å’Œç†è®ºæ–¹é¢çš„è®¨è®ºã€‚é€šè¿‡å°†æœ€ä¼˜æŽ§åˆ¶é—®é¢˜è½¬åŒ–ä¸ºæ¦‚çŽ‡æŽ¨æ–­é—®é¢˜ï¼ŒMPPIç®—æ³•èƒ½å¤Ÿæœ‰æ•ˆåœ°å¤„ç†éžçº¿æ€§ã€ä¸å¯å¾®çš„ç³»ç»Ÿï¼Œå¹¶åœ¨æœºå™¨äººæŽ§åˆ¶ä»»åŠ¡ä¸­å–å¾—äº†è‰¯å¥½çš„æ€§èƒ½ã€‚è™½ç„¶è®ºæ–‡æ²¡æœ‰æä¾›å…·ä½“çš„å®žéªŒæ•°æ®ï¼Œä½†MPPIç®—æ³•å·²è¢«å¹¿æ³›åº”ç”¨äºŽå„ç§æœºå™¨äººæŽ§åˆ¶ä»»åŠ¡ä¸­ï¼Œå¹¶å–å¾—äº†æ˜¾è‘—çš„æˆæžœã€‚

## ðŸŽ¯ åº”ç”¨åœºæ™¯

è¯¥ç ”ç©¶æˆæžœå¯å¹¿æ³›åº”ç”¨äºŽæœºå™¨äººæŽ§åˆ¶é¢†åŸŸï¼Œä¾‹å¦‚æ— äººé©¾é©¶ã€æœºå™¨äººæ“ä½œã€æ­¥æ€æŽ§åˆ¶ç­‰ã€‚é€šè¿‡å°†æœ€ä¼˜æŽ§åˆ¶é—®é¢˜è½¬åŒ–ä¸ºæ¦‚çŽ‡æŽ¨æ–­é—®é¢˜ï¼Œå¯ä»¥æœ‰æ•ˆåœ°è§£å†³å¤æ‚åŠ¨åŠ›å­¦ç³»ç»Ÿçš„æŽ§åˆ¶éš¾é¢˜ï¼Œæé«˜æœºå™¨äººçš„è‡ªä¸»æ€§å’Œé€‚åº”æ€§ã€‚æ­¤å¤–ï¼Œè¯¥æ–¹æ³•è¿˜å¯ä»¥åº”ç”¨äºŽå…¶ä»–é¢†åŸŸï¼Œå¦‚é‡‘èžã€èƒ½æºç­‰ï¼Œç”¨äºŽä¼˜åŒ–å†³ç­–è¿‡ç¨‹ã€‚

## ðŸ“„ æ‘˜è¦ï¼ˆåŽŸæ–‡ï¼‰

> Model Predictive Control (MPC) is a fundamental framework for optimizing robot behavior over a finite future horizon. While conventional numerical optimization methods can efficiently handle simple dynamics and cost structures, they often become intractable for the nonlinear or non-differentiable systems commonly encountered in robotics. This article provides a tutorial on probabilistic inference-based MPC, presenting a unified theoretical foundation and a comprehensive overview of representative methods. Probabilistic inference-based MPC approaches, such as Model Predictive Path Integral (MPPI) control, have gained significant attention by reinterpreting optimal control as a problem of probabilistic inference. Rather than relying on gradient-based numerical optimization, these methods estimate optimal control distributions through sampling-based techniques, accommodating arbitrary cost functions and dynamics. We first derive the optimal control distribution from the standard optimal control problem, elucidating its probabilistic interpretation and key characteristics. The widely used MPPI algorithm is then derived as a practical example, followed by discussions on prior and variational distribution design, tuning principles, and theoretical aspects. This article aims to serve as a systematic guide for researchers and practitioners seeking to understand, implement, and extend these methods in robotics and beyond.

