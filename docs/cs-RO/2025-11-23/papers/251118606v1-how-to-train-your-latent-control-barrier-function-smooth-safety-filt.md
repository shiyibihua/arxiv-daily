---
layout: default
title: How to Train Your Latent Control Barrier Function: Smooth Safety Filtering Under Hard-to-Model Constraints
---

# How to Train Your Latent Control Barrier Function: Smooth Safety Filtering Under Hard-to-Model Constraints

<div class="paper-toolbar">
  <div class="toolbar-left">
    <a href="https://arxiv.org/abs/2511.18606" target="_blank" class="toolbar-btn">arXiv: 2511.18606v1</a>
    <a href="https://arxiv.org/pdf/2511.18606.pdf" target="_blank" class="toolbar-btn">PDF</a>
  </div>
  <div class="toolbar-right">
    <button class="toolbar-btn favorite-btn" data-arxiv-id="2511.18606v1" 
            onclick="toggleFavorite(this, '2511.18606v1', 'How to Train Your Latent Control Barrier Function: Smooth Safety Filtering Under Hard-to-Model Constraints')" title="Êî∂Ëóè">
      ‚òÜ Êî∂Ëóè
    </button>
    <button class="toolbar-btn share-btn" onclick="copyLink()" title="Â§çÂà∂ÈìæÊé•">
      üîó ÂàÜ‰∫´
    </button>
  </div>
</div>


**‰ΩúËÄÖ**: Kensuke Nakamura, Arun L. Bishop, Steven Man, Aaron M. Johnson, Zachary Manchester, Andrea Bajcsy

**ÂàÜÁ±ª**: cs.RO, cs.LG

**ÂèëÂ∏ÉÊó•Êúü**: 2025-11-23

**Â§áÊ≥®**: 3 figures, 10 tables, 22 pages

---

## üí° ‰∏ÄÂè•ËØùË¶ÅÁÇπ

**ÊèêÂá∫LatentCBFÔºåËß£ÂÜ≥ÈöæÂª∫Ê®°Á∫¶Êùü‰∏ãÁöÑÂπ≥ÊªëÂÆâÂÖ®Êª§Ê≥¢ÈóÆÈ¢òÔºåÊèêÂçáËßÜËßâËøêÂä®ÊéßÂà∂‰ªªÂä°ÂÆåÊàêÁéá„ÄÇ**

üéØ **ÂåπÈÖçÈ¢ÜÂüü**: **ÊîØÊü±‰∏ÄÔºöÊú∫Âô®‰∫∫ÊéßÂà∂ (Robot Control)** **ÊîØÊü±‰∫åÔºöRLÁÆóÊ≥ï‰∏éÊû∂ÊûÑ (RL & Architecture)**

**ÂÖ≥ÈîÆËØç**: `ÂÆâÂÖ®Êª§Ê≥¢` `ÊéßÂà∂ÈöúÁ¢çÂáΩÊï∞` `ÊΩúÂú®Á©∫Èó¥Â≠¶‰π†` `ËßÜËßâËøêÂä®ÊéßÂà∂` `Âº∫ÂåñÂ≠¶‰π†`

## üìã Ê†∏ÂøÉË¶ÅÁÇπ

1. Áé∞ÊúâÊΩúÂú®ÂÆâÂÖ®Êª§Ê≥¢Âô®Âú®Ê†áÁß∞Á≠ñÁï•ÂíåÂÆâÂÖ®Á≠ñÁï•Èó¥Á¶ªÊï£ÂàáÊç¢ÔºåÂΩ±Âìç‰∫ÜËßÜËßâËøêÂä®Á≠ñÁï•ÁöÑ‰ªªÂä°ÊÄßËÉΩ„ÄÇ
2. LatentCBFÈÄöËøáÊ¢ØÂ∫¶ÊÉ©ÁΩöÂÆûÁé∞Âπ≥ÊªëË£ïÂ∫¶ÂáΩÊï∞ÔºåÂπ∂Ê∑∑ÂêàÊ†áÁß∞ÂíåÂÆâÂÖ®Á≠ñÁï•Êï∞ÊçÆËøõË°åÂÄºËÆ≠ÁªÉ„ÄÇ
3. ÂÆûÈ™åË°®ÊòéÔºåLatentCBFÂÆûÁé∞‰∫ÜÂπ≥ÊªëÂÆâÂÖ®Êª§Ê≥¢Ôºå‰ªªÂä°ÂÆåÊàêÁéáÊØîÁé∞ÊúâÊñπÊ≥ïÊèêÈ´ò‰∫Ü‰∏ÄÂÄç„ÄÇ

## üìù ÊëòË¶ÅÔºà‰∏≠ÊñáÔºâ

ÊΩúÂú®ÂÆâÂÖ®Êª§Ê≥¢Âô®Êâ©Â±ï‰∫ÜHamilton-Jacobi (HJ)ÂèØËææÊÄßÔºå‰ΩøÂÖ∂ËÉΩÂ§üÂü∫‰∫é‰ªéÈ´òÁª¥ËßÇÊµã‰∏≠Áõ¥Êé•Â≠¶‰π†Âà∞ÁöÑÊΩúÂú®Áä∂ÊÄÅË°®Á§∫ÂíåÂä®ÂäõÂ≠¶ËøõË°åÊìç‰ΩúÔºå‰ªéËÄåÂú®Èöæ‰ª•Âª∫Ê®°ÁöÑÁ∫¶Êùü‰∏ãÂÆûÁé∞ÂÆâÂÖ®ÁöÑËßÜËßâËøêÂä®ÊéßÂà∂„ÄÇÁÑ∂ËÄåÔºåÁé∞ÊúâÊñπÊ≥ïÈááÁî®‚ÄúÊúÄÂ∞èÈôêÂà∂‚ÄùÊª§Ê≥¢ÔºåÂú®Ê†áÁß∞Á≠ñÁï•ÂíåÂÆâÂÖ®Á≠ñÁï•‰πãÈó¥Á¶ªÊï£ÂàáÊç¢ÔºåÂèØËÉΩÊçüÂÆ≥Áé∞‰ª£ËßÜËßâËøêÂä®Á≠ñÁï•ÁöÑ‰ª∑ÂÄº„ÄÇËôΩÁÑ∂ÂèØËææÊÄßÂÄºÂáΩÊï∞ÂéüÂàô‰∏äÂèØ‰ª•Ë∞ÉÊï¥‰∏∫ÊéßÂà∂ÈöúÁ¢çÂáΩÊï∞(CBF)‰ª•ÂÆûÁé∞Âü∫‰∫é‰ºòÂåñÁöÑÂπ≥ÊªëÊª§Ê≥¢Ôºå‰ΩÜÊàë‰ª¨‰ªéÁêÜËÆ∫ÂíåÂÆûÈ™å‰∏äË°®ÊòéÔºåÂΩìÂâçÁöÑÊΩúÂú®Á©∫Èó¥Â≠¶‰π†ÊñπÊ≥ï‰∫ßÁîüÊ†πÊú¨‰∏ä‰∏çÂÖºÂÆπÁöÑÂÄºÂáΩÊï∞„ÄÇÊàë‰ª¨Á°ÆÂÆö‰∫Ü‰∏§Áßç‰∏çÂÖºÂÆπÁöÑÊù•Ê∫êÔºöÈ¶ñÂÖàÔºåÂú®HJÂèØËææÊÄß‰∏≠ÔºåÊïÖÈöúÈÄöËøáÊΩúÂú®Á©∫Èó¥‰∏≠ÁöÑ‚ÄúË£ïÂ∫¶ÂáΩÊï∞‚ÄùÁºñÁ†ÅÔºåÂÖ∂Á¨¶Âè∑ÊåáÁ§∫ÊΩúÂú®Áä∂ÊÄÅÊòØÂê¶Âú®Á∫¶ÊùüÈõÜ‰∏≠„ÄÇÁÑ∂ËÄåÔºåÂ∞ÜË£ïÂ∫¶ÂáΩÊï∞Ë°®Á§∫‰∏∫ÂàÜÁ±ªÂô®‰ºö‰∫ßÁîüÈ•±ÂíåÁöÑÂÄºÂáΩÊï∞ÔºåË°®Áé∞Âá∫‰∏çËøûÁª≠ÁöÑË∑≥Ë∑É„ÄÇÊàë‰ª¨ËØÅÊòé‰∫ÜÂÄºÂáΩÊï∞ÁöÑLipschitzÂ∏∏Êï∞‰∏éË£ïÂ∫¶ÂáΩÊï∞ÁöÑLipschitzÂ∏∏Êï∞ÂëàÁ∫øÊÄßÂÖ≥Á≥ªÔºåË°®ÊòéÂπ≥ÊªëCBFÈúÄË¶ÅÂπ≥ÊªëË£ïÂ∫¶„ÄÇÂÖ∂Ê¨°Ôºå‰ªÖÂú®ÂÆâÂÖ®Á≠ñÁï•Êï∞ÊçÆ‰∏äËÆ≠ÁªÉÁöÑÂº∫ÂåñÂ≠¶‰π†(RL)Ëøë‰ºº‰ºö‰∫ßÁîüÂØπÊ†áÁß∞Á≠ñÁï•Âä®‰ΩúÁöÑ‰∏çÂáÜÁ°ÆÁöÑÂÄº‰º∞ËÆ°ÔºåËÄåËøôÊ≠£ÊòØCBFÊª§Ê≥¢ÊâÄÈúÄË¶ÅÁöÑ„ÄÇÊàë‰ª¨ÊèêÂá∫‰∫ÜLatentCBFÔºåÈÄöËøáÊ¢ØÂ∫¶ÊÉ©ÁΩöÊù•Ëß£ÂÜ≥Ëøô‰∏§‰∏™ÊåëÊàòÔºå‰ªéËÄåÂú®Ê≤°ÊúâÈ¢ùÂ§ñÊ†áÁ≠æÁöÑÊÉÖÂÜµ‰∏ã‰∫ßÁîüÂπ≥ÊªëÁöÑË£ïÂ∫¶ÂáΩÊï∞Ôºå‰ª•Âèä‰∏ÄÁßçÊ∑∑ÂêàÊù•Ëá™Ê†áÁß∞Á≠ñÁï•ÂíåÂÆâÂÖ®Á≠ñÁï•Êï∞ÊçÆÁöÑÂÄºËÆ≠ÁªÉÁ®ãÂ∫è„ÄÇÂú®Ê®°ÊãüÂü∫ÂáÜÂíåÂ∏¶ÊúâÂü∫‰∫éËßÜËßâÁöÑÊìç‰ΩúÁ≠ñÁï•ÁöÑÁ°¨‰ª∂‰∏äÁöÑÂÆûÈ™åË°®ÊòéÔºåLatentCBFËÉΩÂ§üÂÆûÁé∞Âπ≥ÊªëÁöÑÂÆâÂÖ®Êª§Ê≥¢ÔºåÂêåÊó∂‰Ωø‰ªªÂä°ÂÆåÊàêÁéáÊØî‰πãÂâçÁöÑÂàáÊç¢ÊñπÊ≥ïÊèêÈ´ò‰∫Ü‰∏ÄÂÄç„ÄÇ

## üî¨ ÊñπÊ≥ïËØ¶Ëß£

**ÈóÆÈ¢òÂÆö‰πâ**ÔºöËÆ∫ÊñáÊó®Âú®Ëß£ÂÜ≥Âú®Èöæ‰ª•Âª∫Ê®°ÁöÑÁ∫¶ÊùüÊù°‰ª∂‰∏ãÔºåÂ¶Ç‰ΩïÂÆûÁé∞ËßÜËßâËøêÂä®ÊéßÂà∂ÁöÑÂÆâÂÖ®ÊÄßÈóÆÈ¢ò„ÄÇÁé∞ÊúâÊñπÊ≥ïÔºåÂ¶ÇÊΩúÂú®ÂÆâÂÖ®Êª§Ê≥¢Âô®ÔºåËôΩÁÑ∂ËÉΩ‰øùËØÅÂÆâÂÖ®ÊÄßÔºå‰ΩÜÈááÁî®Á¶ªÊï£ÂàáÊç¢Á≠ñÁï•ÔºåÂú®Ê†áÁß∞Á≠ñÁï•ÂíåÂÆâÂÖ®Á≠ñÁï•‰πãÈó¥ÂàáÊç¢ÔºåËøô‰ºö‰∏•ÈáçÂΩ±Âìç‰ªªÂä°ÁöÑÂÆåÊàêÊïàÁéáÂíåÊÄßËÉΩÔºåÊó†Ê≥ïÂÖÖÂàÜÂà©Áî®Áé∞‰ª£ËßÜËßâËøêÂä®Á≠ñÁï•ÁöÑ‰ºòÂäø„ÄÇÁé∞ÊúâÊñπÊ≥ïÂ≠¶‰π†Âà∞ÁöÑÊΩúÂú®Á©∫Èó¥Ë°®Á§∫ÂíåÂÄºÂáΩÊï∞‰∏éÂπ≥ÊªëÊéßÂà∂ÈöúÁ¢çÂáΩÊï∞(CBF)‰∏çÂÖºÂÆπÔºåÂØºËá¥Êó†Ê≥ïËøõË°åÂπ≥ÊªëÁöÑÂÆâÂÖ®Êª§Ê≥¢„ÄÇ

**Ê†∏ÂøÉÊÄùË∑Ø**ÔºöËÆ∫ÊñáÁöÑÊ†∏ÂøÉÊÄùË∑ØÊòØËÆæËÆ°‰∏ÄÁßçÊñ∞ÁöÑÊΩúÂú®Á©∫Èó¥Â≠¶‰π†ÊñπÊ≥ïÔºå‰ΩøÂÖ∂ËÉΩÂ§üÁîüÊàê‰∏éCBFÂÖºÂÆπÁöÑÂÄºÂáΩÊï∞Ôºå‰ªéËÄåÂÆûÁé∞Âπ≥ÊªëÁöÑÂÆâÂÖ®Êª§Ê≥¢„ÄÇÂÖ∑‰ΩìÊù•ËØ¥ÔºåÈÄöËøáÂºïÂÖ•Ê¢ØÂ∫¶ÊÉ©ÁΩöÊù•Â≠¶‰π†Âπ≥ÊªëÁöÑË£ïÂ∫¶ÂáΩÊï∞ÔºåÂπ∂ÈááÁî®Ê∑∑ÂêàÊï∞ÊçÆËÆ≠ÁªÉÁ≠ñÁï•Êù•ÊèêÈ´òÂÄºÂáΩÊï∞ÁöÑÂáÜÁ°ÆÊÄß„ÄÇËøôÊ†∑ÔºåÂ∞±ÂèØ‰ª•Âú®‰øùËØÅÂÆâÂÖ®ÊÄßÁöÑÂêåÊó∂ÔºåÂ∞ΩÂèØËÉΩÂú∞Âà©Áî®Ê†áÁß∞Á≠ñÁï•ÁöÑ‰ºòÂäøÔºåÊèêÈ´ò‰ªªÂä°ÂÆåÊàêÁéá„ÄÇ

**ÊäÄÊúØÊ°ÜÊû∂**ÔºöLatentCBFÁöÑÊï¥‰ΩìÊ°ÜÊû∂ÂåÖÊã¨‰ª•‰∏ãÂá†‰∏™‰∏ªË¶ÅÊ®°ÂùóÔºö1) ÊΩúÂú®Á©∫Èó¥Â≠¶‰π†Ê®°ÂùóÔºåÁî®‰∫é‰ªéÈ´òÁª¥ËßÇÊµãÊï∞ÊçÆ‰∏≠Â≠¶‰π†‰ΩéÁª¥ÁöÑÊΩúÂú®Áä∂ÊÄÅË°®Á§∫„ÄÇ2) Ë£ïÂ∫¶ÂáΩÊï∞Â≠¶‰π†Ê®°ÂùóÔºåÁî®‰∫éÂ≠¶‰π†ÊΩúÂú®Á©∫Èó¥‰∏≠ÁöÑË£ïÂ∫¶ÂáΩÊï∞ÔºåËØ•ÂáΩÊï∞ÊåáÁ§∫ÊΩúÂú®Áä∂ÊÄÅÊòØÂê¶Âú®ÂÆâÂÖ®Á∫¶ÊùüÈõÜÂÜÖ„ÄÇ3) ÂÄºÂáΩÊï∞Â≠¶‰π†Ê®°ÂùóÔºåÁî®‰∫éÂ≠¶‰π†ÊΩúÂú®Áä∂ÊÄÅÁöÑÂÄºÂáΩÊï∞ÔºåËØ•ÂáΩÊï∞‰º∞ËÆ°Âú®ÁªôÂÆöÊΩúÂú®Áä∂ÊÄÅ‰∏ãÈááÂèñÊüê‰∏™Âä®‰ΩúÁöÑÈïøÊúüÂõûÊä•„ÄÇ4) CBFÊª§Ê≥¢Ê®°ÂùóÔºåÂà©Áî®Â≠¶‰π†Âà∞ÁöÑË£ïÂ∫¶ÂáΩÊï∞ÂíåÂÄºÂáΩÊï∞ÔºåÂØπÊ†áÁß∞Á≠ñÁï•ÁöÑÂä®‰ΩúËøõË°å‰øÆÊ≠£Ôºå‰ª•‰øùËØÅÂÆâÂÖ®ÊÄß„ÄÇ

**ÂÖ≥ÈîÆÂàõÊñ∞**ÔºöËÆ∫ÊñáÊúÄÈáçË¶ÅÁöÑÊäÄÊúØÂàõÊñ∞ÁÇπÂú®‰∫éÊèêÂá∫‰∫Ü‰∏§ÁßçËß£ÂÜ≥ÂÄºÂáΩÊï∞‰∏çÂÖºÂÆπÈóÆÈ¢òÁöÑÊñπÊ≥ïÔºö‰∏ÄÊòØÈÄöËøáÊ¢ØÂ∫¶ÊÉ©ÁΩöÊù•Â≠¶‰π†Âπ≥ÊªëÁöÑË£ïÂ∫¶ÂáΩÊï∞ÔºåÈÅøÂÖç‰∫ÜÂÄºÂáΩÊï∞ÁöÑ‰∏çËøûÁª≠Ë∑≥Ë∑ÉÔºõ‰∫åÊòØÈááÁî®Ê∑∑ÂêàÊï∞ÊçÆËÆ≠ÁªÉÁ≠ñÁï•ÔºåÂà©Áî®Ê†áÁß∞Á≠ñÁï•ÂíåÂÆâÂÖ®Á≠ñÁï•ÁöÑÊï∞ÊçÆÊù•ËÆ≠ÁªÉÂÄºÂáΩÊï∞ÔºåÊèêÈ´ò‰∫ÜÂÄºÂáΩÊï∞ÂØπÊ†áÁß∞Á≠ñÁï•Âä®‰ΩúÁöÑ‰º∞ËÆ°ÂáÜÁ°ÆÊÄß„ÄÇËøô‰∏§ÁßçÊñπÊ≥ïÂÖ±Âêå‰øùËØÅ‰∫ÜÂ≠¶‰π†Âà∞ÁöÑÂÄºÂáΩÊï∞‰∏éCBFÁöÑÂÖºÂÆπÊÄßÔºå‰ªéËÄåÂÆûÁé∞‰∫ÜÂπ≥ÊªëÁöÑÂÆâÂÖ®Êª§Ê≥¢„ÄÇ

**ÂÖ≥ÈîÆËÆæËÆ°**Ôºö1) Ê¢ØÂ∫¶ÊÉ©ÁΩöÔºöÂú®Ë£ïÂ∫¶ÂáΩÊï∞Â≠¶‰π†ËøáÁ®ã‰∏≠ÔºåÂºïÂÖ•Ê¢ØÂ∫¶ÊÉ©ÁΩöÈ°πÔºåÈºìÂä±Ë£ïÂ∫¶ÂáΩÊï∞ÁöÑÊ¢ØÂ∫¶Â∞ΩÂèØËÉΩÂ∞èÔºå‰ªéËÄå‰øùËØÅË£ïÂ∫¶ÂáΩÊï∞ÁöÑÂπ≥ÊªëÊÄß„ÄÇ2) Ê∑∑ÂêàÊï∞ÊçÆËÆ≠ÁªÉÔºöÂú®ÂÄºÂáΩÊï∞Â≠¶‰π†ËøáÁ®ã‰∏≠ÔºåÊ∑∑Âêà‰ΩøÁî®Êù•Ëá™Ê†áÁß∞Á≠ñÁï•ÂíåÂÆâÂÖ®Á≠ñÁï•ÁöÑÊï∞ÊçÆÔºå‰ª•ÊèêÈ´òÂÄºÂáΩÊï∞ÂØπ‰∏çÂêåÂä®‰ΩúÁöÑ‰º∞ËÆ°ÂáÜÁ°ÆÊÄß„ÄÇÂÖ∑‰ΩìÊù•ËØ¥ÔºåÂèØ‰ª•ÈááÁî®ÈáçË¶ÅÊÄßÈááÊ†∑Á≠âÊñπÊ≥ïÊù•Âπ≥Ë°°‰∏§ÁßçÊï∞ÊçÆÁöÑË¥°ÁåÆ„ÄÇ3) ÁΩëÁªúÁªìÊûÑÔºöÂèØ‰ª•‰ΩøÁî®Ê∑±Â∫¶Á•ûÁªèÁΩëÁªúÊù•Ë°®Á§∫ÊΩúÂú®Á©∫Èó¥„ÄÅË£ïÂ∫¶ÂáΩÊï∞ÂíåÂÄºÂáΩÊï∞„ÄÇÁΩëÁªúÁªìÊûÑÁöÑÈÄâÊã©ÈúÄË¶ÅÊ†πÊçÆÂÖ∑‰ΩìÁöÑ‰ªªÂä°ÂíåÊï∞ÊçÆÁâπÁÇπËøõË°åË∞ÉÊï¥„ÄÇ

## üìä ÂÆûÈ™å‰∫ÆÁÇπ

ÂÆûÈ™åÁªìÊûúË°®ÊòéÔºåLatentCBFÂú®Ê®°ÊãüÂü∫ÂáÜÂíåÁúüÂÆûÊú∫Âô®‰∫∫Á°¨‰ª∂‰∏äÂùáÂèñÂæó‰∫ÜÊòæËëóÁöÑÊÄßËÉΩÊèêÂçá„ÄÇÂú®ËßÜËßâÊìç‰Ωú‰ªªÂä°‰∏≠ÔºåLatentCBFÁöÑ‰ªªÂä°ÂÆåÊàêÁéáÊØî‰πãÂâçÁöÑÂàáÊç¢ÊñπÊ≥ïÊèêÈ´ò‰∫Ü‰∏ÄÂÄçÔºåÂêåÊó∂‰øùËØÅ‰∫ÜÂÆâÂÖ®ÊÄß„ÄÇËøôËØÅÊòé‰∫ÜLatentCBFËÉΩÂ§üÊúâÊïàÂú∞Ëß£ÂÜ≥ÈöæÂª∫Ê®°Á∫¶Êùü‰∏ãÁöÑÂÆâÂÖ®Êª§Ê≥¢ÈóÆÈ¢òÔºåÂπ∂‰∏∫ÂÆûÈôÖÂ∫îÁî®Êèê‰æõ‰∫ÜÊúâÂäõÁöÑÊîØÊåÅ„ÄÇ

## üéØ Â∫îÁî®Âú∫ÊôØ

ËØ•Á†îÁ©∂ÊàêÊûúÂèØÂ∫îÁî®‰∫éÂêÑÁßçÈúÄË¶ÅÂÆâÂÖ®‰øùÈöúÁöÑÊú∫Âô®‰∫∫ÊéßÂà∂‰ªªÂä°‰∏≠Ôºå‰æãÂ¶ÇËá™Âä®È©æÈ©∂„ÄÅÊó†‰∫∫Êú∫ÂØºËà™„ÄÅÂ∑•‰∏öÊú∫Âô®‰∫∫Á≠â„ÄÇÁâπÂà´ÊòØÂú®ÁéØÂ¢ÉÂ§çÊùÇ„ÄÅÊ®°ÂûãÈöæ‰ª•Á≤æÁ°ÆÂª∫Á´ãÁöÑÂú∫ÊôØ‰∏ãÔºåLatentCBFËÉΩÂ§üÊúâÊïàÂú∞‰øùËØÅÊú∫Âô®‰∫∫ÁöÑÂÆâÂÖ®ÊÄßÔºåÂêåÊó∂ÊèêÈ´ò‰ªªÂä°ÂÆåÊàêÊïàÁéá„ÄÇÊú™Êù•ÔºåËØ•ÊñπÊ≥ïÊúâÊúõÊé®ÂπøÂà∞Êõ¥ÂπøÊ≥õÁöÑÊéßÂà∂È¢ÜÂüüÔºåÂπ∂‰∏éÂÖ∂‰ªñÂÆâÂÖ®ÊéßÂà∂ÊäÄÊúØÁõ∏ÁªìÂêàÔºåÊûÑÂª∫Êõ¥Âä†ÂèØÈù†ÂíåÊô∫ËÉΩÁöÑÊú∫Âô®‰∫∫Á≥ªÁªü„ÄÇ

## üìÑ ÊëòË¶ÅÔºàÂéüÊñáÔºâ

> Latent safety filters extend Hamilton-Jacobi (HJ) reachability to operate on latent state representations and dynamics learned directly from high-dimensional observations, enabling safe visuomotor control under hard-to-model constraints. However, existing methods implement "least-restrictive" filtering that discretely switch between nominal and safety policies, potentially undermining the task performance that makes modern visuomotor policies valuable. While reachability value functions can, in principle, be adapted to be control barrier functions (CBFs) for smooth optimization-based filtering, we theoretically and empirically show that current latent-space learning methods produce fundamentally incompatible value functions. We identify two sources of incompatibility: First, in HJ reachability, failures are encoded via a "margin function" in latent space, whose sign indicates whether or not a latent is in the constraint set. However, representing the margin function as a classifier yields saturated value functions that exhibit discontinuous jumps. We prove that the value function's Lipschitz constant scales linearly with the margin function's Lipschitz constant, revealing that smooth CBFs require smooth margins. Second, reinforcement learning (RL) approximations trained solely on safety policy data yield inaccurate value estimates for nominal policy actions, precisely where CBF filtering needs them. We propose the LatentCBF, which addresses both challenges through gradient penalties that lead to smooth margin functions without additional labeling, and a value-training procedure that mixes data from both nominal and safety policy distributions. Experiments on simulated benchmarks and hardware with a vision-based manipulation policy demonstrate that LatentCBF enables smooth safety filtering while doubling the task-completion rate over prior switching methods.

