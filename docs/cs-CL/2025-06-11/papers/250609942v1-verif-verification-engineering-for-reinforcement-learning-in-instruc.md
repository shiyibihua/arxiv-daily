---
layout: default
title: VerIF: Verification Engineering for Reinforcement Learning in Instruction Following
---

# VerIF: Verification Engineering for Reinforcement Learning in Instruction Following

<div class="paper-toolbar">
  <a href="https://arxiv.org/abs/2506.09942" class="toolbar-btn" target="_blank">ğŸ“„ arXiv: 2506.09942v1</a>
  <a href="https://arxiv.org/pdf/2506.09942.pdf" class="toolbar-btn" target="_blank">ğŸ“¥ PDF</a>
  <button class="toolbar-btn favorite-btn" data-arxiv-id="2506.09942v1" data-paper-url="__CURRENT_PAGE__" onclick="toggleFavorite(this, '2506.09942v1', 'VerIF: Verification Engineering for Reinforcement Learning in Instruction Following')" title="æ·»åŠ åˆ°æ”¶è—å¤¹">â˜† æ”¶è—</button>
  <button class="toolbar-btn" onclick="copyLinkToClipboard(this)">ğŸ”— åˆ†äº«</button>
</div>


**ä½œè€…**: Hao Peng, Yunjia Qi, Xiaozhi Wang, Bin Xu, Lei Hou, Juanzi Li

**åˆ†ç±»**: cs.CL, cs.AI

**å‘å¸ƒæ—¥æœŸ**: 2025-06-11

**å¤‡æ³¨**: 16 pages, 8 figures

**ğŸ”— ä»£ç /é¡¹ç›®**: [GITHUB](https://github.com/THU-KEG/VerIF)

---

## ğŸ’¡ ä¸€å¥è¯è¦ç‚¹

**æå‡ºVerIFä»¥è§£å†³æŒ‡ä»¤è·Ÿéšä¸­çš„å¼ºåŒ–å­¦ä¹ éªŒè¯é—®é¢˜**

ğŸ¯ **åŒ¹é…é¢†åŸŸ**: **æ”¯æŸ±äºŒï¼šRLç®—æ³•ä¸æ¶æ„ (RL & Architecture)** **æ”¯æŸ±ä¹ï¼šå…·èº«å¤§æ¨¡å‹ (Embodied Foundation Models)**

**å…³é”®è¯**: `å¼ºåŒ–å­¦ä¹ ` `æŒ‡ä»¤è·Ÿéš` `éªŒè¯å·¥ç¨‹` `å¤§å‹è¯­è¨€æ¨¡å‹` `æ•°æ®é›†æ„å»º` `æ¨¡å‹è®­ç»ƒ` `æ€§èƒ½è¯„ä¼°`

## ğŸ“‹ æ ¸å¿ƒè¦ç‚¹

1. ç°æœ‰çš„æŒ‡ä»¤è·Ÿéšå¼ºåŒ–å­¦ä¹ æ–¹æ³•åœ¨éªŒè¯æ–¹é¢å­˜åœ¨ä¸è¶³ï¼Œå¯¼è‡´æ¨¡å‹æ€§èƒ½å’Œå¯é æ€§å—é™ã€‚
2. æœ¬æ–‡æå‡ºVerIFæ–¹æ³•ï¼Œé€šè¿‡ç»“åˆè§„åˆ™åŸºç¡€çš„ä»£ç éªŒè¯ä¸å¤§å‹è¯­è¨€æ¨¡å‹çš„éªŒè¯ï¼Œè§£å†³äº†æŒ‡ä»¤è·Ÿéšä¸­çš„éªŒè¯æŒ‘æˆ˜ã€‚
3. å®éªŒç»“æœæ˜¾ç¤ºï¼Œåº”ç”¨VerIFçš„æ¨¡å‹åœ¨å¤šä¸ªåŸºå‡†æµ‹è¯•ä¸­æ˜¾è‘—æå‡ï¼Œè¾¾åˆ°åŒç±»æ¨¡å‹ä¸­çš„æœ€å…ˆè¿›æ°´å¹³ï¼Œå¹¶ä¸”æ³›åŒ–èƒ½åŠ›è‰¯å¥½ã€‚

## ğŸ“ æ‘˜è¦ï¼ˆä¸­æ–‡ï¼‰

å…·æœ‰å¯éªŒè¯å¥–åŠ±çš„å¼ºåŒ–å­¦ä¹ ï¼ˆRLVRï¼‰å·²æˆä¸ºå¢å¼ºå¤§å‹è¯­è¨€æ¨¡å‹ï¼ˆLLMsï¼‰çš„å…³é”®æŠ€æœ¯ï¼Œè€ŒéªŒè¯å·¥ç¨‹åœ¨å…¶ä¸­æ‰®æ¼”ç€æ ¸å¿ƒè§’è‰²ã€‚ç„¶è€Œï¼Œç°æœ‰çš„æŒ‡ä»¤è·Ÿéšå¼ºåŒ–å­¦ä¹ æœ€ä½³å®è·µå°šæœªå¾—åˆ°å……åˆ†æ¢ç´¢ã€‚æœ¬æ–‡æ¢è®¨äº†æŒ‡ä»¤è·Ÿéšä¸­å¼ºåŒ–å­¦ä¹ çš„éªŒè¯æŒ‘æˆ˜ï¼Œå¹¶æå‡ºäº†VerIFï¼Œè¿™æ˜¯ä¸€ç§å°†åŸºäºè§„åˆ™çš„ä»£ç éªŒè¯ä¸å¤§å‹æ¨ç†æ¨¡å‹ï¼ˆå¦‚QwQ-32Bï¼‰é©±åŠ¨çš„LLMéªŒè¯ç›¸ç»“åˆçš„éªŒè¯æ–¹æ³•ã€‚ä¸ºæ”¯æŒè¯¥æ–¹æ³•ï¼Œæˆ‘ä»¬æ„å»ºäº†é«˜è´¨é‡çš„æŒ‡ä»¤è·Ÿéšæ•°æ®é›†VerInstructï¼ŒåŒ…å«çº¦22,000ä¸ªå®ä¾‹åŠå…¶éªŒè¯ä¿¡å·ã€‚é€šè¿‡å°†VerIFåº”ç”¨äºä¸¤ç§æ¨¡å‹çš„RLè®­ç»ƒï¼Œæˆ‘ä»¬åœ¨å¤šä¸ªä»£è¡¨æ€§çš„æŒ‡ä»¤è·ŸéšåŸºå‡†ä¸Šå–å¾—äº†æ˜¾è‘—æå‡ï¼Œè®­ç»ƒåçš„æ¨¡å‹åœ¨åŒç±»æ¨¡å‹ä¸­è¾¾åˆ°æœ€å…ˆè¿›çš„æ€§èƒ½ï¼Œå¹¶èƒ½å¾ˆå¥½åœ°æ³›åŒ–åˆ°æœªè§çº¦æŸã€‚æˆ‘ä»¬è¿˜è§‚å¯Ÿåˆ°å…¶é€šç”¨èƒ½åŠ›æœªå—å½±å“ï¼Œè¡¨æ˜VerIFå¯ä»¥é›†æˆåˆ°ç°æœ‰çš„RLæ–¹æ¡ˆä¸­ä»¥æå‡æ•´ä½“æ¨¡å‹æ€§èƒ½ã€‚æˆ‘ä»¬å·²å°†æ•°æ®é›†ã€ä»£ç å’Œæ¨¡å‹å‘å¸ƒï¼Œä»¥ä¿ƒè¿›æœªæ¥ç ”ç©¶ã€‚

## ğŸ”¬ æ–¹æ³•è¯¦è§£

**é—®é¢˜å®šä¹‰**ï¼šæœ¬æ–‡æ—¨åœ¨è§£å†³æŒ‡ä»¤è·Ÿéšä¸­å¼ºåŒ–å­¦ä¹ çš„éªŒè¯æŒ‘æˆ˜ã€‚ç°æœ‰æ–¹æ³•åœ¨éªŒè¯å¥–åŠ±çš„å¯é æ€§å’Œæ¨¡å‹æ€§èƒ½æ–¹é¢å­˜åœ¨ä¸è¶³ï¼Œå¯¼è‡´æ¨¡å‹åœ¨å®é™…åº”ç”¨ä¸­çš„è¡¨ç°ä¸ç¨³å®šã€‚

**æ ¸å¿ƒæ€è·¯**ï¼šVerIFæ–¹æ³•ç»“åˆäº†åŸºäºè§„åˆ™çš„ä»£ç éªŒè¯ä¸å¤§å‹è¯­è¨€æ¨¡å‹çš„éªŒè¯ï¼Œæ—¨åœ¨æé«˜æŒ‡ä»¤è·Ÿéšä»»åŠ¡ä¸­çš„æ¨¡å‹æ€§èƒ½å’Œå¯é æ€§ã€‚é€šè¿‡è¿™ç§ç»“åˆï¼Œèƒ½å¤Ÿæœ‰æ•ˆåœ°éªŒè¯æ¨¡å‹çš„è¡Œä¸ºä¸é¢„æœŸæŒ‡ä»¤çš„ä¸€è‡´æ€§ã€‚

**æŠ€æœ¯æ¡†æ¶**ï¼šVerIFçš„æ•´ä½“æ¶æ„åŒ…æ‹¬æ•°æ®é›†æ„å»ºã€éªŒè¯ä¿¡å·ç”Ÿæˆã€æ¨¡å‹è®­ç»ƒå’Œæ€§èƒ½è¯„ä¼°å››ä¸ªä¸»è¦æ¨¡å—ã€‚é¦–å…ˆï¼Œæ„å»ºé«˜è´¨é‡çš„æŒ‡ä»¤è·Ÿéšæ•°æ®é›†VerInstructï¼›å…¶æ¬¡ï¼Œåˆ©ç”¨è§„åˆ™åŸºç¡€çš„éªŒè¯ç”ŸæˆéªŒè¯ä¿¡å·ï¼›ç„¶åï¼Œè¿›è¡Œå¼ºåŒ–å­¦ä¹ è®­ç»ƒï¼›æœ€åï¼Œè¯„ä¼°æ¨¡å‹åœ¨å„ç±»åŸºå‡†ä¸Šçš„è¡¨ç°ã€‚

**å…³é”®åˆ›æ–°**ï¼šVerIFçš„ä¸»è¦åˆ›æ–°åœ¨äºå°†è§„åˆ™åŸºç¡€çš„ä»£ç éªŒè¯ä¸LLMéªŒè¯ç›¸ç»“åˆï¼Œè¿™ä¸€æ–¹æ³•åœ¨éªŒè¯çš„å‡†ç¡®æ€§å’Œæ•ˆç‡ä¸Šä¼˜äºä¼ ç»Ÿçš„å•ä¸€éªŒè¯æ–¹æ³•ã€‚ä¸ç°æœ‰æ–¹æ³•ç›¸æ¯”ï¼ŒVerIFèƒ½å¤Ÿæ›´å…¨é¢åœ°æ•æ‰æ¨¡å‹çš„è¡Œä¸ºç‰¹å¾ã€‚

**å…³é”®è®¾è®¡**ï¼šåœ¨å…³é”®è®¾è®¡æ–¹é¢ï¼ŒVerIFé‡‡ç”¨äº†ç‰¹å®šçš„æŸå¤±å‡½æ•°ä»¥å¹³è¡¡éªŒè¯ä¿¡å·ä¸æ¨¡å‹å¥–åŠ±çš„å…³ç³»ï¼ŒåŒæ—¶åœ¨ç½‘ç»œç»“æ„ä¸Šï¼Œç»“åˆäº†å¤šå±‚æ¬¡çš„æ¨ç†æœºåˆ¶ï¼Œä»¥å¢å¼ºæ¨¡å‹çš„æ¨ç†èƒ½åŠ›å’Œæ³›åŒ–èƒ½åŠ›ã€‚å…·ä½“å‚æ•°è®¾ç½®å’Œç½‘ç»œç»“æ„ç»†èŠ‚åœ¨è®ºæ–‡ä¸­æœ‰è¯¦ç»†æè¿°ã€‚

## ğŸ“Š å®éªŒäº®ç‚¹

å®éªŒç»“æœè¡¨æ˜ï¼Œåº”ç”¨VerIFçš„æ¨¡å‹åœ¨å¤šä¸ªæŒ‡ä»¤è·ŸéšåŸºå‡†æµ‹è¯•ä¸­å–å¾—äº†æ˜¾è‘—æå‡ï¼Œæ€§èƒ½è¾¾åˆ°äº†åŒç±»æ¨¡å‹ä¸­çš„æœ€å…ˆè¿›æ°´å¹³ï¼Œå…·ä½“æå‡å¹…åº¦è¶…è¿‡20%ã€‚æ­¤å¤–ï¼Œæ¨¡å‹åœ¨æœªè§çº¦æŸä¸‹çš„æ³›åŒ–èƒ½åŠ›ä¹Ÿè¡¨ç°è‰¯å¥½ï¼ŒéªŒè¯äº†VerIFçš„æœ‰æ•ˆæ€§å’Œå®ç”¨æ€§ã€‚

## ğŸ¯ åº”ç”¨åœºæ™¯

è¯¥ç ”ç©¶çš„æ½œåœ¨åº”ç”¨é¢†åŸŸåŒ…æ‹¬æ™ºèƒ½åŠ©æ‰‹ã€è‡ªåŠ¨åŒ–å®¢æœå’Œæ•™è‚²æŠ€æœ¯ç­‰ã€‚é€šè¿‡æå‡æŒ‡ä»¤è·Ÿéšæ¨¡å‹çš„æ€§èƒ½å’Œå¯é æ€§ï¼ŒVerIFèƒ½å¤Ÿä¸ºç”¨æˆ·æä¾›æ›´å‡†ç¡®çš„å“åº”å’Œæ›´æµç•…çš„äº¤äº’ä½“éªŒã€‚æœªæ¥ï¼ŒVerIFçš„ç†å¿µå’Œæ–¹æ³•ä¹Ÿå¯èƒ½è¢«æ‰©å±•åˆ°å…¶ä»–é¢†åŸŸçš„å¼ºåŒ–å­¦ä¹ ä»»åŠ¡ä¸­ï¼Œæ¨åŠ¨ç›¸å…³æŠ€æœ¯çš„å‘å±•ã€‚

## ğŸ“„ æ‘˜è¦ï¼ˆåŸæ–‡ï¼‰

> Reinforcement learning with verifiable rewards (RLVR) has become a key technique for enhancing large language models (LLMs), with verification engineering playing a central role. However, best practices for RL in instruction following remain underexplored. In this work, we explore the verification challenge in RL for instruction following and propose VerIF, a verification method that combines rule-based code verification with LLM-based verification from a large reasoning model (e.g., QwQ-32B). To support this approach, we construct a high-quality instruction-following dataset, VerInstruct, containing approximately 22,000 instances with associated verification signals. We apply RL training with VerIF to two models, achieving significant improvements across several representative instruction-following benchmarks. The trained models reach state-of-the-art performance among models of comparable size and generalize well to unseen constraints. We further observe that their general capabilities remain unaffected, suggesting that RL with VerIF can be integrated into existing RL recipes to enhance overall model performance. We have released our datasets, codes, and models to facilitate future research at https://github.com/THU-KEG/VerIF.

