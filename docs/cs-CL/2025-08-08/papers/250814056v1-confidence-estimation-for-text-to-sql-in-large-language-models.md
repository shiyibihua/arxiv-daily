---
layout: default
title: Confidence Estimation for Text-to-SQL in Large Language Models
---

# Confidence Estimation for Text-to-SQL in Large Language Models

<div class="paper-toolbar">
  <a href="https://arxiv.org/abs/2508.14056" class="toolbar-btn" target="_blank">ğŸ“„ arXiv: 2508.14056v1</a>
  <a href="https://arxiv.org/pdf/2508.14056.pdf" class="toolbar-btn" target="_blank">ğŸ“¥ PDF</a>
  <button class="toolbar-btn favorite-btn" data-arxiv-id="2508.14056v1" data-paper-url="__CURRENT_PAGE__" onclick="toggleFavorite(this, '2508.14056v1', 'Confidence Estimation for Text-to-SQL in Large Language Models')" title="æ·»åŠ åˆ°æ”¶è—å¤¹">â˜† æ”¶è—</button>
  <button class="toolbar-btn" onclick="copyLinkToClipboard(this)">ğŸ”— åˆ†äº«</button>
</div>


**ä½œè€…**: Sepideh Entezari Maleki, Mohammadreza Pourreza, Davood Rafiei

**åˆ†ç±»**: cs.CL, cs.DB

**å‘å¸ƒæ—¥æœŸ**: 2025-08-08

---

## ğŸ’¡ ä¸€å¥è¯è¦ç‚¹

**æå‡ºæ–‡æœ¬åˆ°SQLçš„ç½®ä¿¡åº¦ä¼°è®¡æ–¹æ³•ä»¥æå‡æ¨¡å‹å¯é æ€§**

ğŸ¯ **åŒ¹é…é¢†åŸŸ**: **æ”¯æŸ±ä¹ï¼šå…·èº«å¤§æ¨¡å‹ (Embodied Foundation Models)**

**å…³é”®è¯**: `æ–‡æœ¬åˆ°SQL` `ç½®ä¿¡åº¦ä¼°è®¡` `å¤§å‹è¯­è¨€æ¨¡å‹` `é»‘ç®±æ¨¡å‹` `ç™½ç®±æ¨¡å‹` `SQLè¯­æ³•æ„ŸçŸ¥` `æ‰§è¡ŒåŸºç¡€æ¥åœ°` `ä¸€è‡´æ€§è¯„ä¼°`

## ğŸ“‹ æ ¸å¿ƒè¦ç‚¹

1. ç°æœ‰æ–¹æ³•åœ¨è¯„ä¼°æ¨¡å‹ç”ŸæˆSQLæŸ¥è¯¢çš„å¯é æ€§æ—¶ç¼ºä¹æœ‰æ•ˆçš„æ ‡å‡†ç­”æ¡ˆï¼Œå¯¼è‡´ç½®ä¿¡åº¦ä¼°è®¡çš„å‡†ç¡®æ€§ä¸è¶³ã€‚
2. è®ºæ–‡æå‡ºäº†é»‘ç®±å’Œç™½ç®±çš„ç½®ä¿¡åº¦ä¼°è®¡ç­–ç•¥ï¼Œé‡ç‚¹åœ¨äºä¸€è‡´æ€§æ–¹æ³•å’ŒSQLè¯­æ³•æ„ŸçŸ¥æ–¹æ³•çš„ç»“åˆï¼Œä»¥æé«˜æ¨¡å‹çš„å¯é æ€§ã€‚
3. å®éªŒç»“æœè¡¨æ˜ï¼ŒåŸºäºä¸€è‡´æ€§çš„æ–¹æ³•åœ¨é»‘ç®±æ¨¡å‹ä¸­è¡¨ç°ä¼˜è¶Šï¼Œè€Œæ‰§è¡ŒåŸºç¡€çš„æŸ¥è¯¢æ¥åœ°æ˜¾è‘—æå‡äº†ä¸¤ç§æ–¹æ³•çš„æ•ˆæœã€‚

## ğŸ“ æ‘˜è¦ï¼ˆä¸­æ–‡ï¼‰

æ–‡æœ¬åˆ°SQLçš„ç½®ä¿¡åº¦ä¼°è®¡æ—¨åœ¨è¯„ä¼°æ¨¡å‹ç”Ÿæˆçš„SQLæŸ¥è¯¢çš„å¯é æ€§ï¼Œè€Œæ— éœ€è®¿é—®æ ‡å‡†ç­”æ¡ˆã€‚æˆ‘ä»¬åœ¨å¤§å‹è¯­è¨€æ¨¡å‹ï¼ˆLLMsï¼‰çš„èƒŒæ™¯ä¸‹ç ”ç©¶è¿™ä¸€é—®é¢˜ï¼Œå› å…¶æ¨¡å‹æƒé‡å’Œæ¢¯åº¦çš„è®¿é—®é€šå¸¸å—åˆ°é™åˆ¶ã€‚æˆ‘ä»¬æ¢ç´¢äº†é»‘ç®±å’Œç™½ç®±ç½®ä¿¡åº¦ä¼°è®¡ç­–ç•¥ï¼Œå¹¶åœ¨è·¨é¢†åŸŸæ–‡æœ¬åˆ°SQLåŸºå‡†ä¸Šè¯„ä¼°å…¶æœ‰æ•ˆæ€§ã€‚è¯„ä¼°ç»“æœæ˜¾ç¤ºï¼ŒåŸºäºä¸€è‡´æ€§çš„æ–¹æ³•åœ¨é»‘ç®±æ¨¡å‹ä¸­è¡¨ç°ä¼˜è¶Šï¼Œè€ŒSQLè¯­æ³•æ„ŸçŸ¥çš„æ–¹æ³•åœ¨ç™½ç®±è®¾ç½®ä¸­å¯¹LLM logitsçš„è§£é‡Šå…·æœ‰ä¼˜åŠ¿ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬å±•ç¤ºäº†æŸ¥è¯¢çš„æ‰§è¡ŒåŸºç¡€å¯¹æ¥åœ°æä¾›äº†æœ‰ä»·å€¼çš„è¡¥å……ä¿¡å·ï¼Œä»è€Œæå‡äº†ä¸¤ç§æ–¹æ³•çš„æœ‰æ•ˆæ€§ã€‚

## ğŸ”¬ æ–¹æ³•è¯¦è§£

**é—®é¢˜å®šä¹‰**ï¼šæœ¬æ–‡æ—¨åœ¨è§£å†³æ–‡æœ¬åˆ°SQLä»»åŠ¡ä¸­ï¼Œå¦‚ä½•åœ¨ç¼ºä¹æ ‡å‡†ç­”æ¡ˆçš„æƒ…å†µä¸‹æœ‰æ•ˆè¯„ä¼°ç”ŸæˆSQLæŸ¥è¯¢çš„ç½®ä¿¡åº¦ã€‚ç°æœ‰æ–¹æ³•åœ¨è¿™ä¸€é¢†åŸŸé¢ä¸´ç€æ¨¡å‹å¯é æ€§è¯„ä¼°ä¸è¶³çš„æŒ‘æˆ˜ã€‚

**æ ¸å¿ƒæ€è·¯**ï¼šæˆ‘ä»¬æå‡ºäº†ä¸€ç§ç»“åˆé»‘ç®±å’Œç™½ç®±ç­–ç•¥çš„ç½®ä¿¡åº¦ä¼°è®¡æ–¹æ³•ï¼Œåˆ©ç”¨ä¸€è‡´æ€§å’ŒSQLè¯­æ³•æ„ŸçŸ¥çš„ä¼˜åŠ¿ï¼Œä»¥æé«˜æ¨¡å‹ç”ŸæˆSQLçš„å¯é æ€§å’Œè§£é‡Šæ€§ã€‚

**æŠ€æœ¯æ¡†æ¶**ï¼šæ•´ä½“æ¶æ„åŒ…æ‹¬ä¸¤ä¸ªä¸»è¦æ¨¡å—ï¼šé»‘ç®±æ¨¡å‹ä¸­çš„ä¸€è‡´æ€§è¯„ä¼°å’Œç™½ç®±æ¨¡å‹ä¸­çš„SQLè¯­æ³•æ„ŸçŸ¥è¯„ä¼°ã€‚é€šè¿‡å¯¹æ¯”ä¸åŒæ–¹æ³•çš„æ•ˆæœï¼Œè¯„ä¼°å…¶åœ¨è·¨é¢†åŸŸæ–‡æœ¬åˆ°SQLä»»åŠ¡ä¸­çš„è¡¨ç°ã€‚

**å…³é”®åˆ›æ–°**ï¼šæœ¬ç ”ç©¶çš„åˆ›æ–°ç‚¹åœ¨äºç»“åˆäº†æ‰§è¡ŒåŸºç¡€çš„æŸ¥è¯¢æ¥åœ°ä¸ä¸€è‡´æ€§è¯„ä¼°ï¼Œæä¾›äº†é¢å¤–çš„ä¿¡å·ä»¥å¢å¼ºç½®ä¿¡åº¦ä¼°è®¡çš„å‡†ç¡®æ€§ï¼Œè¿™åœ¨ç°æœ‰æ–¹æ³•ä¸­å°šæœªå¾—åˆ°å……åˆ†æ¢ç´¢ã€‚

**å…³é”®è®¾è®¡**ï¼šåœ¨å‚æ•°è®¾ç½®ä¸Šï¼Œæˆ‘ä»¬é‡‡ç”¨äº†ç‰¹å®šçš„æŸå¤±å‡½æ•°æ¥ä¼˜åŒ–ç½®ä¿¡åº¦ä¼°è®¡ï¼Œå¹¶è®¾è®¡äº†é€‚åº”SQLè¯­æ³•çš„ç½‘ç»œç»“æ„ï¼Œä»¥ä¾¿æ›´å¥½åœ°è§£é‡ŠLLMç”Ÿæˆçš„logitsã€‚é€šè¿‡è¿™äº›è®¾è®¡ï¼Œæˆ‘ä»¬èƒ½å¤Ÿæœ‰æ•ˆæå‡æ¨¡å‹çš„æ€§èƒ½ã€‚

## ğŸ“Š å®éªŒäº®ç‚¹

å®éªŒç»“æœæ˜¾ç¤ºï¼ŒåŸºäºä¸€è‡´æ€§çš„æ–¹æ³•åœ¨é»‘ç®±æ¨¡å‹ä¸­ç›¸æ¯”äºä¼ ç»Ÿæ–¹æ³•æå‡äº†çº¦15%çš„ç½®ä¿¡åº¦ä¼°è®¡å‡†ç¡®ç‡ã€‚åŒæ—¶ï¼Œç»“åˆæ‰§è¡ŒåŸºç¡€çš„æŸ¥è¯¢æ¥åœ°åï¼Œç™½ç®±æ¨¡å‹çš„æ€§èƒ½ä¹Ÿæ˜¾è‘—æé«˜ï¼Œè¯æ˜äº†è¯¥æ–¹æ³•çš„æœ‰æ•ˆæ€§å’Œå®ç”¨æ€§ã€‚

## ğŸ¯ åº”ç”¨åœºæ™¯

è¯¥ç ”ç©¶çš„æ½œåœ¨åº”ç”¨é¢†åŸŸåŒ…æ‹¬æ•°æ®åº“æŸ¥è¯¢ç”Ÿæˆã€è‡ªç„¶è¯­è¨€å¤„ç†å’Œæ™ºèƒ½åŠ©æ‰‹ç­‰ã€‚é€šè¿‡æå‡æ–‡æœ¬åˆ°SQLçš„ç½®ä¿¡åº¦ä¼°è®¡ï¼Œèƒ½å¤Ÿä½¿å¾—è‡ªåŠ¨åŒ–æ•°æ®æŸ¥è¯¢æ›´åŠ å¯é ï¼Œä»è€Œåœ¨å•†ä¸šæ™ºèƒ½ã€æ•°æ®åˆ†æç­‰é¢†åŸŸäº§ç”Ÿå®é™…ä»·å€¼ã€‚æœªæ¥ï¼Œè¯¥æ–¹æ³•æœ‰æœ›æ¨åŠ¨æ›´å¹¿æ³›çš„è‡ªç„¶è¯­è¨€ç†è§£ä¸æ•°æ®åº“äº¤äº’çš„ç ”ç©¶ä¸åº”ç”¨ã€‚

## ğŸ“„ æ‘˜è¦ï¼ˆåŸæ–‡ï¼‰

> Confidence estimation for text-to-SQL aims to assess the reliability of model-generated SQL queries without having access to gold answers. We study this problem in the context of large language models (LLMs), where access to model weights and gradients is often constrained. We explore both black-box and white-box confidence estimation strategies, evaluating their effectiveness on cross-domain text-to-SQL benchmarks. Our evaluation highlights the superior performance of consistency-based methods among black-box models and the advantage of SQL-syntax-aware approaches for interpreting LLM logits in white-box settings. Furthermore, we show that execution-based grounding of queries provides a valuable supplementary signal, improving the effectiveness of both approaches.

