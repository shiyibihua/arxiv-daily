---
layout: default
title: HarmonyGuard: Toward Safety and Utility in Web Agents via Adaptive Policy Enhancement and Dual-Objective Optimization
---

# HarmonyGuard: Toward Safety and Utility in Web Agents via Adaptive Policy Enhancement and Dual-Objective Optimization

<div class="paper-toolbar">
  <a href="https://arxiv.org/abs/2508.04010" class="toolbar-btn" target="_blank">ğŸ“„ arXiv: 2508.04010v1</a>
  <a href="https://arxiv.org/pdf/2508.04010.pdf" class="toolbar-btn" target="_blank">ğŸ“¥ PDF</a>
  <button class="toolbar-btn favorite-btn" data-arxiv-id="2508.04010v1" data-paper-url="__CURRENT_PAGE__" onclick="toggleFavorite(this, '2508.04010v1', 'HarmonyGuard: Toward Safety and Utility in Web Agents via Adaptive Policy Enhancement and Dual-Objective Optimization')" title="æ·»åŠ åˆ°æ”¶è—å¤¹">â˜† æ”¶è—</button>
  <button class="toolbar-btn" onclick="copyLinkToClipboard(this)">ğŸ”— åˆ†äº«</button>
</div>


**ä½œè€…**: Yurun Chen, Xavier Hu, Yuhan Liu, Keting Yin, Juncheng Li, Zhuosheng Zhang, Shengyu Zhang

**åˆ†ç±»**: cs.CL, cs.AI

**å‘å¸ƒæ—¥æœŸ**: 2025-08-06

**ğŸ”— ä»£ç /é¡¹ç›®**: [GITHUB](https://github.com/YurunChen/HarmonyGuard)

---

## ğŸ’¡ ä¸€å¥è¯è¦ç‚¹

**æå‡ºHarmonyGuardä»¥è§£å†³ç½‘ç»œä»£ç†çš„å®‰å…¨ä¸æ•ˆç”¨å¹³è¡¡é—®é¢˜**

ğŸ¯ **åŒ¹é…é¢†åŸŸ**: **æ”¯æŸ±ä¹ï¼šå…·èº«å¤§æ¨¡å‹ (Embodied Foundation Models)**

**å…³é”®è¯**: `ç½‘ç»œä»£ç†` `å®‰å…¨æ€§` `æ•ˆç”¨ä¼˜åŒ–` `å¤šä»£ç†åä½œ` `ç­–ç•¥å¢å¼º` `åŒç›®æ ‡ä¼˜åŒ–` `åŠ¨æ€æ›´æ–°` `å…ƒè®¤çŸ¥èƒ½åŠ›`

## ğŸ“‹ æ ¸å¿ƒè¦ç‚¹

1. ç°æœ‰æ–¹æ³•ä¸»è¦é›†ä¸­äºå•ä¸€ç›®æ ‡ä¼˜åŒ–ï¼Œæ— æ³•æœ‰æ•ˆåº”å¯¹ç½‘ç»œç¯å¢ƒä¸­çš„å®‰å…¨ä¸æ•ˆç”¨å¹³è¡¡é—®é¢˜ã€‚
2. HarmonyGuardé€šè¿‡å¼•å…¥è‡ªé€‚åº”ç­–ç•¥å¢å¼ºå’ŒåŒç›®æ ‡ä¼˜åŒ–ï¼Œå®ç°äº†å®‰å…¨æ€§ä¸æ•ˆç”¨çš„ååŒæå‡ã€‚
3. å®éªŒç»“æœæ˜¾ç¤ºï¼ŒHarmonyGuardåœ¨æ”¿ç­–åˆè§„æ€§ä¸Šæé«˜äº†38%ï¼Œä»»åŠ¡å®Œæˆç‡æå‡äº†20%ï¼Œå¹¶åœ¨æ‰€æœ‰ä»»åŠ¡ä¸­å®ç°äº†90%ä»¥ä¸Šçš„æ”¿ç­–åˆè§„æ€§ã€‚

## ğŸ“ æ‘˜è¦ï¼ˆä¸­æ–‡ï¼‰

å¤§å‹è¯­è¨€æ¨¡å‹ä½¿å¾—ä»£ç†èƒ½å¤Ÿåœ¨å¼€æ”¾çš„ç½‘ç»œç¯å¢ƒä¸­è‡ªä¸»æ‰§è¡Œä»»åŠ¡ã€‚ç„¶è€Œï¼Œéšç€ç½‘ç»œä¸­éšè—å¨èƒçš„æ¼”å˜ï¼Œç½‘ç»œä»£ç†åœ¨é•¿åºåˆ—æ“ä½œä¸­é¢ä¸´ç€åœ¨ä»»åŠ¡æ€§èƒ½ä¸æ–°å…´é£é™©ä¹‹é—´å¹³è¡¡çš„æŒ‘æˆ˜ã€‚ç°æœ‰ç ”ç©¶ä¸»è¦é›†ä¸­äºå•ä¸€ç›®æ ‡ä¼˜åŒ–æˆ–å•è½®åœºæ™¯ï¼Œç¼ºä¹åœ¨ç½‘ç»œç¯å¢ƒä¸­å¯¹å®‰å…¨æ€§å’Œæ•ˆç”¨çš„ååŒä¼˜åŒ–èƒ½åŠ›ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬æå‡ºäº†HarmonyGuardï¼Œä¸€ä¸ªå¤šä»£ç†åä½œæ¡†æ¶ï¼Œé€šè¿‡ç­–ç•¥å¢å¼ºå’Œç›®æ ‡ä¼˜åŒ–å…±åŒæå‡æ•ˆç”¨å’Œå®‰å…¨æ€§ã€‚HarmonyGuardçš„å¤šä»£ç†æ¶æ„å…·æœ‰ä¸¤ä¸ªåŸºæœ¬èƒ½åŠ›ï¼šè‡ªé€‚åº”ç­–ç•¥å¢å¼ºå’ŒåŒç›®æ ‡ä¼˜åŒ–ã€‚å¹¿æ³›çš„è¯„ä¼°è¡¨æ˜ï¼ŒHarmonyGuardåœ¨æ”¿ç­–åˆè§„æ€§å’Œä»»åŠ¡å®Œæˆç‡ä¸Šå‡æ˜¾è‘—ä¼˜äºç°æœ‰åŸºçº¿ã€‚

## ğŸ”¬ æ–¹æ³•è¯¦è§£

**é—®é¢˜å®šä¹‰**ï¼šæœ¬è®ºæ–‡æ—¨åœ¨è§£å†³ç½‘ç»œä»£ç†åœ¨é•¿åºåˆ—æ“ä½œä¸­é¢ä¸´çš„å®‰å…¨æ€§ä¸æ•ˆç”¨ä¹‹é—´çš„å¹³è¡¡é—®é¢˜ã€‚ç°æœ‰æ–¹æ³•å¤šä¸ºå•ä¸€ç›®æ ‡ä¼˜åŒ–ï¼Œæ— æ³•é€‚åº”ä¸æ–­å˜åŒ–çš„ç½‘ç»œå¨èƒã€‚

**æ ¸å¿ƒæ€è·¯**ï¼šHarmonyGuardçš„æ ¸å¿ƒæ€è·¯æ˜¯é€šè¿‡å¤šä»£ç†åä½œæ¡†æ¶ï¼Œç»“åˆè‡ªé€‚åº”ç­–ç•¥å¢å¼ºå’ŒåŒç›®æ ‡ä¼˜åŒ–ï¼Œæ¥åŒæ—¶æå‡ä»£ç†çš„å®‰å…¨æ€§å’Œæ•ˆç”¨ã€‚è¿™ç§è®¾è®¡èƒ½å¤Ÿåº”å¯¹å¤æ‚çš„ç½‘ç»œç¯å¢ƒå’ŒåŠ¨æ€å¨èƒã€‚

**æŠ€æœ¯æ¡†æ¶**ï¼šHarmonyGuardçš„æ•´ä½“æ¶æ„åŒ…æ‹¬ä¸¤ä¸ªä¸»è¦æ¨¡å—ï¼šç­–ç•¥ä»£ç†ï¼ˆPolicy Agentï¼‰å’Œæ•ˆç”¨ä»£ç†ï¼ˆUtility Agentï¼‰ã€‚ç­–ç•¥ä»£ç†è´Ÿè´£ä»éç»“æ„åŒ–æ–‡æ¡£ä¸­æå–å’Œç»´æŠ¤å®‰å…¨ç­–ç•¥ï¼Œå¹¶æ ¹æ®æ–°å¨èƒè¿›è¡Œæ›´æ–°ï¼›æ•ˆç”¨ä»£ç†åˆ™åŸºäºå®‰å…¨æ€§å’Œæ•ˆç”¨çš„åŒé‡ç›®æ ‡è¿›è¡Œå®æ—¶æ¨ç†å’Œä¼˜åŒ–ã€‚

**å…³é”®åˆ›æ–°**ï¼šæœ¬ç ”ç©¶çš„å…³é”®åˆ›æ–°åœ¨äºå¼•å…¥äº†å¤šä»£ç†åä½œæœºåˆ¶ï¼Œä½¿å¾—å®‰å…¨æ€§å’Œæ•ˆç”¨çš„ä¼˜åŒ–å¯ä»¥åŒæ—¶è¿›è¡Œã€‚è¿™ä¸ç°æœ‰æ–¹æ³•çš„å•ä¸€ç›®æ ‡ä¼˜åŒ–å½¢æˆäº†æœ¬è´¨åŒºåˆ«ã€‚

**å…³é”®è®¾è®¡**ï¼šåœ¨è®¾è®¡ä¸Šï¼Œç­–ç•¥ä»£ç†é‡‡ç”¨äº†åŠ¨æ€æ›´æ–°æœºåˆ¶ï¼Œä»¥é€‚åº”ä¸æ–­å˜åŒ–çš„ç½‘ç»œå¨èƒï¼›æ•ˆç”¨ä»£ç†åˆ™åˆ©ç”¨å…ƒè®¤çŸ¥èƒ½åŠ›è¿›è¡Œç›®æ ‡è¯„ä¼°å’Œä¼˜åŒ–ï¼Œç¡®ä¿åœ¨å¤æ‚ç¯å¢ƒä¸­å®ç°æœ€ä½³æ€§èƒ½ã€‚å…·ä½“çš„æŸå¤±å‡½æ•°å’Œç½‘ç»œç»“æ„ç»†èŠ‚åœ¨è®ºæ–‡ä¸­æœ‰è¯¦ç»†æè¿°ã€‚

## ğŸ“Š å®éªŒäº®ç‚¹

å®éªŒç»“æœè¡¨æ˜ï¼ŒHarmonyGuardåœ¨æ”¿ç­–åˆè§„æ€§ä¸Šæé«˜äº†38%ï¼Œä»»åŠ¡å®Œæˆç‡æå‡äº†20%ã€‚åœ¨æ‰€æœ‰ä»»åŠ¡ä¸­ï¼ŒHarmonyGuardå®ç°äº†è¶…è¿‡90%çš„æ”¿ç­–åˆè§„æ€§ï¼Œæ˜¾è‘—ä¼˜äºç°æœ‰åŸºçº¿ï¼Œå±•ç¤ºäº†å…¶åœ¨å®‰å…¨æ€§ä¸æ•ˆç”¨ä¼˜åŒ–æ–¹é¢çš„æœ‰æ•ˆæ€§ã€‚

## ğŸ¯ åº”ç”¨åœºæ™¯

HarmonyGuardçš„ç ”ç©¶æˆæœå…·æœ‰å¹¿æ³›çš„åº”ç”¨æ½œåŠ›ï¼Œå°¤å…¶æ˜¯åœ¨éœ€è¦é«˜å®‰å…¨æ€§å’Œé«˜æ•ˆèƒ½çš„ç½‘ç»œä»£ç†ç³»ç»Ÿä¸­ï¼Œå¦‚åœ¨çº¿å®¢æœã€è‡ªåŠ¨åŒ–ä¿¡æ¯æ£€ç´¢å’Œæ™ºèƒ½å†³ç­–æ”¯æŒç­‰é¢†åŸŸã€‚æœªæ¥ï¼Œè¯¥æ¡†æ¶å¯ä¸ºæ›´å¤æ‚çš„å¤šä»£ç†ç³»ç»Ÿæä¾›å®‰å…¨ä¿éšœå’Œæ•ˆç”¨ä¼˜åŒ–çš„è§£å†³æ–¹æ¡ˆï¼Œæ¨åŠ¨æ™ºèƒ½ä»£ç†æŠ€æœ¯çš„å‘å±•ã€‚

## ğŸ“„ æ‘˜è¦ï¼ˆåŸæ–‡ï¼‰

> Large language models enable agents to autonomously perform tasks in open web environments. However, as hidden threats within the web evolve, web agents face the challenge of balancing task performance with emerging risks during long-sequence operations. Although this challenge is critical, current research remains limited to single-objective optimization or single-turn scenarios, lacking the capability for collaborative optimization of both safety and utility in web environments. To address this gap, we propose HarmonyGuard, a multi-agent collaborative framework that leverages policy enhancement and objective optimization to jointly improve both utility and safety. HarmonyGuard features a multi-agent architecture characterized by two fundamental capabilities: (1) Adaptive Policy Enhancement: We introduce the Policy Agent within HarmonyGuard, which automatically extracts and maintains structured security policies from unstructured external documents, while continuously updating policies in response to evolving threats. (2) Dual-Objective Optimization: Based on the dual objectives of safety and utility, the Utility Agent integrated within HarmonyGuard performs the Markovian real-time reasoning to evaluate the objectives and utilizes metacognitive capabilities for their optimization. Extensive evaluations on multiple benchmarks show that HarmonyGuard improves policy compliance by up to 38% and task completion by up to 20% over existing baselines, while achieving over 90% policy compliance across all tasks. Our project is available here: https://github.com/YurunChen/HarmonyGuard.

