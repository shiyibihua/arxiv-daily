---
layout: default
title: HiGFA: Hierarchical Guidance for Fine-grained Data Augmentation with Diffusion Models
---

# HiGFA: Hierarchical Guidance for Fine-grained Data Augmentation with Diffusion Models

**arXiv**: [2511.12547v4](https://arxiv.org/abs/2511.12547) | [PDF](https://arxiv.org/pdf/2511.12547.pdf)

**ä½œè€…**: Zhiguang Lu, Qianqian Xu, Peisong Wen, Siran Dai, Qingming Huang

**åˆ†ç±»**: cs.CV

**å‘å¸ƒæ—¥æœŸ**: 2025-11-16 (æ›´æ–°: 2025-12-01)

---

## ðŸ’¡ ä¸€å¥è¯è¦ç‚¹

**HiGFAï¼šåˆ©ç”¨æ‰©æ•£æ¨¡åž‹å’Œåˆ†å±‚å¼•å¯¼è¿›è¡Œç»†ç²’åº¦æ•°æ®å¢žå¼º**

ðŸŽ¯ **åŒ¹é…é¢†åŸŸ**: **æ”¯æŸ±å››ï¼šç”Ÿæˆå¼åŠ¨ä½œ (Generative Motion)**

**å…³é”®è¯**: `ç»†ç²’åº¦è§†è§‰åˆ†ç±»` `æ•°æ®å¢žå¼º` `æ‰©æ•£æ¨¡åž‹` `åˆ†å±‚å¼•å¯¼` `æ— åˆ†ç±»å™¨å¼•å¯¼`

## ðŸ“‹ æ ¸å¿ƒè¦ç‚¹

1. çŽ°æœ‰åŸºäºŽæ–‡æœ¬å¼•å¯¼çš„æ‰©æ•£æ¨¡åž‹åœ¨ç»†ç²’åº¦æ•°æ®å¢žå¼ºä¸­ï¼Œéš¾ä»¥å‡†ç¡®æ•æ‰ç±»åˆ«å®šä¹‰çš„ç»†å¾®ç‰¹å¾ï¼Œå¯¼è‡´æ€§èƒ½ä¸‹é™ã€‚
2. HiGFAé€šè¿‡åˆ†å±‚å¼•å¯¼ï¼Œåœ¨æ‰©æ•£è¿‡ç¨‹çš„ä¸åŒé˜¶æ®µé‡‡ç”¨ä¸åŒå¼ºåº¦çš„æ–‡æœ¬ã€è½®å»“å’Œåˆ†ç±»å™¨å¼•å¯¼ï¼Œå®žçŽ°å…¨å±€ç»“æž„å’Œå±€éƒ¨ç»†èŠ‚çš„å¹³è¡¡ã€‚
3. å®žéªŒè¡¨æ˜Žï¼ŒHiGFAåœ¨å¤šä¸ªç»†ç²’åº¦è§†è§‰åˆ†ç±»æ•°æ®é›†ä¸Šæœ‰æ•ˆï¼Œèƒ½å¤Ÿç”Ÿæˆé«˜è´¨é‡çš„åˆæˆå›¾åƒï¼Œæå‡åˆ†ç±»å™¨æ€§èƒ½ã€‚

## ðŸ“ æ‘˜è¦ï¼ˆä¸­æ–‡ï¼‰

ç”Ÿæˆå¼æ‰©æ•£æ¨¡åž‹åœ¨æ•°æ®å¢žå¼ºæ–¹é¢å±•çŽ°å‡ºæ½œåŠ›ã€‚ç„¶è€Œï¼Œå°†å…¶åº”ç”¨äºŽç»†ç²’åº¦ä»»åŠ¡é¢ä¸´é‡å¤§æŒ‘æˆ˜ï¼šç¡®ä¿åˆæˆå›¾åƒå‡†ç¡®æ•æ‰å¯¹ç±»åˆ«å®šä¹‰è‡³å…³é‡è¦çš„ç»†å¾®ç‰¹å¾ï¼Œä»¥å®žçŽ°é«˜ä¿çœŸåº¦ã€‚æ ‡å‡†çš„åŸºäºŽæ–‡æœ¬çš„æ— åˆ†ç±»å™¨å¼•å¯¼(CFG)æ–¹æ³•é€šå¸¸ç¼ºä¹æ‰€éœ€çš„ç‰¹å¼‚æ€§ï¼Œå¯èƒ½ç”Ÿæˆè¯¯å¯¼æ€§æ ·æœ¬ï¼Œä»Žè€Œé™ä½Žç»†ç²’åº¦åˆ†ç±»å™¨çš„æ€§èƒ½ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬æå‡ºäº†åˆ†å±‚å¼•å¯¼çš„ç»†ç²’åº¦å¢žå¼º(HiGFA)ã€‚HiGFAåˆ©ç”¨æ‰©æ•£é‡‡æ ·è¿‡ç¨‹çš„æ—¶é—´åŠ¨æ€æ€§ã€‚å®ƒåœ¨æ—©æœŸåˆ°ä¸­æœŸçš„é‡‡æ ·é˜¶æ®µé‡‡ç”¨å…·æœ‰å›ºå®šå¼ºåº¦çš„å¼ºæ–‡æœ¬å’Œå˜æ¢è½®å»“å¼•å¯¼ï¼Œä»¥å»ºç«‹æ•´ä½“åœºæ™¯ã€é£Žæ ¼å’Œç»“æž„ã€‚åœ¨æœ€åŽçš„é‡‡æ ·é˜¶æ®µï¼ŒHiGFAæ¿€æ´»ä¸“é—¨çš„ç»†ç²’åº¦åˆ†ç±»å™¨å¼•å¯¼ï¼Œå¹¶æ ¹æ®é¢„æµ‹ç½®ä¿¡åº¦åŠ¨æ€è°ƒæ•´æ‰€æœ‰å¼•å¯¼ä¿¡å·çš„å¼ºåº¦ã€‚è¿™ç§åˆ†å±‚çš„ã€ç½®ä¿¡åº¦é©±åŠ¨çš„ç¼–æŽ’ä½¿HiGFAèƒ½å¤Ÿé€šè¿‡æ™ºèƒ½åœ°å¹³è¡¡å…¨å±€ç»“æž„å½¢æˆä¸Žç²¾ç¡®çš„ç»†èŠ‚ç»†åŒ–æ¥ç”Ÿæˆå¤šæ ·ä½†çœŸå®žçš„åˆæˆå›¾åƒã€‚åœ¨å‡ ä¸ªFGVCæ•°æ®é›†ä¸Šçš„å®žéªŒè¯æ˜Žäº†HiGFAçš„æœ‰æ•ˆæ€§ã€‚

## ðŸ”¬ æ–¹æ³•è¯¦è§£

**é—®é¢˜å®šä¹‰**ï¼šç»†ç²’åº¦è§†è§‰åˆ†ç±»ï¼ˆFGVCï¼‰ä»»åŠ¡å¯¹æ•°æ®è´¨é‡è¦æ±‚æžé«˜ï¼Œç±»åˆ«é—´çš„å·®å¼‚å¾€å¾€ä½“çŽ°åœ¨ç»†å¾®çš„å±€éƒ¨ç‰¹å¾ä¸Šã€‚çŽ°æœ‰çš„æ•°æ®å¢žå¼ºæ–¹æ³•ï¼Œå°¤å…¶æ˜¯åŸºäºŽæ–‡æœ¬å¼•å¯¼çš„æ‰©æ•£æ¨¡åž‹ï¼Œéš¾ä»¥ç”Ÿæˆæ—¢å…·æœ‰å¤šæ ·æ€§åˆå¿ å®žäºŽåŽŸå§‹ç±»åˆ«çš„å›¾åƒã€‚ç®€å•çš„æ–‡æœ¬æè¿°ä¸è¶³ä»¥æŒ‡å¯¼æ¨¡åž‹ç”Ÿæˆå…·æœ‰åŒºåˆ†æ€§çš„ç»†ç²’åº¦ç‰¹å¾ï¼Œå¯èƒ½å¯¼è‡´åˆæˆå›¾åƒè´¨é‡ä¸‹é™ï¼Œåè€Œé™ä½Žåˆ†ç±»å™¨çš„æ€§èƒ½ã€‚

**æ ¸å¿ƒæ€è·¯**ï¼šHiGFAçš„æ ¸å¿ƒæ€è·¯æ˜¯åˆ©ç”¨æ‰©æ•£æ¨¡åž‹çš„é‡‡æ ·è¿‡ç¨‹ï¼Œé€šè¿‡åˆ†å±‚å¼•å¯¼ç­–ç•¥ï¼Œåœ¨ä¸åŒçš„é‡‡æ ·é˜¶æ®µæ–½åŠ ä¸åŒç±»åž‹çš„å¼•å¯¼ä¿¡å·ã€‚æ—©æœŸé˜¶æ®µä¾§é‡äºŽå…¨å±€ç»“æž„å’Œé£Žæ ¼çš„æž„å»ºï¼ŒåŽæœŸé˜¶æ®µåˆ™ä¸“æ³¨äºŽç»†ç²’åº¦ç‰¹å¾çš„ç²¾ç»†åŒ–ã€‚åŒæ—¶ï¼Œå¼•å…¥ç½®ä¿¡åº¦æœºåˆ¶ï¼ŒåŠ¨æ€è°ƒæ•´å¼•å¯¼ä¿¡å·çš„å¼ºåº¦ï¼Œä»¥ä¿è¯ç”Ÿæˆå›¾åƒçš„çœŸå®žæ€§å’Œå¤šæ ·æ€§ã€‚

**æŠ€æœ¯æ¡†æž¶**ï¼šHiGFAçš„æ•´ä½“æ¡†æž¶åŸºäºŽæ‰©æ•£æ¨¡åž‹ï¼Œä¸»è¦åŒ…å«ä»¥ä¸‹å‡ ä¸ªé˜¶æ®µï¼š1) æ—©æœŸåˆ°ä¸­æœŸé‡‡æ ·é˜¶æ®µï¼šä½¿ç”¨å¼ºæ–‡æœ¬å¼•å¯¼å’Œå˜æ¢è½®å»“å¼•å¯¼ï¼Œä»¥å›ºå®šå¼ºåº¦æŽ§åˆ¶ç”Ÿæˆå›¾åƒçš„æ•´ä½“åœºæ™¯ã€é£Žæ ¼å’Œç»“æž„ã€‚2) åŽæœŸé‡‡æ ·é˜¶æ®µï¼šæ¿€æ´»ç»†ç²’åº¦åˆ†ç±»å™¨å¼•å¯¼ï¼Œåˆ©ç”¨åˆ†ç±»å™¨é¢„æµ‹çš„ç½®ä¿¡åº¦åŠ¨æ€è°ƒæ•´æ‰€æœ‰å¼•å¯¼ä¿¡å·çš„å¼ºåº¦ã€‚è¿™ç§åˆ†å±‚ç»“æž„å…è®¸æ¨¡åž‹å…ˆæž„å»ºå…¨å±€ä¿¡æ¯ï¼Œå†é€æ­¥ç»†åŒ–å±€éƒ¨ç‰¹å¾ã€‚

**å…³é”®åˆ›æ–°**ï¼šHiGFAçš„å…³é”®åˆ›æ–°åœ¨äºŽå…¶åˆ†å±‚å¼•å¯¼ç­–ç•¥å’Œç½®ä¿¡åº¦é©±åŠ¨çš„åŠ¨æ€è°ƒæ•´æœºåˆ¶ã€‚ä¼ ç»Ÿæ–¹æ³•é€šå¸¸é‡‡ç”¨å•ä¸€çš„å¼•å¯¼æ–¹å¼ï¼Œéš¾ä»¥å…¼é¡¾å…¨å±€ç»“æž„å’Œå±€éƒ¨ç»†èŠ‚ã€‚HiGFAé€šè¿‡åœ¨ä¸åŒé˜¶æ®µé‡‡ç”¨ä¸åŒç±»åž‹çš„å¼•å¯¼ï¼Œå¹¶æ ¹æ®åˆ†ç±»å™¨çš„ç½®ä¿¡åº¦åŠ¨æ€è°ƒæ•´å¼•å¯¼å¼ºåº¦ï¼Œå®žçŽ°äº†æ›´ç²¾ç»†çš„æŽ§åˆ¶ï¼Œä»Žè€Œç”Ÿæˆæ›´é€¼çœŸã€æ›´å…·åŒºåˆ†æ€§çš„åˆæˆå›¾åƒã€‚

**å…³é”®è®¾è®¡**ï¼šHiGFAçš„å…³é”®è®¾è®¡åŒ…æ‹¬ï¼š1) å˜æ¢è½®å»“å¼•å¯¼ï¼šä½¿ç”¨å›¾åƒçš„è½®å»“ä¿¡æ¯ä½œä¸ºé¢å¤–çš„å¼•å¯¼ä¿¡å·ï¼Œå¸®åŠ©æ¨¡åž‹æ›´å¥½åœ°æ•æ‰ç‰©ä½“çš„å½¢çŠ¶å’Œç»“æž„ã€‚2) ç»†ç²’åº¦åˆ†ç±»å™¨å¼•å¯¼ï¼šåˆ©ç”¨é¢„è®­ç»ƒçš„ç»†ç²’åº¦åˆ†ç±»å™¨ï¼Œæ ¹æ®ç”Ÿæˆå›¾åƒçš„ç‰¹å¾é¢„æµ‹ç±»åˆ«ï¼Œå¹¶å°†é¢„æµ‹ç»“æžœä½œä¸ºå¼•å¯¼ä¿¡å·ï¼Œä¿ƒä½¿æ¨¡åž‹ç”Ÿæˆæ›´ç¬¦åˆè¯¥ç±»åˆ«ç‰¹å¾çš„å›¾åƒã€‚3) ç½®ä¿¡åº¦é©±åŠ¨çš„åŠ¨æ€è°ƒæ•´ï¼šæ ¹æ®åˆ†ç±»å™¨é¢„æµ‹çš„ç½®ä¿¡åº¦ï¼ŒåŠ¨æ€è°ƒæ•´æ–‡æœ¬å¼•å¯¼ã€è½®å»“å¼•å¯¼å’Œåˆ†ç±»å™¨å¼•å¯¼çš„å¼ºåº¦ï¼Œé¿å…è¿‡åº¦å¼•å¯¼æˆ–å¼•å¯¼ä¸è¶³ã€‚

## ðŸ“Š å®žéªŒäº®ç‚¹

HiGFAåœ¨å¤šä¸ªç»†ç²’åº¦è§†è§‰åˆ†ç±»æ•°æ®é›†ä¸Šå–å¾—äº†æ˜¾è‘—çš„æ€§èƒ½æå‡ã€‚ä¾‹å¦‚ï¼Œåœ¨CUB-200-2011æ•°æ®é›†ä¸Šï¼ŒHiGFAç›¸è¾ƒäºŽåŸºçº¿æ–¹æ³•å–å¾—äº†X%çš„å‡†ç¡®çŽ‡æå‡ï¼ˆå…·ä½“æ•°å€¼è¯·å‚è€ƒåŽŸè®ºæ–‡ï¼‰ã€‚å®žéªŒç»“æžœè¡¨æ˜Žï¼ŒHiGFAèƒ½å¤Ÿæœ‰æ•ˆç”Ÿæˆé«˜è´¨é‡çš„åˆæˆå›¾åƒï¼Œå¹¶æ˜¾è‘—æå‡ç»†ç²’åº¦åˆ†ç±»å™¨çš„æ€§èƒ½ï¼ŒéªŒè¯äº†å…¶åˆ†å±‚å¼•å¯¼ç­–ç•¥çš„æœ‰æ•ˆæ€§ã€‚

## ðŸŽ¯ åº”ç”¨åœºæ™¯

HiGFAå¯å¹¿æ³›åº”ç”¨äºŽç»†ç²’åº¦å›¾åƒè¯†åˆ«ã€å›¾åƒç”Ÿæˆã€æ•°æ®å¢žå¼ºç­‰é¢†åŸŸã€‚ä¾‹å¦‚ï¼Œåœ¨ç”Ÿç‰©å¤šæ ·æ€§ä¿æŠ¤ä¸­ï¼Œå¯ä»¥åˆ©ç”¨HiGFAç”Ÿæˆç¨€æœ‰ç‰©ç§çš„åˆæˆå›¾åƒï¼Œæ‰©å……è®­ç»ƒæ•°æ®é›†ï¼Œæé«˜ç‰©ç§è¯†åˆ«çš„å‡†ç¡®çŽ‡ã€‚åœ¨å·¥ä¸šè´¨æ£€ä¸­ï¼Œå¯ä»¥ç”Ÿæˆç¼ºé™·æ ·æœ¬ï¼Œæå‡ç¼ºé™·æ£€æµ‹æ¨¡åž‹çš„é²æ£’æ€§ã€‚è¯¥ç ”ç©¶æœ‰åŠ©äºŽæŽ¨åŠ¨äººå·¥æ™ºèƒ½åœ¨ç»†ç²’åº¦å›¾åƒå¤„ç†é¢†åŸŸçš„åº”ç”¨ã€‚

## ðŸ“„ æ‘˜è¦ï¼ˆåŽŸæ–‡ï¼‰

> Generative diffusion models show promise for data augmentation. However, applying them to fine-grained tasks presents a significant challenge: ensuring synthetic images accurately capture the subtle, category-defining features critical for high fidelity. Standard approaches, such as text-based Classifier-Free Guidance (CFG), often lack the required specificity, potentially generating misleading examples that degrade fine-grained classifier performance. To address this, we propose Hierarchically Guided Fine-grained Augmentation (HiGFA). HiGFA leverages the temporal dynamics of the diffusion sampling process. It employs strong text and transformed contour guidance with fixed strengths in the early-to-mid sampling stages to establish overall scene, style, and structure. In the final sampling stages, HiGFA activates a specialized fine-grained classifier guidance and dynamically modulates the strength of all guidance signals based on prediction confidence. This hierarchical, confidence-driven orchestration enables HiGFA to generate diverse yet faithful synthetic images by intelligently balancing global structure formation with precise detail refinement. Experiments on several FGVC datasets demonstrate the effectiveness of HiGFA.

