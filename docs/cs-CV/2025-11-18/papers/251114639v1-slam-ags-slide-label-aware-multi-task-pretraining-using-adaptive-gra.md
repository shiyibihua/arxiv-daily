---
layout: default
title: SLAM-AGS: Slide-Label Aware Multi-Task Pretraining Using Adaptive Gradient Surgery in Computational Cytology
---

# SLAM-AGS: Slide-Label Aware Multi-Task Pretraining Using Adaptive Gradient Surgery in Computational Cytology

**arXiv**: [2511.14639v1](https://arxiv.org/abs/2511.14639) | [PDF](https://arxiv.org/pdf/2511.14639.pdf)

**ä½œè€…**: Marco Acerbis, Swarnadip Chatterjee, Christophe Avenel, Joakim Lindblad

**åˆ†ç±»**: cs.CV

**å‘å¸ƒæ—¥æœŸ**: 2025-11-18

**å¤‡æ³¨**: 5 pages, 2 figures, Submitted to ISBI2026

**ðŸ”— ä»£ç /é¡¹ç›®**: [GITHUB](https://github.com/Ace95/SLAM-AGS)

---

## ðŸ’¡ ä¸€å¥è¯è¦ç‚¹

**SLAM-AGSï¼šè®¡ç®—ç»†èƒžå­¦ä¸­åŸºäºŽè‡ªé€‚åº”æ¢¯åº¦æ‰‹æœ¯çš„Slide-Labelæ„ŸçŸ¥å¤šä»»åŠ¡é¢„è®­ç»ƒ**

ðŸŽ¯ **åŒ¹é…é¢†åŸŸ**: **æ”¯æŸ±ä¸‰ï¼šç©ºé—´æ„ŸçŸ¥ (Perception & SLAM)**

**å…³é”®è¯**: `è®¡ç®—ç»†èƒžå­¦` `å¤šä»»åŠ¡å­¦ä¹ ` `å¼±ç›‘ç£å­¦ä¹ ` `è‡ªç›‘ç£å­¦ä¹ ` `æ¢¯åº¦æ‰‹æœ¯` `å¤šç¤ºä¾‹å­¦ä¹ ` `éª¨é«“ç»†èƒžå­¦`

## ðŸ“‹ æ ¸å¿ƒè¦ç‚¹

1. è®¡ç®—ç»†èƒžå­¦ä¸­ï¼Œå®žä¾‹æ ‡ç­¾èŽ·å–æˆæœ¬é«˜æ˜‚ä¸”è´¨é‡å·®ï¼Œé˜³æ€§æ ·æœ¬æ¯”ä¾‹æžä½Žï¼Œé™åˆ¶äº†æ¨¡åž‹è®­ç»ƒæ•ˆæžœã€‚
2. SLAM-AGSæ¡†æž¶é€šè¿‡è”åˆä¼˜åŒ–å¼±ç›‘ç£ç›¸ä¼¼æ€§å’Œè‡ªç›‘ç£å¯¹æ¯”ç›®æ ‡ï¼Œå¹¶ä½¿ç”¨è‡ªé€‚åº”æ¢¯åº¦æ‰‹æœ¯ç¨³å®šè®­ç»ƒè¿‡ç¨‹ã€‚
3. å®žéªŒè¡¨æ˜Žï¼Œåœ¨ä½Žé˜³æ€§æ ·æœ¬æ¯”ä¾‹ä¸‹ï¼ŒSLAM-AGSåœ¨åŒ…çº§åˆ«F1åˆ†æ•°å’Œé˜³æ€§ç»†èƒžæ£€ç´¢æ–¹é¢æ˜¾è‘—ä¼˜äºŽå…¶ä»–é¢„è®­ç»ƒæ–¹æ³•ã€‚

## ðŸ“ æ‘˜è¦ï¼ˆä¸­æ–‡ï¼‰

è®¡ç®—ç»†èƒžå­¦é¢ä¸´ä¸¤å¤§æŒ‘æˆ˜ï¼ši) å®žä¾‹çº§åˆ«çš„æ ‡ç­¾ä¸å¯é ä¸”èŽ·å–æˆæœ¬é«˜æ˜‚ï¼Œii) é˜³æ€§æ ·æœ¬æ¯”ä¾‹æžä½Žã€‚æˆ‘ä»¬æå‡ºäº†SLAM-AGSï¼Œä¸€ä¸ªSlide-Labelæ„ŸçŸ¥çš„å¤šä»»åŠ¡é¢„è®­ç»ƒæ¡†æž¶ï¼Œå®ƒè”åˆä¼˜åŒ–(i) slide-negative patchesä¸Šçš„å¼±ç›‘ç£ç›¸ä¼¼æ€§ç›®æ ‡å’Œ(ii) slide-positive patchesä¸Šçš„è‡ªç›‘ç£å¯¹æ¯”ç›®æ ‡ï¼Œä»Žè€Œåœ¨ä¸‹æ¸¸ä»»åŠ¡ä¸­èŽ·å¾—æ›´å¼ºçš„æ€§èƒ½ã€‚ä¸ºäº†ç¨³å®šå­¦ä¹ ï¼Œæˆ‘ä»¬åº”ç”¨è‡ªé€‚åº”æ¢¯åº¦æ‰‹æœ¯æ¥è§£å†³å†²çªçš„ä»»åŠ¡æ¢¯åº¦å¹¶é˜²æ­¢æ¨¡åž‹å´©æºƒã€‚æˆ‘ä»¬å°†é¢„è®­ç»ƒçš„ç¼–ç å™¨é›†æˆåˆ°åŸºäºŽæ³¨æ„åŠ›çš„å¤šç¤ºä¾‹å­¦ä¹ èšåˆå™¨ä¸­ï¼Œç”¨äºŽåŒ…çº§åˆ«çš„é¢„æµ‹å’Œå¯¹åŒ…ä¸­æœ€å¼‚å¸¸å®žä¾‹çš„æ³¨æ„å¼•å¯¼æ£€ç´¢ã€‚åœ¨ä¸€ä¸ªå…¬å¼€çš„éª¨é«“ç»†èƒžå­¦æ•°æ®é›†ä¸Šï¼Œæ¨¡æ‹Ÿé˜³æ€§æ ·æœ¬æ¯”ä¾‹ä»Ž10%é™è‡³0.5%ï¼ŒSLAM-AGSåœ¨åŒ…çº§åˆ«F1åˆ†æ•°å’ŒTop 400é˜³æ€§ç»†èƒžæ£€ç´¢æ–¹é¢ä¼˜äºŽå…¶ä»–é¢„è®­ç»ƒæ–¹æ³•ï¼Œå°¤å…¶æ˜¯åœ¨ä½Žé˜³æ€§æ ·æœ¬æ¯”ä¾‹ä¸‹å¢žç›Šæœ€å¤§ï¼Œè¡¨æ˜Žè§£å†³æ¢¯åº¦å¹²æ‰°èƒ½å¤Ÿå®žçŽ°ç¨³å®šçš„é¢„è®­ç»ƒå¹¶åœ¨ä¸‹æ¸¸ä»»åŠ¡ä¸­èŽ·å¾—æ›´å¥½çš„æ€§èƒ½ã€‚ä¸ºäº†æ–¹ä¾¿é‡çŽ°ï¼Œæˆ‘ä»¬ä»¥å¼€æºå½¢å¼åˆ†äº«äº†å®Œæ•´çš„å®žçŽ°å’Œè¯„ä¼°æ¡†æž¶ï¼šhttps://github.com/Ace95/SLAM-AGSã€‚

## ðŸ”¬ æ–¹æ³•è¯¦è§£

**é—®é¢˜å®šä¹‰**ï¼šè®¡ç®—ç»†èƒžå­¦ä¸­ï¼Œç»†èƒžå›¾åƒçš„å®žä¾‹çº§åˆ«æ ‡æ³¨æˆæœ¬é«˜æ˜‚ä¸”è´¨é‡éš¾ä»¥ä¿è¯ï¼ŒåŒæ—¶é˜³æ€§ç»†èƒžçš„æ¯”ä¾‹é€šå¸¸æžä½Žï¼Œè¿™ç»™æ¨¡åž‹çš„è®­ç»ƒå¸¦æ¥äº†æžå¤§çš„æŒ‘æˆ˜ã€‚çŽ°æœ‰çš„æ–¹æ³•éš¾ä»¥æœ‰æ•ˆåˆ©ç”¨æœ‰é™çš„æ ‡æ³¨ä¿¡æ¯ï¼Œå¹¶ä¸”å®¹æ˜“å—åˆ°ç±»åˆ«ä¸å¹³è¡¡çš„å½±å“ï¼Œå¯¼è‡´æ¨¡åž‹æ€§èƒ½ä¸ä½³ã€‚

**æ ¸å¿ƒæ€è·¯**ï¼šSLAM-AGSçš„æ ¸å¿ƒæ€è·¯æ˜¯åˆ©ç”¨slide-levelçš„å¼±æ ‡ç­¾ä¿¡æ¯ï¼Œé€šè¿‡å¤šä»»åŠ¡å­¦ä¹ çš„æ–¹å¼ï¼ŒåŒæ—¶å­¦ä¹ slide-negative patchesçš„ç›¸ä¼¼æ€§å’Œslide-positive patchesçš„å¯¹æ¯”ç‰¹å¾ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼Œæ¨¡åž‹å¯ä»¥æ›´å¥½åœ°åˆ©ç”¨æœ‰é™çš„æ ‡æ³¨ä¿¡æ¯ï¼Œå¹¶ä¸”èƒ½å¤Ÿå­¦ä¹ åˆ°æ›´é²æ£’çš„ç‰¹å¾è¡¨ç¤ºã€‚æ­¤å¤–ï¼Œä¸ºäº†è§£å†³å¤šä»»åŠ¡å­¦ä¹ ä¸­æ¢¯åº¦å†²çªçš„é—®é¢˜ï¼Œå¼•å…¥äº†è‡ªé€‚åº”æ¢¯åº¦æ‰‹æœ¯ï¼Œä»Žè€Œç¨³å®šè®­ç»ƒè¿‡ç¨‹ã€‚

**æŠ€æœ¯æ¡†æž¶**ï¼šSLAM-AGSçš„æ•´ä½“æ¡†æž¶åŒ…æ‹¬ä¸‰ä¸ªä¸»è¦éƒ¨åˆ†ï¼šé¢„è®­ç»ƒé˜¶æ®µã€å¤šç¤ºä¾‹å­¦ä¹ èšåˆé˜¶æ®µå’Œæ£€ç´¢é˜¶æ®µã€‚åœ¨é¢„è®­ç»ƒé˜¶æ®µï¼Œä½¿ç”¨slide-levelçš„å¼±æ ‡ç­¾ä¿¡æ¯ï¼Œé€šè¿‡å¤šä»»åŠ¡å­¦ä¹ çš„æ–¹å¼ï¼ŒåŒæ—¶å­¦ä¹ slide-negative patchesçš„ç›¸ä¼¼æ€§å’Œslide-positive patchesçš„å¯¹æ¯”ç‰¹å¾ã€‚åœ¨å¤šç¤ºä¾‹å­¦ä¹ èšåˆé˜¶æ®µï¼Œå°†é¢„è®­ç»ƒçš„ç¼–ç å™¨é›†æˆåˆ°åŸºäºŽæ³¨æ„åŠ›çš„å¤šç¤ºä¾‹å­¦ä¹ èšåˆå™¨ä¸­ï¼Œç”¨äºŽåŒ…çº§åˆ«çš„é¢„æµ‹ã€‚åœ¨æ£€ç´¢é˜¶æ®µï¼Œåˆ©ç”¨æ³¨æ„åŠ›æœºåˆ¶å¼•å¯¼æ£€ç´¢åŒ…ä¸­æœ€å¼‚å¸¸çš„å®žä¾‹ã€‚

**å…³é”®åˆ›æ–°**ï¼šSLAM-AGSçš„å…³é”®åˆ›æ–°åœ¨äºŽä»¥ä¸‹å‡ ä¸ªæ–¹é¢ï¼š1) æå‡ºäº†Slide-Labelæ„ŸçŸ¥çš„å¤šä»»åŠ¡é¢„è®­ç»ƒæ¡†æž¶ï¼Œèƒ½å¤Ÿæœ‰æ•ˆåˆ©ç”¨slide-levelçš„å¼±æ ‡ç­¾ä¿¡æ¯ã€‚2) å¼•å…¥äº†è‡ªé€‚åº”æ¢¯åº¦æ‰‹æœ¯ï¼Œè§£å†³äº†å¤šä»»åŠ¡å­¦ä¹ ä¸­æ¢¯åº¦å†²çªçš„é—®é¢˜ï¼Œä»Žè€Œç¨³å®šè®­ç»ƒè¿‡ç¨‹ã€‚3) å°†é¢„è®­ç»ƒçš„ç¼–ç å™¨é›†æˆåˆ°åŸºäºŽæ³¨æ„åŠ›çš„å¤šç¤ºä¾‹å­¦ä¹ èšåˆå™¨ä¸­ï¼Œç”¨äºŽåŒ…çº§åˆ«çš„é¢„æµ‹å’Œå¼‚å¸¸å®žä¾‹æ£€ç´¢ã€‚

**å…³é”®è®¾è®¡**ï¼šåœ¨å¤šä»»åŠ¡å­¦ä¹ ä¸­ï¼Œä½¿ç”¨äº†å¼±ç›‘ç£ç›¸ä¼¼æ€§æŸå¤±å’Œè‡ªç›‘ç£å¯¹æ¯”æŸå¤±ã€‚å¼±ç›‘ç£ç›¸ä¼¼æ€§æŸå¤±ç”¨äºŽå­¦ä¹ slide-negative patchesçš„ç›¸ä¼¼æ€§ï¼Œè‡ªç›‘ç£å¯¹æ¯”æŸå¤±ç”¨äºŽå­¦ä¹ slide-positive patchesçš„å¯¹æ¯”ç‰¹å¾ã€‚è‡ªé€‚åº”æ¢¯åº¦æ‰‹æœ¯é€šè¿‡åŠ¨æ€è°ƒæ•´æ¯ä¸ªä»»åŠ¡çš„æ¢¯åº¦æ–¹å‘ï¼Œä»Žè€Œè§£å†³æ¢¯åº¦å†²çªçš„é—®é¢˜ã€‚æ³¨æ„åŠ›æœºåˆ¶ç”¨äºŽå­¦ä¹ æ¯ä¸ªå®žä¾‹çš„é‡è¦æ€§ï¼Œä»Žè€Œå®žçŽ°åŒ…çº§åˆ«çš„é¢„æµ‹å’Œå¼‚å¸¸å®žä¾‹æ£€ç´¢ã€‚

## ðŸ“Š å®žéªŒäº®ç‚¹

åœ¨éª¨é«“ç»†èƒžå­¦æ•°æ®é›†ä¸Šï¼ŒSLAM-AGSåœ¨ä½Žé˜³æ€§æ ·æœ¬æ¯”ä¾‹ï¼ˆ0.5%-10%ï¼‰ä¸‹ï¼Œæ˜¾è‘—æå‡äº†åŒ…çº§åˆ«F1åˆ†æ•°å’ŒTop 400é˜³æ€§ç»†èƒžæ£€ç´¢æ€§èƒ½ï¼Œè¶…è¶Šäº†å…¶ä»–é¢„è®­ç»ƒæ–¹æ³•ã€‚ä¾‹å¦‚ï¼Œåœ¨0.5%é˜³æ€§æ ·æœ¬æ¯”ä¾‹ä¸‹ï¼ŒF1åˆ†æ•°æå‡è¶…è¿‡5%ï¼Œè¡¨æ˜Žè¯¥æ–¹æ³•åœ¨æ•°æ®ç¨€ç¼ºåœºæ™¯ä¸‹çš„æœ‰æ•ˆæ€§ã€‚

## ðŸŽ¯ åº”ç”¨åœºæ™¯

SLAM-AGSåœ¨è®¡ç®—ç»†èƒžå­¦é¢†åŸŸå…·æœ‰å¹¿æ³›çš„åº”ç”¨å‰æ™¯ï¼Œå¯ç”¨äºŽè¾…åŠ©è¯Šæ–­è¡€æ¶²è‚¿ç˜¤ã€æ„ŸæŸ“æ€§ç–¾ç—…ç­‰ã€‚è¯¥æ–¹æ³•èƒ½å¤Ÿæœ‰æ•ˆåˆ©ç”¨æœ‰é™çš„æ ‡æ³¨ä¿¡æ¯ï¼Œæé«˜è¯Šæ–­æ•ˆçŽ‡å’Œå‡†ç¡®æ€§ï¼Œé™ä½Žè¯Šæ–­æˆæœ¬ã€‚æœªæ¥ï¼Œè¯¥æ–¹æ³•æœ‰æœ›æŽ¨å¹¿åˆ°å…¶ä»–åŒ»å­¦å›¾åƒåˆ†æžé¢†åŸŸï¼Œä¾‹å¦‚ç—…ç†å›¾åƒåˆ†æžã€æ”¾å°„å½±åƒåˆ†æžç­‰ã€‚

## ðŸ“„ æ‘˜è¦ï¼ˆåŽŸæ–‡ï¼‰

> Computational cytology faces two major challenges: i) instance-level labels are unreliable and prohibitively costly to obtain, ii) witness rates are extremely low. We propose SLAM-AGS, a Slide-Label-Aware Multitask pretraining framework that jointly optimizes (i) a weakly supervised similarity objective on slide-negative patches and (ii) a self-supervised contrastive objective on slide-positive patches, yielding stronger performance on downstream tasks. To stabilize learning, we apply Adaptive Gradient Surgery to tackle conflicting task gradients and prevent model collapse. We integrate the pretrained encoder into an attention-based Multiple Instance Learning aggregator for bag-level prediction and attention-guided retrieval of the most abnormal instances in a bag. On a publicly available bone-marrow cytology dataset, with simulated witness rates from 10% down to 0.5%, SLAM-AGS improves bag-level F1-Score and Top 400 positive cell retrieval over other pretraining methods, with the largest gains at low witness rates, showing that resolving gradient interference enables stable pretraining and better performance on downstream tasks. To facilitate reproducibility, we share our complete implementation and evaluation framework as open source: https://github.com/Ace95/SLAM-AGS.

