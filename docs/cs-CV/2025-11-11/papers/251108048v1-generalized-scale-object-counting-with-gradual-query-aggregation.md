---
layout: default
title: Generalized-Scale Object Counting with Gradual Query Aggregation
---

# Generalized-Scale Object Counting with Gradual Query Aggregation

<div class="paper-toolbar">
  <div class="toolbar-left">
    <a href="https://arxiv.org/abs/2511.08048" target="_blank" class="toolbar-btn">arXiv: 2511.08048v1</a>
    <a href="https://arxiv.org/pdf/2511.08048.pdf" target="_blank" class="toolbar-btn">PDF</a>
  </div>
  <div class="toolbar-right">
    <button class="toolbar-btn favorite-btn" data-arxiv-id="2511.08048v1" 
            onclick="toggleFavorite(this, '2511.08048v1', 'Generalized-Scale Object Counting with Gradual Query Aggregation')" title="æ”¶è—">
      â˜† æ”¶è—
    </button>
    <button class="toolbar-btn share-btn" onclick="copyLink()" title="å¤åˆ¶é“¾æ¥">
      ğŸ”— åˆ†äº«
    </button>
  </div>
</div>


**ä½œè€…**: Jer Pelhan, Alan Lukezic, Matej Kristan

**åˆ†ç±»**: cs.CV

**å‘å¸ƒæ—¥æœŸ**: 2025-11-11

**å¤‡æ³¨**: Accepted to AAAI2026, code: https://github.com/jerpelhan/GECO2/

---

## ğŸ’¡ ä¸€å¥è¯è¦ç‚¹

**GECO2ï¼šé€šè¿‡æ¸è¿›å¼æŸ¥è¯¢èšåˆå®ç°å¹¿ä¹‰å°ºåº¦ç›®æ ‡è®¡æ•°**

ğŸ¯ **åŒ¹é…é¢†åŸŸ**: **æ”¯æŸ±ä¸€ï¼šæœºå™¨äººæ§åˆ¶ (Robot Control)**

**å…³é”®è¯**: `å°‘æ ·æœ¬å­¦ä¹ ` `ç›®æ ‡è®¡æ•°` `å¤šå°ºåº¦ç›®æ ‡æ£€æµ‹` `æ¸è¿›å¼æŸ¥è¯¢èšåˆ` `å¯†é›†é¢„æµ‹`

## ğŸ“‹ æ ¸å¿ƒè¦ç‚¹

1. ç°æœ‰å°‘æ ·æœ¬ç›®æ ‡è®¡æ•°æ–¹æ³•åœ¨å¤„ç†å¤šå°ºåº¦ç›®æ ‡å’Œé«˜å¯†åº¦å°ç›®æ ‡æ—¶å­˜åœ¨å›°éš¾ï¼Œä¸»è¦åŸå› æ˜¯ä¾èµ–äºåˆ†è¾¨ç‡èåˆå’Œå›¾åƒä¸Šé‡‡æ ·ç­‰ä¸´æ—¶æ–¹æ¡ˆã€‚
2. GECO2é€šè¿‡æ¸è¿›å¼èšåˆè·¨å°ºåº¦çš„æ ·æœ¬ç‰¹å¾ä¿¡æ¯ï¼Œç”Ÿæˆé«˜åˆ†è¾¨ç‡å¯†é›†æŸ¥è¯¢ï¼Œä»è€Œå®ç°å¯¹ä¸åŒå°ºåº¦ç›®æ ‡çš„æœ‰æ•ˆæ£€æµ‹ã€‚
3. å®éªŒç»“æœè¡¨æ˜ï¼ŒGECO2åœ¨è®¡æ•°å’Œæ£€æµ‹ç²¾åº¦ä¸Šå‡ä¼˜äºç°æœ‰æŠ€æœ¯ï¼Œä¸”è¿è¡Œé€Ÿåº¦æ›´å¿«ï¼Œå†…å­˜å ç”¨æ›´å°ï¼Œæ€§èƒ½æå‡æ˜¾è‘—ã€‚

## ğŸ“ æ‘˜è¦ï¼ˆä¸­æ–‡ï¼‰

åŸºäºå°‘æ ·æœ¬æ£€æµ‹çš„è®¡æ•°å™¨é€šè¿‡å°‘é‡æµ‹è¯•æ ·æœ¬æ¥ä¼°è®¡å›¾åƒä¸­ç›®æ ‡çš„æ•°é‡ã€‚ä¸€ç§å¸¸è§çš„æ–¹æ³•æ˜¯èåˆä¸åŒåˆ†è¾¨ç‡çš„ä¸»å¹²ç‰¹å¾æ¥å®šä½ä¸åŒå¤§å°çš„ç›®æ ‡ã€‚æ­¤å¤–ï¼Œä¸ºäº†åœ¨å¯†é›†åŒºåŸŸä¸­æ£€æµ‹å°ç›®æ ‡ï¼Œé€šå¸¸å¯¹è¾“å…¥å›¾åƒè¿›è¡Œä¸Šé‡‡æ ·å’Œåˆ†å—ï¼Œä»¥åº”å¯¹å¢åŠ çš„è®¡ç®—å’Œå†…å­˜éœ€æ±‚ã€‚ç”±äºè¿™äº›ä¸´æ—¶è§£å†³æ–¹æ¡ˆï¼Œç°æœ‰çš„è®¡æ•°å™¨åœ¨å¤„ç†åŒ…å«ä¸åŒå¤§å°ç›®æ ‡å’Œå¯†é›†å°ç›®æ ‡åŒºåŸŸçš„å›¾åƒæ—¶è¡¨ç°ä¸ä½³ã€‚æˆ‘ä»¬æå‡ºäº†GECO2ï¼Œä¸€ç§ç«¯åˆ°ç«¯çš„å°‘æ ·æœ¬è®¡æ•°å’Œæ£€æµ‹æ–¹æ³•ï¼Œå®ƒæ˜¾å¼åœ°è§£å†³äº†ç›®æ ‡å°ºåº¦é—®é¢˜ã€‚ä¸€ç§æ–°çš„å¯†é›†æŸ¥è¯¢è¡¨ç¤ºé€æ­¥èšåˆè·¨å°ºåº¦çš„ç‰¹å®šäºæ ·æœ¬çš„ç‰¹å¾ä¿¡æ¯ï¼Œä»è€Œäº§ç”Ÿé«˜åˆ†è¾¨ç‡çš„å¯†é›†æŸ¥è¯¢ï¼Œä»è€Œèƒ½å¤Ÿæ£€æµ‹å¤§ç›®æ ‡å’Œå°ç›®æ ‡ã€‚GECO2åœ¨è®¡æ•°å’Œæ£€æµ‹ç²¾åº¦ä¸Šéƒ½è¶…è¿‡äº†æœ€å…ˆè¿›çš„å°‘æ ·æœ¬è®¡æ•°å™¨10%ï¼ŒåŒæ—¶è¿è¡Œé€Ÿåº¦å¿«3å€ï¼ŒGPUå†…å­˜å ç”¨æ›´å°ã€‚

## ğŸ”¬ æ–¹æ³•è¯¦è§£

**é—®é¢˜å®šä¹‰**ï¼šç°æœ‰åŸºäºå°‘æ ·æœ¬æ£€æµ‹çš„ç›®æ ‡è®¡æ•°æ–¹æ³•ï¼Œåœ¨å¤„ç†åŒ…å«å¤šç§å°ºå¯¸ç›®æ ‡ï¼Œç‰¹åˆ«æ˜¯å°ç›®æ ‡å¯†é›†åˆ†å¸ƒçš„åœºæ™¯æ—¶ï¼Œæ€§èƒ½ä¼šæ˜¾è‘—ä¸‹é™ã€‚è¿™äº›æ–¹æ³•é€šå¸¸ä¾èµ–äºç®€å•çš„ç‰¹å¾èåˆå’Œå›¾åƒä¸Šé‡‡æ ·ç­‰ç­–ç•¥ï¼Œæ— æ³•æœ‰æ•ˆåº”å¯¹ç›®æ ‡å°ºåº¦çš„å¤šæ ·æ€§ï¼Œå¯¼è‡´è®¡æ•°ç²¾åº¦é™ä½ã€‚

**æ ¸å¿ƒæ€è·¯**ï¼šGECO2çš„æ ¸å¿ƒæ€è·¯æ˜¯åˆ©ç”¨æ¸è¿›å¼çš„æŸ¥è¯¢èšåˆï¼Œæ„å»ºä¸€ç§èƒ½å¤Ÿæœ‰æ•ˆå¤„ç†å¤šå°ºåº¦ç›®æ ‡çš„å¯†é›†æŸ¥è¯¢è¡¨ç¤ºã€‚é€šè¿‡é€æ­¥èåˆä¸åŒå°ºåº¦çš„ç‰¹å¾ä¿¡æ¯ï¼Œæ¨¡å‹èƒ½å¤Ÿæ›´å¥½åœ°ç†è§£ç›®æ ‡åœ¨ä¸åŒå°ºåº¦ä¸‹çš„ç‰¹å¾è¡¨è¾¾ï¼Œä»è€Œæé«˜æ£€æµ‹å’Œè®¡æ•°çš„å‡†ç¡®æ€§ã€‚

**æŠ€æœ¯æ¡†æ¶**ï¼šGECO2é‡‡ç”¨ç«¯åˆ°ç«¯çš„è®­ç»ƒæ–¹å¼ï¼Œä¸»è¦åŒ…å«ä»¥ä¸‹å‡ ä¸ªæ¨¡å—ï¼š1) ç‰¹å¾æå–ç½‘ç»œï¼ˆBackboneï¼‰ï¼šç”¨äºæå–è¾“å…¥å›¾åƒçš„å¤šå°ºåº¦ç‰¹å¾ï¼›2) æ ·æœ¬ç‰¹å¾ç¼–ç å™¨ï¼šç”¨äºç¼–ç å°‘æ ·æœ¬ç¤ºä¾‹çš„ç›®æ ‡ç‰¹å¾ï¼›3) æ¸è¿›å¼æŸ¥è¯¢èšåˆæ¨¡å—ï¼šå°†æ ·æœ¬ç‰¹å¾ä¿¡æ¯é€æ­¥èšåˆåˆ°ä¸åŒå°ºåº¦çš„ç‰¹å¾å›¾ä¸Šï¼Œç”Ÿæˆé«˜åˆ†è¾¨ç‡çš„å¯†é›†æŸ¥è¯¢ï¼›4) æ£€æµ‹å¤´ï¼šåŸºäºå¯†é›†æŸ¥è¯¢è¿›è¡Œç›®æ ‡æ£€æµ‹å’Œè®¡æ•°ã€‚

**å…³é”®åˆ›æ–°**ï¼šGECO2çš„å…³é”®åˆ›æ–°åœ¨äºå…¶æ¸è¿›å¼æŸ¥è¯¢èšåˆæ¨¡å—ã€‚è¯¥æ¨¡å—èƒ½å¤Ÿæœ‰æ•ˆåœ°èåˆä¸åŒå°ºåº¦çš„ç‰¹å¾ä¿¡æ¯ï¼Œç”Ÿæˆå…·æœ‰ä¸°å¯Œä¸Šä¸‹æ–‡ä¿¡æ¯çš„é«˜åˆ†è¾¨ç‡å¯†é›†æŸ¥è¯¢ï¼Œä»è€Œæ˜¾è‘—æå‡äº†å¯¹å¤šå°ºåº¦ç›®æ ‡çš„æ£€æµ‹èƒ½åŠ›ã€‚ä¸ç°æœ‰æ–¹æ³•ä¸­ç®€å•çš„ç‰¹å¾èåˆç›¸æ¯”ï¼ŒGECO2çš„æ¸è¿›å¼èšåˆæ–¹å¼èƒ½å¤Ÿæ›´å¥½åœ°ä¿ç•™å’Œåˆ©ç”¨ä¸åŒå°ºåº¦çš„ç‰¹å¾ä¿¡æ¯ã€‚

**å…³é”®è®¾è®¡**ï¼šGECO2çš„å…·ä½“å®ç°ç»†èŠ‚åŒ…æ‹¬ï¼š1) ä½¿ç”¨ResNetç­‰æ·±åº¦å·ç§¯ç¥ç»ç½‘ç»œä½œä¸ºç‰¹å¾æå–ç½‘ç»œï¼›2) é‡‡ç”¨Transformerç­‰æ³¨æ„åŠ›æœºåˆ¶æ¥ç¼–ç æ ·æœ¬ç‰¹å¾ï¼›3) è®¾è®¡äº†ä¸€ç§å¤šå±‚çº§çš„èšåˆç»“æ„ï¼Œé€æ­¥å°†æ ·æœ¬ç‰¹å¾ä¿¡æ¯èåˆåˆ°ä¸åŒå°ºåº¦çš„ç‰¹å¾å›¾ä¸Šï¼›4) ä½¿ç”¨æ ‡å‡†çš„æ£€æµ‹æŸå¤±å‡½æ•°ï¼ˆå¦‚Focal Lossï¼‰è¿›è¡Œè®­ç»ƒã€‚

## ğŸ“Š å®éªŒäº®ç‚¹

GECO2åœ¨å°‘æ ·æœ¬ç›®æ ‡è®¡æ•°ä»»åŠ¡ä¸Šå–å¾—äº†æ˜¾è‘—çš„æ€§èƒ½æå‡ã€‚å®éªŒç»“æœè¡¨æ˜ï¼ŒGECO2åœ¨è®¡æ•°å’Œæ£€æµ‹ç²¾åº¦ä¸Šå‡è¶…è¿‡äº†å½“å‰æœ€å…ˆè¿›çš„æ–¹æ³•10%ï¼ŒåŒæ—¶è¿è¡Œé€Ÿåº¦æå‡äº†3å€ï¼Œå¹¶ä¸”å‡å°‘äº†GPUå†…å­˜å ç”¨ã€‚è¿™äº›ç»“æœå……åˆ†è¯æ˜äº†GECO2åœ¨å¤„ç†å¤šå°ºåº¦ç›®æ ‡è®¡æ•°é—®é¢˜ä¸Šçš„æœ‰æ•ˆæ€§å’Œä¼˜è¶Šæ€§ã€‚

## ğŸ¯ åº”ç”¨åœºæ™¯

GECO2åœ¨å¤šä¸ªé¢†åŸŸå…·æœ‰å¹¿æ³›çš„åº”ç”¨å‰æ™¯ï¼Œä¾‹å¦‚ï¼šæ™ºèƒ½å®‰é˜²ï¼ˆäººç¾¤è®¡æ•°ã€è½¦è¾†è®¡æ•°ï¼‰ã€é¥æ„Ÿå›¾åƒåˆ†æï¼ˆå»ºç­‘ç‰©è®¡æ•°ã€æ¤è¢«è®¡æ•°ï¼‰ã€åŒ»å­¦å›¾åƒåˆ†æï¼ˆç»†èƒè®¡æ•°ã€è‚¿ç˜¤æ£€æµ‹ï¼‰ç­‰ã€‚è¯¥æ–¹æ³•èƒ½å¤Ÿæœ‰æ•ˆå¤„ç†å¤æ‚åœºæ™¯ä¸‹çš„ç›®æ ‡è®¡æ•°é—®é¢˜ï¼Œå…·æœ‰é‡è¦çš„å®é™…åº”ç”¨ä»·å€¼ï¼Œå¹¶æœ‰æœ›æ¨åŠ¨ç›¸å…³é¢†åŸŸçš„å‘å±•ã€‚

## ğŸ“„ æ‘˜è¦ï¼ˆåŸæ–‡ï¼‰

> Few-shot detection-based counters estimate the number of instances in the image specified only by a few test-time exemplars. A common approach to localize objects across multiple sizes is to merge backbone features of different resolutions. Furthermore, to enable small object detection in densely populated regions, the input image is commonly upsampled and tiling is applied to cope with the increased computational and memory requirements. Because of these ad-hoc solutions, existing counters struggle with images containing diverse-sized objects and densely populated regions of small objects. We propose GECO2, an end-to-end few-shot counting and detection method that explicitly addresses the object scale issues. A new dense query representation gradually aggregates exemplar-specific feature information across scales that leads to high-resolution dense queries that enable detection of large as well as small objects. GECO2 surpasses state-of-the-art few-shot counters in counting as well as detection accuracy by 10% while running 3x times faster at smaller GPU memory footprint.

